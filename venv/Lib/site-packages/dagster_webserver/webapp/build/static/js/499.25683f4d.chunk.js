"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[499],{97021:function(e,n,t){t.d(n,{b:function(){return Ce},G:function(){return ke}});var r,i,s,o,a=t(71171),l=t(32723),c=t(34795),u=t(96234),d=t(15541),p=t(31623),h=t(4537),x=t(67888),f=t(78193),m=t(80005),g=t(82182),j=t(62638),v=t(92014),y=t(3077),w=t(57103),b=t(47515),S=t(45519),k=t(35936),C=function(e){var n=e.backfill,t=e.onClose;return(0,k.jsxs)(y.Vq,{isOpen:!!n,title:(0,k.jsxs)("span",{children:["Partitions requested for backfill:"," ",(0,k.jsx)("span",{style:{fontSize:"18px",fontFamily:w.b.monospace},children:null===n||void 0===n?void 0:n.id})]}),onClose:t,children:[(0,k.jsx)(y.a7,{children:n&&n.partitionNames?(0,k.jsx)(b.x,{flex:{direction:"column",gap:8},style:{maxHeight:"80vh",overflowY:"auto"},children:n.partitionNames.map((function(e){return(0,k.jsx)("div",{children:e},e)}))}):null}),(0,k.jsx)(y.cN,{topBorder:!0,children:(0,k.jsx)(S.zx,{onClick:t,children:"Done"})})]})},N=t(60319),R=t(44719),P=t(83473),Z=t(73070),E=t(85357),I=t(61623),T=t(32667),_=t(95714),O=t(89522),D=t.n(O),U=t(97412),A=t(50032),z=t(39707),F=t(20822),L=t(23555),q=t(72374),$=t(24265),G=t(74492),M=t(20967),K=t(49020),B=t(95904),V=t(46856),J=t(54858),H=t(92761),W=t(66708),Y=t(9610),Q=t(63167),X=[function(){return Promise.resolve({data:void 0})},{data:void 0,called:!0,loading:!1}],ee=function(e){var n=e.backfill,t=e.allPartitions,r=e.showBackfillTarget,i=e.onTerminateBackfill,s=e.onResumeBackfill,o=e.onShowStepStatus,a=e.onShowPartitionsRequested,l=(0,R.t)(ue,{variables:{backfillId:n.id},notifyOnNetworkStatusChange:!0}),c=(0,R.t)(ce,{variables:{backfillId:n.id},notifyOnNetworkStatusChange:!0}),d=null===n.numPartitions||null===n.partitionNames,p=d?X:(n.numPartitions||0)>te?c:l,h=(0,u.Z)(p,2),x=h[0],m=h[1];(0,J.v5)(x),(0,z.C4)(m,z.dT);var g=m.data,j=f.useMemo((function(){var e;if("PartitionBackfill"!==(null===g||void 0===g?void 0:g.partitionBackfillOrError.__typename))return{counts:null,statuses:null};if("partitionStatusCounts"in g.partitionBackfillOrError)return{counts:Object.fromEntries(g.partitionBackfillOrError.partitionStatusCounts.map((function(e){return[e.runStatus,e.count]}))),statuses:null};var n=null===(e=g.partitionBackfillOrError.partitionStatuses)||void 0===e?void 0:e.results;return{counts:D()(n,(function(e){return e.runStatus})),statuses:n}}),[g]),v=j.counts,y=j.statuses,w=f.useMemo((function(){if(v){var e=v[L.VOA.QUEUED]||0,n=v[L.VOA.STARTED]||0;return e>0||n>0}return!1}),[v]);return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{width:120},children:(0,k.jsx)(P.fv,{style:{fontSize:"16px",lineHeight:"18px"},children:(0,k.jsx)(U.rU,{to:n.isAssetBackfill?"/overview/backfills/".concat(n.id):(0,B.it)([{token:"tag",value:"dagster/backfill=".concat(n.id)}]),children:n.id})})}),(0,k.jsx)("td",{style:{width:220},children:n.timestamp?(0,k.jsx)(V.v,{timestamp:n.timestamp}):"-"}),r?(0,k.jsx)("td",{style:{width:"20%"},children:(0,k.jsx)(ie,{backfill:n})}):null,(0,k.jsx)("td",{style:{width:t?300:140},children:(0,k.jsx)(se,{backfill:n,allPartitions:t,onExpand:function(){return a(n)}})}),(0,k.jsx)("td",{style:{width:140},children:v||d?(0,k.jsx)(ae,{backfill:n,counts:v}):(0,k.jsx)(J.mq,{queryResult:m,noneString:"\u2013"})}),(0,k.jsx)("td",{children:n.isValidSerialization?v&&y?(0,k.jsx)(re,{backfill:n,counts:v,statuses:y}):(0,k.jsx)(J.mq,{queryResult:m,noneString:"\u2013"}):(0,k.jsx)("p",{children:"A partitions definition has changed since this backfill ran."})}),(0,k.jsx)("td",{children:(0,k.jsx)(ne,{backfill:n,onResumeBackfill:s,onTerminateBackfill:i,onShowStepStatus:o,canCancelRuns:w})})]})},ne=function(e){var n=e.backfill,t=e.canCancelRuns,r=e.onTerminateBackfill,i=e.onResumeBackfill,s=e.onShowStepStatus,o=(0,A.k6)(),a=n.hasResumePermission,l=(0,B.it)([{token:"tag",value:"dagster/backfill=".concat(n.id)}]);return(0,k.jsx)(Z.J,{content:(0,k.jsxs)(E.v2,{children:[n.hasCancelPermission?(0,k.jsxs)(k.Fragment,{children:[n.isAssetBackfill&&n.status===L.Jv3.REQUESTED||n.numCancelable>0?(0,k.jsx)(E.sN,{text:"Cancel backfill submission",icon:"cancel",intent:"danger",onClick:function(){return r(n)}}):null,t?(0,k.jsx)(E.sN,{text:"Terminate unfinished runs",icon:"cancel",intent:"danger",onClick:function(){return r(n)}}):null]}):null,a&&n.status===L.Jv3.FAILED&&n.partitionSet?(0,k.jsx)(E.sN,{text:"Resume failed backfill",title:"Submits runs for all partitions in the backfill that do not have a corresponding run. Does not retry failed runs.",icon:"refresh",onClick:function(){return i(n)}}):null,(0,k.jsx)(E.sN,{text:"View backfill runs",icon:"settings_backup_restore",onClick:function(){return o.push(l)}}),(0,k.jsx)(E.sN,{text:"View step status",icon:"view_list",onClick:function(){s(n)}})]}),position:"bottom-right",children:(0,k.jsx)(S.zx,{icon:(0,k.jsx)(I.JO,{name:"expand_more"})})})},te=1e3,re=function(e){var n=e.backfill,t=e.statuses,r=e.counts,i=(0,A.k6)(),s=Object.entries(r).reduce((function(e,n){var t=(0,u.Z)(n,2),r=t[0],i=t[1];return e[r]=(e[r]||0)+i,e}),{}),o=f.useMemo((function(){return{runStatusForPartitionKey:function(e){var n;return(null===t||void 0===t||null===(n=t.filter((function(n){return n.partitionName===e}))[0])||void 0===n?void 0:n.runStatus)||L.VOA.NOT_STARTED}}}),[t]);return t&&n.partitionNames?(0,k.jsx)(q.b,{partitionNames:n.partitionNames,health:o,splitPartitions:!0,onClick:function(e){var n=t.find((function(n){return n.partitionName===e}));null!==n&&void 0!==n&&n.runId&&i.push("/runs/".concat(n.runId))}}):(0,k.jsx)(K.Y,{succeededCount:s[L.VOA.SUCCESS]||0,inProgressCount:s[L.VOA.STARTED]||0,failedCount:s[L.VOA.FAILURE]||0})},ie=function(e){var n=e.backfill,t=n.assetSelection,r=n.partitionSet,i=n.partitionSetName,s=r?(0,W.kQ)(r.repositoryOrigin.repositoryName,r.repositoryOrigin.repositoryLocationName):null,o=(0,H.Ux)(s),a=(0,F.pv)(i||"");return(0,k.jsxs)(b.x,{flex:{direction:"column",gap:8},children:[a?null:r&&o?(0,k.jsx)(U.rU,{style:{fontWeight:500},to:(0,Q.jT)({repoName:r.repositoryOrigin.repositoryName,repoLocation:r.repositoryOrigin.repositoryLocationName,pipelineName:r.pipelineName,isJob:(0,H.E8)(o,r.pipelineName),path:"/partitions?partitionSet=".concat(encodeURIComponent(r.name))}),children:r.name}):i?(0,k.jsx)("span",{style:{fontWeight:500},children:i}):null,(0,k.jsxs)(b.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[s?(0,k.jsxs)(b.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{fontSize:"12px"},children:[(0,k.jsx)(I.JO,{name:"repo",color:T.w.Gray400}),(0,k.jsx)(U.rU,{to:(0,Q.$U)(s),children:(0,Y.Uz)(s)})]}):void 0,null!==t&&void 0!==t&&t.length?(0,k.jsx)(G.m,{assetKeys:t,modalTitle:"Assets in backfill"}):r&&o?(0,k.jsx)($.h,{showIcon:!0,size:"small",pipelineName:r.pipelineName,pipelineHrefContext:{name:r.repositoryOrigin.repositoryName,location:r.repositoryOrigin.repositoryLocationName},isJob:(0,H.E8)(o,r.pipelineName)}):null]})]})},se=function(e){var n=e.allPartitions,t=e.backfill,r=e.onExpand,i=t.partitionNames,s=t.numPartitions;if(null===s)return(0,k.jsx)("span",{});var o="".concat(s.toLocaleString()," ").concat(1===s?"partition":"partitions");return(0,k.jsxs)(b.x,{flex:{direction:"column",gap:8},children:[(0,k.jsx)("div",{children:i?(0,k.jsx)(le,{onClick:r,children:(0,k.jsx)(_.V,{intent:"primary",interactive:!0,children:o})}):(0,k.jsx)(_.V,{intent:"primary",children:o})}),n&&i&&(0,k.jsx)(oe,{all:n,requested:i})]})},oe=function(e){var n=e.all,t=e.requested,r=f.useMemo((function(){return{runStatusForPartitionKey:function(e){return t&&t.includes(e)?L.VOA.QUEUED:L.VOA.NOT_STARTED}}}),[t]);return(0,k.jsx)(q.b,{small:!0,hideStatusTooltip:!0,partitionNames:n,health:r})},ae=function(e){var n=e.backfill,t=e.counts;switch(n.status){case L.Jv3.REQUESTED:return(0,k.jsx)(_.V,{children:"In Progress"});case L.Jv3.FAILED:return(0,k.jsx)(b.x,{margin:{bottom:12},children:(0,k.jsx)(le,{onClick:function(){return n.error&&(0,m._)({title:"Error",body:(0,k.jsx)(v.T9,{error:n.error})})},children:(0,k.jsx)(_.V,{intent:"danger",children:"Failed"})})});case L.Jv3.COMPLETED:return null===n.partitionNames?(0,k.jsx)(_.V,{intent:"success",children:"Completed"}):t?t[L.VOA.SUCCESS]===n.partitionNames.length?(0,k.jsx)(_.V,{intent:"success",children:"Completed"}):Array.from(M.Ys).some((function(e){return t[e]}))?(0,k.jsx)(_.V,{intent:"primary",children:"In progress"}):(0,k.jsx)(_.V,{intent:"warning",children:"Incomplete"}):(0,k.jsx)("div",{style:{color:T.w.Gray500},children:"None"});case L.Jv3.CANCELING:return(0,k.jsx)(_.V,{children:"Canceling"});case L.Jv3.CANCELED:return(0,k.jsx)(_.V,{children:"Canceled"})}},le=N.ZP.button.withConfig({displayName:"BackfillRow__TagButton",componentId:"sc-rau032-0"})(["border:none;background:none;cursor:pointer;padding:0;margin:0;:focus{outline:none;}"]),ce=(0,p.Ps)(r||(r=(0,a.Z)(["\n  query SingleBackfillCountsQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        id\n        partitionStatusCounts {\n          runStatus\n          count\n        }\n      }\n    }\n  }\n"]))),ue=(0,p.Ps)(i||(i=(0,a.Z)(["\n  query SingleBackfillQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        id\n        partitionStatuses {\n          ...PartitionStatusesForBackfill\n        }\n      }\n    }\n  }\n\n  fragment PartitionStatusesForBackfill on PartitionStatuses {\n    results {\n      id\n      partitionName\n      runId\n      runStatus\n    }\n  }\n"]))),de=t(46715),pe=t(73383),he=t(68506),xe=t(2191),fe=function(e){var n=e.backfill,t=e.onClose;return(0,k.jsxs)(y.Vq,{isOpen:!(null===n||void 0===n||!n.partitionSet),title:"Step status for backfill: ".concat(null===n||void 0===n?void 0:n.id),onClose:t,style:{width:"80vw"},children:[function(){if(null===n||void 0===n||!n.partitionSet||null===n.partitionNames)return null;var e=(0,W.kQ)(n.partitionSet.repositoryOrigin.repositoryName,n.partitionSet.repositoryOrigin.repositoryLocationName);return(0,k.jsx)(me,{backfill:n,partitionSet:n.partitionSet,partitionNames:n.partitionNames,repoAddress:e,onClose:t})}(),(0,k.jsx)(y.cN,{topBorder:!0,children:(0,k.jsx)(S.zx,{onClick:t,children:"Done"})})]})},me=function(e){var n=e.backfill,t=e.partitionSet,r=e.partitionNames,i=e.repoAddress,s=f.useState(60),o=(0,u.Z)(s,2),a=o[0],l=o[1],c=f.useState(0),d=(0,u.Z)(c,2),p=d[0],h=d[1],x=f.useMemo((function(){return[{token:"tag",value:"dagster/backfill=".concat(n.id)}]}),[n.id]),m=(0,pe.T)({partitionSetName:t.name,partitionTagName:he.H.Partition,partitionNames:r,pageSize:a,runsFilter:x,repositorySelector:(0,xe.$)(i),jobName:t.pipelineName,offset:p,skipQuery:!n});return(0,k.jsx)(de.ux,{partitionNames:r,partitions:m,pipelineName:null===t||void 0===t?void 0:t.pipelineName,repoAddress:i,setPageSize:l,offset:p,setOffset:h})},ge=t(56666),je=t(33028),ve=t(90239),ye=t(69654),we=function(e){var n=e.backfill,t=e.onClose,r=e.onComplete,i=(0,d.D)(be),s=(0,u.Z)(i,1)[0],o=(0,ve.a)(ue,{variables:{backfillId:(null===n||void 0===n?void 0:n.id)||""},notifyOnNetworkStatusChange:!0,skip:!n}).data,a=f.useState(!1),p=(0,u.Z)(a,2),h=p[0],x=p[1],m=f.useMemo((function(){var e;if(!n||!o||"PartitionBackfill"!==o.partitionBackfillOrError.__typename)return{};var t=null===(e=o.partitionBackfillOrError.partitionStatuses)||void 0===e?void 0:e.results.filter((function(e){return e.runStatus&&e.runId&&M.oV.has(e.runStatus)}));return(null===t||void 0===t?void 0:t.reduce((function(e,n){return n&&n.runId?(0,je.Z)((0,je.Z)({},e),{},(0,ge.Z)({},n.runId,!0)):e}),{}))||{}}),[n,o]);if(!n||!o)return null;var g=n.numCancelable,j=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,s({variables:{backfillId:n.id}});case 3:r(),x(!1),t();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(y.Vq,{isOpen:!!n&&n.status!==L.Jv3.CANCELED&&(n.isAssetBackfill||!!g),title:"Cancel backfill",onClose:t,children:[n.isAssetBackfill?(0,k.jsx)(y.a7,{children:"Confirm cancellation of asset backfill? This will mark unfinished runs as canceled."}):(0,k.jsxs)(y.a7,{children:["There ",1===g?"is 1 partition ":"are ".concat(g," partitions "),"yet to be queued or launched."]}),(0,k.jsxs)(y.cN,{children:[(0,k.jsx)(S.zx,{intent:"none",onClick:t,children:"Close"}),h?(0,k.jsx)(S.zx,{intent:"danger",disabled:!0,children:"Canceling..."}):(0,k.jsx)(S.zx,{intent:"danger",onClick:j,children:"Cancel backfill"})]})]}),m&&(0,k.jsx)(ye.A,{isOpen:!!n&&(!g||"REQUESTED"!==n.status)&&!!Object.keys(m).length,onClose:t,onComplete:r,selectedRuns:m})]})},be=(0,p.Ps)(s||(s=(0,a.Z)(["\n  mutation CancelBackfill($backfillId: String!) {\n    cancelPartitionBackfill(backfillId: $backfillId) {\n      ... on CancelBackfillSuccess {\n        backfillId\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),j.B),Se=t(33258),ke=function(e){var n=e.showBackfillTarget,t=void 0===n||n,r=e.allPartitions,i=e.backfills,s=e.refetch,o=f.useState(),a=(0,u.Z)(o,2),p=a[0],j=a[1],y=f.useState(),w=(0,u.Z)(y,2),b=w[0],S=w[1],N=f.useState(),R=(0,u.Z)(N,2),P=R[0],Z=R[1],E=(0,d.D)(Se.g),I=(0,u.Z)(E,1)[0],T=null===p||void 0===p?void 0:p.id;f.useEffect((function(){if(T){var e=i.filter((function(e){return e.id===T&&e.hasCancelPermission})),n=(0,u.Z)(e,1)[0];j(n)}}),[i,T]);var _=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(n){var t,r,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({variables:{backfillId:n.id}});case 2:if(t=e.sent,!(r=t.data)||"ResumeBackfillSuccess"!==r.resumePartitionBackfill.__typename){e.next=8;break}s(),e.next=17;break;case 8:if(!r||"UnauthorizedError"!==r.resumePartitionBackfill.__typename){e.next=13;break}return e.next=11,(0,g.B7)({message:(0,k.jsx)(h.Z,{direction:"column",spacing:4,children:(0,k.jsx)("div",{children:"Attempted to retry the backfill in read-only mode. This backfill was not retried."})}),icon:"error",intent:"danger"});case 11:e.next=17;break;case 13:if(!r||"PythonError"!==r.resumePartitionBackfill.__typename){e.next=17;break}return i=r.resumePartitionBackfill,e.next=17,(0,g.B7)({message:(0,k.jsx)("div",{children:"An unexpected error occurred. This backfill was not retried."}),icon:"error",intent:"danger",action:{text:"View error",onClick:function(){return(0,m._)({body:(0,k.jsx)(v.T9,{error:i})})}}});case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(x.i,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Backfill ID"}),(0,k.jsx)("th",{children:"Created"}),t?(0,k.jsx)("th",{children:"Backfill target"}):null,(0,k.jsx)("th",{children:"Requested"}),(0,k.jsx)("th",{children:"Backfill status"}),(0,k.jsx)("th",{children:"Run status"}),(0,k.jsx)("th",{style:{width:80}})]})}),(0,k.jsx)("tbody",{children:i.map((function(e){return(0,k.jsx)(ee,{showBackfillTarget:t,backfill:e,allPartitions:r,onTerminateBackfill:j,onResumeBackfill:_,onShowStepStatus:S,onShowPartitionsRequested:Z},e.id)}))})]}),(0,k.jsx)(fe,{backfill:b,onClose:function(){return S(void 0)}}),(0,k.jsx)(C,{backfill:P,onClose:function(){return Z(void 0)}}),(0,k.jsx)(we,{backfill:p,onClose:function(){return j(void 0)},onComplete:function(){return s()}})]})},Ce=(0,p.Ps)(o||(o=(0,a.Z)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    id\n    status\n    isAssetBackfill\n    hasCancelPermission\n    hasResumePermission\n    numCancelable\n    partitionNames\n    isValidSerialization\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      ...PartitionSetForBackfillTable\n    }\n    assetSelection {\n      path\n    }\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment PartitionSetForBackfillTable on PartitionSet {\n    id\n    name\n    mode\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n  }\n\n  ","\n"])),j.B)},34700:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(95714),i=t(47515),s=t(73070),o=t(78193),a=t(23555),l=t(15734),c=t(93810),u=t(20967),d=t(89622),p=t(85279),h=t(8742),x=t(35936),f=o.memo((function(e){var n=e.name,t=e.run,f=e.showHover,m=void 0!==f&&f,g=e.showButton,j=void 0===g||g,v=e.showSummary,y=void 0===v||v,w=t.status,b=o.useMemo((function(){switch(w){case a.VOA.SUCCESS:return"success";case a.VOA.CANCELED:case a.VOA.CANCELING:case a.VOA.FAILURE:return"danger";default:return"none"}}),[w]);return(0,x.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,x.jsxs)(i.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[function(){var e=(0,x.jsx)(r.V,{intent:b,children:(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,x.jsx)(l.K9,{status:t.status,size:10}),(0,x.jsx)(d.Zr,{run:t})]})});return m?(0,x.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,x.jsx)("div",{children:(0,x.jsx)(c.qL,{run:t,name:n})}),hoverOpenDelay:100,children:e}):e}(),y?(0,x.jsx)(d.Tw,{run:t}):null]}),y&&(u.hd.has(t.status)||u.Ys.has(t.status))?(0,x.jsx)(h.I,{runId:t.id}):void 0]}),j?(0,x.jsx)(p.A,{to:"/runs/".concat(t.id),children:"View run"}):null]})}))},8742:function(e,n,t){t.d(n,{I:function(){return m}});var r,i=t(71171),s=t(90239),o=t(31623),a=t(83473),l=t(32667),c=t(76892),u=t.n(c),d=t(78193),p=t(97412),h=t(23555),x=t(20967),f=t(35936),m=function(e){var n=e.runId,t=(0,s.a)(g,{variables:{runId:n}}).data,r=null===t||void 0===t?void 0:t.pipelineRunOrError,i="Run"===(null===r||void 0===r?void 0:r.__typename)?r.status:null,o=d.useMemo((function(){if("Run"!==(null===r||void 0===r?void 0:r.__typename))return[];var e=r.status;return x.hd.has(e)?r.stepStats.filter((function(e){return e.status===h.SGm.FAILURE})):x.Ys.has(e)?r.stepStats.filter((function(e){return e.status===h.SGm.IN_PROGRESS})):[]}),[r]),c=o.length;if(!c||!i)return null;if(x.hd.has(i)){if(1===c){var m=o[0],j=m.endTime?u().stringify({focusedTime:Math.floor(1e3*m.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsx)(p.rU,{to:"/runs/".concat(n).concat(j),children:m.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsxs)(p.rU,{to:"/runs/".concat(n),children:[c," steps"]})]})}if(x.Ys.has(i)){if(1===c){var v=o[0],y=v.endTime?u().stringify({focusedTime:Math.floor(1e3*v.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsx)(p.rU,{to:"/runs/".concat(n).concat(y),children:v.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsxs)(p.rU,{to:"/runs/".concat(n),children:[c," steps"]})]})}return null},g=(0,o.Ps)(r||(r=(0,i.Z)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"])))},88508:function(e,n,t){t.d(n,{TW:function(){return E},dY:function(){return O},i0:function(){return I},lB:function(){return T}});var r,i,s=t(71171),o=t(96234),a=t(60319),l=t(90239),c=t(31623),u=t(95714),d=t(92555),p=t(3077),h=t(45519),x=t(44229),f=t(47515),m=t(62459),g=t(67445),j=t(4537),v=t(32667),y=t(83473),w=t(61623),b=t(78193),S=t(80005),k=t(62638),C=t(92014),N=t(88949),R=t(23555),P=t(8709),Z=t(35936),E=function(e){var n=e.tick,t=e.instigationType,r=b.useState(!1),i=(0,o.Z)(r,2),s=i[0],a=i[1];switch(n.status){case R.izS.STARTED:return(0,Z.jsx)(u.V,{children:"Started"});case R.izS.SUCCESS:if(!n.runIds.length)return(0,Z.jsx)(u.V,{intent:"primary",children:"Requested"});var l=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.V,{intent:"primary",interactive:!0,children:(0,Z.jsxs)(d.Z,{underline:"never",onClick:function(){return a(!0)},children:[n.runIds.length," Requested"]})}),(0,Z.jsxs)(p.Vq,{isOpen:s,onClose:function(){return a(!1)},style:{width:"90vw"},title:"Launched runs",children:[(0,Z.jsx)(I,{runIds:n.runIds}),(0,Z.jsx)(p.cN,{children:(0,Z.jsx)(h.zx,{intent:"primary",onClick:function(){return a(!1)},children:"OK"})})]})]});if(n.runKeys.length>n.runIds.length){var c="".concat(n.runKeys.length," runs requested, but ").concat(n.runKeys.length-n.runIds.length," skipped because the runs already exist for those requested keys.");return(0,Z.jsx)(x.u,{position:"right",content:c,children:l})}return l;case R.izS.SKIPPED:if(n.runKeys.length){var f="".concat(n.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,Z.jsx)(x.u,{position:"right",content:f,children:(0,Z.jsx)(u.V,{intent:"warning",children:"Skipped"})})}return n.skipReason?(0,Z.jsx)(x.u,{position:"right",content:n.skipReason,targetTagName:"div",children:(0,Z.jsx)(u.V,{intent:"warning",children:"Skipped"})}):(0,Z.jsx)(u.V,{intent:"warning",children:"Skipped"});case R.izS.FAILURE:if(n.error){var m=n.error,g=function(){return(0,S._)({title:t?t===R._5b.SCHEDULE?"Schedule Response":"Sensor Response":"Python Error",body:(0,Z.jsx)(C.T9,{error:m})})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_,{onClick:g,children:(0,Z.jsx)(u.V,{minimal:!0,intent:"danger",children:"Failure"})}),(0,Z.jsx)(d.Z,{onClick:g,style:{marginLeft:4,fontSize:12},children:"View"})]})}return(0,Z.jsx)(u.V,{intent:"danger",children:"Failure"});default:return(0,N.UT)(n.status)}},I=function(e){var n=e.runIds,t=(0,l.a)(D,{variables:{filter:{runIds:n}}}),r=t.data;return t.loading||!r?(0,Z.jsx)(f.x,{padding:32,children:(0,Z.jsx)(m.$,{purpose:"section"})}):"Runs"!==r.pipelineRunsOrError.__typename?(0,Z.jsx)(f.x,{padding:32,children:(0,Z.jsx)(g.t,{icon:"error",title:"An error occurred",description:r.pipelineRunsOrError.message})}):(0,Z.jsx)(f.x,{padding:{bottom:8},children:(0,Z.jsx)(P.A,{runs:r.pipelineRunsOrError.results})})},T=function(e){var n=e.originRunIds;return n&&n.length?(0,Z.jsxs)(j.Z,{direction:"column",spacing:16,children:[(0,Z.jsxs)(f.x,{padding:12,border:{side:"bottom",width:1,color:v.w.Gray200},children:[(0,Z.jsxs)(y.uT,{children:["Failed Runs",(0,Z.jsx)(x.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,Z.jsx)(w.JO,{name:"info",color:v.w.Gray500})})]}),(0,Z.jsx)(I,{runIds:n})]}),(0,Z.jsxs)(f.x,{padding:12,margin:{bottom:8},children:[(0,Z.jsxs)(y.uT,{children:["Requested Runs",(0,Z.jsx)(x.u,{content:"Runs launched by the run requests in this tick.",children:(0,Z.jsx)(w.JO,{name:"info",color:v.w.Gray500})})]}),(0,Z.jsx)(g.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},_=a.ZP.button.withConfig({displayName:"InstigationTick__LinkButton",componentId:"sc-o7n48i-0"})(["background:inherit;border:none;cursor:pointer;font-size:inherit;text-decoration:none;padding:0;"]),O=(0,c.Ps)(r||(r=(0,s.Z)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),k.B),D=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),P.Z,k.B)},60929:function(e,n,t){t.d(n,{Jy:function(){return b},RX:function(){return v},S9:function(){return y},UD:function(){return j},ai:function(){return w}});var r,i,s=t(71171),o=t(96234),a=t(60319),l=t(31623),c=t(32667),u=t(4537),d=t(83473),p=(t(78193),t(97412)),h=t(34700),x=t(15734),f=t(89622),m=t(88508),g=t(35936),j=function(e){var n=e.instigationState,t=(0,o.Z)(n.runs,1)[0];return t?(0,g.jsx)(h.Z,{run:t,name:n.name}):(0,g.jsx)("span",{style:{color:c.w.Gray300},children:"None"})},v=function(e){var n=e.run;return(0,g.jsxs)(u.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,g.jsx)(x.K9,{status:n.status}),(0,g.jsx)(p.rU,{to:"/runs/".concat(n.id),target:"_blank",rel:"noreferrer",children:(0,g.jsx)(d.fv,{children:(0,f.EI)({id:n.id})})})]})},y=(0,l.Ps)(r||(r=(0,s.Z)(["\n  fragment RunStatusFragment on Run {\n    id\n    status\n  }\n"]))),w=(0,l.Ps)(i||(i=(0,s.Z)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    hasStartPermission\n    hasStopPermission\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n\n  ","\n  ","\n  ","\n"])),y,f.$X,m.dY),b=a.ZP.table.withConfig({displayName:"InstigationUtils__StatusTable",componentId:"sc-1od21u7-0"})(["font-size:13px;border-spacing:0;&&&&& tr{box-shadow:none;}&&&&& tbody > tr > td{background:transparent;box-shadow:none !important;padding:1px 0;}&&&&& tbody > tr > td:first-child{color:",";}"],c.w.Gray500)},65606:function(e,n,t){t.d(n,{i:function(){return i}});var r=t(23555),i=function(e){return e.hasStartPermission&&e.status===r.ynu.STOPPED||e.hasStopPermission&&e.status===r.ynu.RUNNING}},41387:function(e,n,t){t.d(n,{H:function(){return s}});var r=t(41361),i=t(23555),s=function(e){var n,t=!1,s=!1,o=(0,r.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value.status;if(a===i.ynu.RUNNING?s=!0:a===i.ynu.STOPPED&&(t=!0),s&&t)break}}catch(l){o.e(l)}finally{o.f()}return{anyOff:t,anyOn:s}}},22908:function(e,n,t){t.d(n,{s:function(){return l}});var r=t(56666),i=t(33028),s=t(78193),o={step:"initial",completion:{completed:0,errors:{}}},a=function(e,n){switch(n.type){case"reset":return o;case"start":return(0,i.Z)((0,i.Z)({},e),{},{step:"updating"});case"update-success":var t=e.completion;return{step:"updating",completion:(0,i.Z)((0,i.Z)({},t),{},{completed:t.completed+1})};case"update-error":var s=e.completion;return{step:"updating",completion:(0,i.Z)((0,i.Z)({},s),{},{completed:s.completed+1,errors:(0,i.Z)((0,i.Z)({},s.errors),{},(0,r.Z)({},n.name,n.error))})};case"complete":return(0,i.Z)((0,i.Z)({},e),{},{step:"completed"})}},l=function(){return s.useReducer(a,o)}},99786:function(e,n,t){t.d(n,{i:function(){return s}});var r,i=t(71171),s=(0,t(31623).Ps)(r||(r=(0,i.Z)(["\n  fragment BasicInstigationStateFragment on InstigationState {\n    id\n    selectorId\n    status\n    hasStartPermission\n    hasStopPermission\n  }\n"])))},1780:function(e,n,t){t.d(n,{y:function(){return r}});var r="overview-collapsed-state"},46715:function(e,n,t){t.d(n,{ac:function(){return K},ux:function(){return V},Rc:function(){return M}});var r,i,s=t(68079),o=t(71171),a=t(96234),l=t(33028),c=t(59740),u=t(41361),d=t(60319),p=t(90239),h=t(31623),x=t(2838),f=t(3077),m=t(47515),g=t(45519),j=t(61623),v=t(32667),y=t(73070),w=t(85357),b=t(78193),S=t(20822),k=t(87519),C=t(52072),N=t(52610),R=t(29982),P=t(23555),Z=t(89622),E=t(79986),I=t(2191),T=t(62459),_=t(67445),O=t(62638),D=t(8709),U=t(68506),A=t(35936),z=function(e){var n=(0,p.a)(F,{variables:{filter:{pipelineName:e.pipelineName,tags:[{key:U.H.Partition,value:e.partitionName}]}}}),t=n.data;return n.loading||!t?(0,A.jsx)(T.$,{purpose:"section"}):"Runs"!==t.pipelineRunsOrError.__typename?(0,A.jsx)(_.t,{icon:"error",title:"Query Error",description:t.pipelineRunsOrError.message}):(0,A.jsx)("div",{children:(0,A.jsx)(D.A,{runs:t.pipelineRunsOrError.results})})},F=(0,h.Ps)(r||(r=(0,o.Z)(["\n  query PartitionRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),D.Z,O.B),L=t(80620),q=t(54971),$=["assetHealth","rangeDimension","rangeDimensionIdx","assetQueryItems"],G=["repoAddress","pipelineName","partitions","partitionNames"],M=function(e){return Math.ceil(e/L.Bj)-3},K=function(e){var n,t=e.assetHealth,r=e.rangeDimension,i=e.rangeDimensionIdx,s=e.assetQueryItems,o=(0,c.Z)(e,$),a={},d=(0,u.Z)(t);try{for(d.s();!(n=d.n()).done;){var p,h=n.value;if((null===(p=h.dimensions[i])||void 0===p?void 0:p.name)===r.name){var x=h.rangesForSingleDimension(i);a[(0,S.Je)(h.assetKey)]=x}}}catch(g){d.e(g)}finally{d.f()}var f=(0,R.tc)({nodes:s,mode:N.hS.FLAT}).boxes.filter((function(e){return!!a[e.node.name]})),m={stepRows:f.map((function(e){return{x:e.x,name:e.node.name,totalFailurePercent:0,finalFailurePercent:0}})),partitions:[],partitionColumns:r.partitionKeys.map((function(e,n){return{idx:n,name:e,runsLoaded:!0,runs:[],steps:f.map((function(e){return{name:e.node.name,unix:0,color:B((0,C.h1)(a[e.node.name],n))}}))}}))};return(0,A.jsx)(J,(0,l.Z)((0,l.Z)({},o),{},{partitionNames:r.partitionKeys,data:m,showLatestRun:!1}))},B=function(e){return e.includes(k.yo.MATERIALIZED)&&e.includes(k.yo.MISSING)?"SUCCESS-MISSING":e.includes(k.yo.MATERIALIZED)?"SUCCESS":e.includes(k.yo.FAILED)&&e.includes(k.yo.MISSING)?"FAILURE-MISSING":e.includes(k.yo.FAILED)?"FAILURE":"MISSING"},V=function(e){var n,t=e.repoAddress,r=e.pipelineName,i=e.partitions,s=e.partitionNames,o=(0,c.Z)(e,G),a=(0,I.$)(t),u=(0,l.Z)((0,l.Z)({},a),{},{pipelineName:r}),d=(0,p.a)(Q,{variables:{pipelineSelector:u}}),h="PipelineSnapshot"===(null===(n=d.data)||void 0===n?void 0:n.pipelineSnapshotOrError.__typename)&&d.data.pipelineSnapshotOrError.solidHandles,x=(0,q.J2)({partitionNames:s,partitions:i,stepQuery:"",solidHandles:h});return x?(0,A.jsx)(J,(0,l.Z)((0,l.Z)({},o),{},{showLatestRun:!0,pipelineName:r,partitionNames:s,data:x})):(0,A.jsx)("span",{})},J=function(e){var n=(0,x.S)(),t=n.viewport,r=n.containerProps,i=b.useState(null),s=(0,a.Z)(i,2),o=s[0],c=s[1],d=b.useState(null),p=(0,a.Z)(d,2),h=p[0],v=p[1],y=e.setPageSize,w=e.data;b.useEffect((function(){t.width&&y(M(t.width))}),[t.width,y]);var S=w.stepRows,k=w.partitionColumns,C=function(e){var n={};return e.forEach((function(e){return n[e.name]=e})),S.map((function(e){return n[e.name]}))},N=M(t.width),R=Math.max(0,k.length-e.offset-N),P=Math.max(N,k.length-e.offset),Z=k.slice(R,P),E=function(e){var n,t=Date.now()/1e3,r=1,i=(0,u.Z)(e);try{for(i.s();!(n=i.n()).done;){var s,o=n.value,a=(0,u.Z)(o.steps);try{for(a.s();!(s=a.n()).done;){var l=s.value;if(0!==l.unix){var c=[Math.min(t,l.unix),Math.max(r,l.unix)];t=c[0],r=c[1]}}}catch(d){a.e(d)}finally{a.f()}}}catch(d){i.e(d)}finally{i.f()}return[t,r]}(k),I=(0,a.Z)(E,2),T=I[0],_=I[1],O=(0,L.G3)(k.map((function(e){return e.name})));return(0,A.jsxs)(W,{children:[(0,A.jsxs)(f.Vq,{isOpen:!!h,onClose:function(){return v(null)},style:{width:"90vw"},title:h?"".concat(h.partitionName," runs"):"",children:[(0,A.jsx)(m.x,{padding:{bottom:12},children:h&&(0,A.jsx)(z,{pipelineName:e.pipelineName,partitionName:h.partitionName})}),(0,A.jsx)(f.cN,{children:(0,A.jsx)(g.zx,{intent:"primary",autoFocus:!0,onClick:function(){return v(null)},children:"OK"})})]}),(0,A.jsxs)("div",{style:{position:"relative",display:"flex"},children:[(0,A.jsx)(L.NF,{floating:e.offset+N<e.partitionNames.length,children:(0,A.jsxs)(L.C4,{disabled:!0,style:{flex:1,flexShrink:1,overflow:"hidden"},children:[(0,A.jsx)(L.eh,{style:{height:O}}),e.showLatestRun&&(0,A.jsx)(L.p$,{style:{paddingLeft:24},children:"Last Run"}),(0,A.jsx)(Y,{}),S.map((function(e){return(0,A.jsx)(L.p$,{style:{paddingLeft:8+e.x},"data-tooltip":e.name,hovered:e.name===(null===o||void 0===o?void 0:o.stepName),children:e.name},e.name)}))]})}),e.offset+N<e.partitionNames.length?(0,A.jsx)(H,{$direction:"left",onClick:function(){return e.setOffset(Math.max(0,Math.min(e.offset+N-1,e.partitionNames.length-N)))},children:(0,A.jsx)(j.JO,{name:"chevron_left"})}):null,(0,A.jsx)("div",(0,l.Z)((0,l.Z)({style:{flex:1,overflow:"hidden",position:"relative"}},r),{},{children:(0,A.jsx)("div",{style:{width:k.length*L.Bj,position:"absolute",height:"100%",right:0,zIndex:1},children:Z.map((function(n,t){return(0,A.jsxs)(L.C4,{style:{zIndex:Z.length-t,width:L.Bj,position:"absolute",right:(N-t)*L.Bj+20},children:[(0,A.jsx)(L.kD,{$height:O,label:n.name}),e.showLatestRun&&(0,A.jsx)(L.p$,{style:{textAlign:"center"},children:(0,A.jsx)(ee,{runs:n.runs,runsLoaded:n.runsLoaded,minUnix:T,maxUnix:_,hovered:o,setHovered:c,setFocused:v,partitionName:n.name},"".concat(n.name,":__full_status"))}),(0,A.jsx)(Y,{}),C(n.steps).map((function(e){return(0,A.jsx)(ee,{step:e,runs:n.runs,runsLoaded:n.runsLoaded,minUnix:T,maxUnix:_,hovered:o,setHovered:c,setFocused:v,partitionName:n.name},e.name)}))]},n.name)}))})})),e.offset>0?(0,A.jsx)(H,{$direction:"right",onClick:function(){return e.setOffset(Math.max(0,e.offset-N))},children:(0,A.jsx)(j.JO,{name:"chevron_right"})}):null]})]})},H=d.ZP.div.withConfig({displayName:"PartitionStepStatus__PagerControl",componentId:"sc-fy1jed-0"})(["width:30px;position:absolute;border:1px solid ",";border-radius:3px;display:flex;justify-content:center;align-items:center;top:calc(50% - 15px);bottom:calc(50% - 15px);"," background:white;z-index:10;justify-content:center;align-items:center;cursor:pointer;display:flex;&:hover{background:#ececec;}"],v.w.KeylineGray,(function(e){return"left"===e.$direction?"left: 315px;":"right: 0;"})),W=d.ZP.div.withConfig({displayName:"PartitionStepStatus__PartitionRunMatrixContainer",componentId:"sc-fy1jed-1"})(["display:block;"]),Y=d.ZP.div.withConfig({displayName:"PartitionStepStatus__Divider",componentId:"sc-fy1jed-2"})(["height:1px;width:100%;margin-top:5px;border-top:1px solid ",";"],v.w.KeylineGray),Q=(0,h.Ps)(i||(i=(0,o.Z)(["\n  query PartitionStepStatusPipelineQuery($pipelineSelector: PipelineSelector) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          ...PartitionMatrixSolidHandleFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),q.Tg),X=JSON.stringify({top:20,left:10}),ee=function(e){var n,t=e.step,r=e.runs,i=e.runsLoaded,o=e.hovered,l=e.setHovered,c=e.setFocused,u=e.partitionName,d=b.useState(!1),p=(0,a.Z)(d,2),h=p[0],x=p[1];if(i)if(t)n=t.color.toLowerCase();else if(0===r.length)n="empty";else{var f,m=null===(f=(0,s.Z)(r).reverse().find((function(e){return e.status!==P.VOA.CANCELED})))||void 0===f?void 0:f.status;n=m?m.toLowerCase():"empty"}else n="loading";var g=(0,A.jsx)("div",{className:"square ".concat(n),onMouseEnter:function(){return l({stepName:null===t||void 0===t?void 0:t.name,partitionName:u})},onMouseLeave:function(){return l(null)},"data-tooltip":i&&!t?1===r.length?"1 run":"".concat(r.length," runs"):void 0,"data-tooltip-style":X});return h||r.length&&(null===o||void 0===o?void 0:o.stepName)===(null===t||void 0===t?void 0:t.name)&&(null===o||void 0===o?void 0:o.partitionName)===u?(0,A.jsx)(y.J,{interactionKind:"click",placement:"bottom-start",onOpening:function(){return x(!0)},onClosed:function(){return x(!1)},content:(0,A.jsxs)(w.v2,{children:[(0,A.jsx)(E.U,{icon:"open_in_new",text:"Show logs from last run",to:(0,Z.tA)(r[r.length-1],{stepKey:t?t.name:null})}),(0,A.jsx)(w.sN,{icon:"settings_backup_restore",text:"View runs (".concat(r.length,")"),onClick:function(){return c({stepName:null===t||void 0===t?void 0:t.name,partitionName:u})}})]}),children:g}):g}},80620:function(e,n,t){t.d(n,{AQ:function(){return g},Bj:function(){return a},C4:function(){return u},G3:function(){return x},NF:function(){return j},eh:function(){return p},kD:function(){return f},p$:function(){return d}});var r=t(68079),i=t(60319),s=t(32667),o=(t(78193),t(35936)),a=32,l={SUCCESS:s.w.Green500,SUCCESS_SKIPPED:s.w.Green200,FAILURE:s.w.Red500,FAILURE_SKIPPED:s.w.Red200,SKIPPED:s.w.Yellow500,IN_PROGRESS:s.w.Blue500},c=function(e){return"linear-gradient(to left, ".concat(e," 0%, ").concat(e," 100%)")},u=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridColumn",componentId:"sc-2pzmq3-0"})(["display:flex;flex-direction:column;flex-shrink:0;line-height:0;"," "," "," "," .cell{height:","px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;padding:2px;box-sizing:border-box;line-height:initial;}.square{width:20px;height:20px;margin:6px;display:inline-block;&:hover:not(.empty):before{box-shadow:"," 0 0 0 3px;}&:before{content:' ';background:rgba(248,247,245,1);border-radius:10px;display:inline-block;width:20px;height:20px;}&.loading{&:before{background:radial-gradient(white 0%,white 45%,rgba(248,247,245,1) 60%);}}&.success{&:before{background:",";}}&.failure{&:before{background:",";}}&.success-missing{&:before{background:",";}}&.failure-missing{&:before{background:",";}}&.failure-blank{&:before{background:",";}}&.skipped{&:before{background:",";}}&.started,&.starting,&.canceling{&:before{background:",";}}}"],(function(e){var n=e.disabled,t=e.focused,r=e.multiselectFocused,i=e.hovered;return!n&&!t&&!r&&"&".concat(i?"":":hover"," {\n      background: ").concat(s.w.Gray100,";\n      cursor: default;\n      ").concat(m," {\n        background: ").concat(s.w.White,";\n        .tilted {\n          background: ").concat(s.w.Gray100,";\n        }\n      }\n      .square {\n        filter: brightness(95%);\n      }\n    }")}),(function(e){return e.disabled&&"\n      ".concat(m," {\n        color: ").concat(s.w.Gray400,"\n      }\n    ")}),(function(e){return e.focused&&"background: ".concat(s.w.Blue500,";\n    ").concat(d," {\n      color: white;\n    }\n    ").concat(m," {\n      background: ").concat(s.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(s.w.Blue500,";\n      }\n    }\n  }")}),(function(e){return e.multiselectFocused&&"background: ".concat(s.w.Blue200,";\n    ").concat(d," {\n      color: white;\n    }\n    ").concat(m," {\n      background: ").concat(s.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(s.w.Blue200,";\n      }\n    }\n  }")}),a,s.w.Blue500,l.SUCCESS,l.FAILURE,l.SUCCESS_SKIPPED,l.FAILURE_SKIPPED,l.FAILURE_SKIPPED,l.SKIPPED,l.IN_PROGRESS),d=i.ZP.div.withConfig({displayName:"RunMatrixUtils__LeftLabel",componentId:"sc-2pzmq3-1"})(["height:","px;line-height:","px;font-size:13px;overflow:hidden;text-overflow:ellipsis;position:relative;background:",";"],a,a,(function(e){var n=e.hovered;return[n?s.w.Gray100:"transparent"].map(c).join(",")})),p=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabel",componentId:"sc-2pzmq3-2"})(["position:relative;height:70px;padding:4px;padding-bottom:0;min-width:15px;align-items:flex-end;display:flex;"]),h=15;function x(e){var n=Math.max.apply(Math,(0,r.Z)(e.map((function(e){return e.length}))));return(n>10?4.9*n:55)+h}var f=function(e){var n=e.label,t=e.$height;return(0,o.jsx)(m,{style:{height:t-h},children:(0,o.jsx)("div",{className:"tilted",children:n})})},m=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabelTiltedInner",componentId:"sc-2pzmq3-3"})(["position:relative;height:unset;padding:4px;padding-bottom:0;min-width:15px;margin-bottom:","px;align-items:end;display:flex;line-height:normal;& > div.tilted{font-size:12px;white-space:nowrap;position:absolute;bottom:-20px;left:0;padding:2px;padding-right:4px;padding-left:0;transform:rotate(-","deg);transform-origin:top left;}"],h,41),g=330,j=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridFloatingContainer",componentId:"sc-2pzmq3-4"})(["display:flex;border-right:1px solid ",";padding-bottom:16px;width:","px;z-index:1;",";"],s.w.Gray200,g,(function(e){return e.floating?"box-shadow: 1px 0 4px rgba(0, 0, 0, 0.15)":""}))},54971:function(e,n,t){t.d(n,{J2:function(){return w},Tg:function(){return S},iv:function(){return b}});var r,i,s=t(71171),o=t(33028),a=t(31623),l=t(80085),c=t(78193),u=t(62709),d=t(99641),p=t(29982),h=t(23555),x=t(55500),f=t(25620),m="\\[.*\\]",g=new Set([h.SGm.IN_PROGRESS,h.SGm.SKIPPED]);function j(e){return e.startTime||0}function v(e,n){return j(e)-j(n)}function y(e,n){var t=new RegExp(e+m);return n===e||n==="".concat(e,".compute")||n.match(t)}var w=function(e){var n=c.useRef();if(!e.solidHandles)return null;if(n.current&&(0,l.shallowCompareKeys)(e,n.current.inputs))return n.current.result;var t=(0,x.i)(e.solidHandles).map((function(e){return e.solid})),r=(0,u.V)(t,e.stepQuery),i=function(e,n,t,r){var i={};t.forEach((function(e){e.runs.sort(v),i[e.name]=e}));var s=n.map((function(n,t){var r=i[n]||{name:n,runsLoaded:!1,runs:[]},s=e.boxes.map((function(e){var n,t=e.node,i={name:t.name,color:"MISSING",unix:0};if(!r.runs.length)return i;var s,o=r.runs[r.runs.length-1],a=null===(n=o.stepStats.find((function(e){return y(t.name,e.stepKey)})))||void 0===n?void 0:n.status;if(r.runs.length>1&&(!a||g.has(a)))for(var l=r.runs.length-2;l>=0&&!s;){var c,u=null===(c=r.runs[l].stepStats.find((function(e){return y(t.name,e.stepKey)})))||void 0===c?void 0:c.status;if(u&&!g.has(u)){s=u;break}l--}if(!a&&!s)return i;var d=!a||g.has(a)?"".concat(s,"-MISSING"):a;return{name:t.name,unix:j(o),color:d}}));return(0,o.Z)((0,o.Z)({},r),{},{steps:s,idx:t})})),a=s.filter((function(e){return e.runs.length>0})).length,l=e.boxes.map((function(e,n){var t=s.filter((function(e){return e.steps[n].color.includes("FAILURE")})),r=s.filter((function(e){return e.steps[n].color.endsWith("FAILURE")}));return{x:e.x,name:e.node.name,totalFailurePercent:a?Math.round(t.length/a*100):0,finalFailurePercent:a?Math.round(r.length/a*100):0}}));if(null!==r&&void 0!==r&&r.showFailuresAndGapsOnly){for(var c=function(e){0===l[e].finalFailurePercent&&(l.splice(e,1),s.forEach((function(n){return n.steps.splice(e,1)})))},u=l.length-1;u>=0;u--)c(u);for(var d=s.length-1;d>=0;d--)(0===s[d].runs.length||s[d].steps.every((function(e){return e.color.includes("SUCCESS")})))&&s.splice(d,1)}return{stepRows:l,partitions:t,partitionColumns:s}}((0,p.tc)({nodes:r.all,mode:d.hS.FLAT}),e.partitionNames,e.partitions,e.options);return n.current={result:i,inputs:e},i},b=(0,a.Ps)(r||(r=(0,s.Z)(["\n  fragment PartitionMatrixStepRunFragment on Run {\n    id\n    status\n    startTime\n    endTime\n    stepStats {\n      stepKey\n      startTime\n      endTime\n      status\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),S=(0,a.Ps)(i||(i=(0,s.Z)(["\n  fragment PartitionMatrixSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      definition {\n        name\n      }\n      inputs {\n        dependsOn {\n          solid {\n            name\n          }\n        }\n      }\n      outputs {\n        dependedBy {\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...GraphExplorerSolidHandleFragment\n  }\n\n  ","\n"])),f.Q)},73383:function(e,n,t){t.d(n,{T:function(){return j}});var r,i=t(71171),s=t(32723),o=t(34795),a=t(33028),l=t(68079),c=t(96234),u=t(61794),d=t(31623),p=t(78193),h=t(62638),x=t(23555),f=t(68506),m=t(54971),g={runs:[],partitionNames:[],loading:!1,loadingCursorIdx:0};function j(e){var n=e.partitionSetName,t=e.partitionTagName,r=e.partitionNames,i=e.pageSize,d=e.runsFilter,h=e.jobName,m=e.repositorySelector,j=e.offset,y=e.skipQuery,w=(0,u.x)(),b=p.useRef(0),S=p.useState(g),k=(0,c.Z)(S,2),C=k[0],N=k[1],R=JSON.stringify([].concat((0,l.Z)(d.map((function(e){var n=e.value.split("="),t=(0,c.Z)(n,2);return{key:t[0],value:t[1]}}))),[{key:f.H.RepositoryLabelTag,value:"".concat(m.repositoryName,"@").concat(m.repositoryLocationName)}]));return p.useEffect((function(){var e=b.current+1;b.current=e;var c=JSON.parse(R);N((function(e){return(0,a.Z)((0,a.Z)({},e),{},{runs:[],loading:!0})}));var u=function(){var u=(0,o.Z)((0,s.Z)().mark((function u(){var d,p,m,g,y;return(0,s.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(b.current===e){u.next=2;break}return u.abrupt("return");case 2:d=r.length-(j||0),p=Math.max(0,d-i),N((function(e){return(0,a.Z)((0,a.Z)({},e),{},{partitionNames:r,loadingCursorIdx:d})})),5,m=(0,s.Z)().mark((function i(){var o,u,p;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=Math.max(d-5,0),u=r.slice(o,d),i.next=4,Promise.all(u.map((function(e){var r={key:f.H.PartitionSet,value:n},i={key:t,value:e},s=h?{pipelineName:h,tags:[].concat((0,l.Z)(c),[i])}:{tags:[].concat((0,l.Z)(c),[i,r])};return v(w,{limit:1e3,filter:s})})));case 4:if(p=i.sent,b.current===e){i.next=7;break}return i.abrupt("return",{v:void 0});case 7:d=o,N((function(e){var n;return(0,a.Z)((0,a.Z)({},e),{},{runs:(n=(0,l.Z)(e.runs)).concat.apply(n,(0,l.Z)(p)),loading:d>0,loadingCursorIdx:d})}));case 9:case"end":return i.stop()}}),i)}));case 7:if(!(d>p)){u.next=14;break}return u.delegateYield(m(),"t0",9);case 9:if("object"!==typeof(g=u.t0)){u.next=12;break}return u.abrupt("return",g.v);case 12:u.next=7;break;case 14:y=setInterval((0,o.Z)((0,s.Z)().mark((function i(){var o,u,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(b.current===e){i.next=2;break}return i.abrupt("return",clearInterval(y));case 2:return N((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),i.next=5,v(w,{limit:10,filter:{tags:[].concat((0,l.Z)(c),[{key:f.H.PartitionSet,value:n}])}});case 5:return o=i.sent,i.next=8,v(w,{filter:{statuses:[x.VOA.STARTED],tags:[].concat((0,l.Z)(c),[{key:f.H.PartitionSet,value:n}])}});case 8:if(u=i.sent,b.current===e){i.next=11;break}return i.abrupt("return",clearInterval(y));case 11:d=[].concat((0,l.Z)(u),(0,l.Z)(o)).filter((function(e){return e.tags.find((function(e){return e.key===t&&r.includes(e.value)}))})),N((function(e){var n=e.runs.filter((function(e){return!d.some((function(n){return n.id===e.id}))})).concat(d);return(0,a.Z)((0,a.Z)({},e),{},{loading:!1,runs:n})}));case 13:case"end":return i.stop()}}),i)}))),1e4);case 15:case"end":return u.stop()}}),u)})));return function(){return u.apply(this,arguments)}}();return y||u(),function(){b.current+=1}}),[i,w,n,t,R,h,j,r,y]),function(e,n){var t=[],r={};return e.partitionNames.forEach((function(n,i){r[n]={name:n,runsLoaded:i>=e.loadingCursorIdx,runs:[]},t.push(r[n])})),e.runs.forEach((function(e){var t,i,s=(null===(t=e.tags.find((function(e){return e.key===n})))||void 0===t?void 0:t.value)||"";null===(i=r[s])||void 0===i||i.runs.push(e)})),t}(C,t)}function v(e,n){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({fetchPolicy:"network-only",query:w,variables:t});case 2:return r=e.sent,e.abrupt("return","Runs"===r.data.pipelineRunsOrError.__typename&&r.data.pipelineRunsOrError.results||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=(0,d.Ps)(r||(r=(0,i.Z)(["\n  query PartitionStepLoaderQuery($filter: RunsFilter!, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, cursor: $cursor, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ...PartitionMatrixStepRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),m.iv,h.B)},86136:function(e,n,t){t.d(n,{r:function(){return K},$:function(){return $}});var r,i,s=t(71171),o=t(33028),a=t(60319),l=t(90239),c=t(31623),u=t(47515),d=t(32667),p=t(3586),h=t(20356),x=t(83473),f=t(16255),m=t(4537),g=t(92555),j=t(84464),v=t(44229),y=t(95714),w=t(67888),b=t(67445),S=t(61623),k=t(14491),C=(t(78193),t(50032)),N=t(97412),R=t(80005),P=t(62638),Z=t(74894),E=t(34287),I=t(67099),T=t(12434),_=t(34072),O=t(13422),D=t(2191),U=t(63167),A=t(16185),z=t(4248),F=t(35936),L={configuration:"Configuration",uses:"Uses"},q=function(e){var n=e.repoAddress,t=e.resourceName,r=e.numUses,i=(0,C.$B)(["/locations/:repoPath/resources/:name/:tab?"]),s=(null===i||void 0===i?void 0:i.params.tab)&&L[null===i||void 0===i?void 0:i.params.tab]||"Configuration";return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(A.mQ,{size:"large",selectedTabId:s,children:[(0,F.jsx)(z.f,{id:"Configuration",title:"Configuration",to:(0,U.$U)(n,"/resources/".concat(t))},"configuration"),(0,F.jsx)(z.f,{id:"Uses",title:(0,F.jsxs)(u.x,{flex:{gap:4,alignItems:"center"},children:["Uses",(0,F.jsx)(y.V,{intent:"none",minimal:!0,children:r})]}),to:(0,U.$U)(n,"/resources/".concat(t,"/uses"))},"uses")]})})},$=function(e){return(null===e||void 0===e?void 0:e.split(".").pop())||null},G=function(e){return e?e.name.startsWith("_nested_")?$(null===e||void 0===e?void 0:e.resourceType):e.name:null},M=function(e){return(0,F.jsx)(u.x,{padding:{left:24,vertical:16},background:d.w.Gray50,border:{width:1,color:d.w.KeylineGray,side:"all"},children:e.children})},K=function(e){var n,t,r,i;(0,Z.Px)();var s=e.repoAddress,a=(0,C.UO)().resourceName;(0,I.j)("Resource: ".concat(a));var c=(0,o.Z)((0,o.Z)({},(0,D.$)(s)),{},{resourceName:a}),w=(0,l.a)(Q,{variables:{resourceSelector:c}}),b="ResourceDetails"===(null===(n=w.data)||void 0===n?void 0:n.topLevelResourceDetailsOrError.__typename)&&G(null===(t=w.data)||void 0===t?void 0:t.topLevelResourceDetailsOrError)||a,S="ResourceDetails"===(null===(r=w.data)||void 0===r?void 0:r.topLevelResourceDetailsOrError.__typename)?w.data.topLevelResourceDetailsOrError.parentResources.length+w.data.topLevelResourceDetailsOrError.assetKeysUsing.length+w.data.topLevelResourceDetailsOrError.jobsOpsUsing.length:0,k=null===(i=(0,C.$B)(["/locations/:repoPath/resources/:name/:tab?"]))||void 0===i?void 0:i.params.tab;return(0,F.jsxs)(p.T,{style:{height:"100%",overflow:"hidden"},children:[(0,F.jsx)(h.m,{title:(0,F.jsx)(x.X6,{children:b}),tabs:(0,F.jsx)(q,{repoAddress:s,resourceName:a,numUses:S})}),(0,F.jsx)(O.g,{queryResult:w,allowStaleData:!0,children:function(e){var n=e.topLevelResourceDetailsOrError;if("ResourceDetails"!==n.__typename){var t=null;return"PythonError"===n.__typename&&(t=n.message),(0,F.jsx)(f.b,{intent:"warning",title:(0,F.jsxs)(m.Z,{direction:"row",spacing:4,children:[(0,F.jsx)("div",{children:"Could not load resource."}),t&&(0,F.jsx)(g.Z,{color:d.w.Link,underline:"always",onClick:function(){(0,R._)({title:"Python error",body:t})},children:"View error"})]})})}var r=$(n.resourceType);return(0,F.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,F.jsx)(j.OS,{identifier:"explorer",firstInitialPercent:50,firstMinSize:400,first:(0,F.jsx)(u.x,{padding:{bottom:48},style:{overflowY:"auto"},children:"uses"===k?(0,F.jsx)(V,{resourceDetails:n,repoAddress:s,numUses:S}):(0,F.jsx)(B,{resourceDetails:n,repoAddress:s})}),second:(0,F.jsx)(H,{children:(0,F.jsxs)(W,{children:[(0,F.jsxs)(u.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,F.jsx)(x.X6,{children:b}),(0,F.jsx)(v.u,{content:n.resourceType||"",children:(0,F.jsx)(x.fv,{children:r})})]}),(0,F.jsx)(_.pC,{title:"Definition",children:(0,F.jsx)(u.x,{padding:{vertical:16,horizontal:24},children:(0,F.jsxs)(y.V,{icon:"resource",children:["Resource in"," ",(0,F.jsx)(T.b,{repoAddress:s,showRefresh:!1})]})})}),n.description?(0,F.jsx)(_.pC,{title:"Description",children:(0,F.jsx)(u.x,{padding:{vertical:16,horizontal:24},children:n.description})}):null]})})})})}})]})},B=function(e){var n=e.resourceDetails,t=e.repoAddress,r=Object.fromEntries(n.configuredValues.map((function(e){return[e.key,{value:e.value,type:e.type}]}))),i=n.nestedResources;return(0,F.jsxs)(F.Fragment,{children:[i.length>0&&(0,F.jsxs)(u.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Resource dependencies"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{style:{width:120},children:"Key"}),(0,F.jsx)("th",{style:{width:180},children:"Resource"})]})}),(0,F.jsx)("tbody",{children:i.map((function(e){var n="TOP_LEVEL"===e.type&&e.resource?(0,F.jsx)(J,{url:(0,U.$U)(t,"/resources/".concat(e.name)),name:G(e.resource)||"",description:e.resource.description||void 0}):(0,F.jsx)(J,{name:e.name});return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsx)("strong",{children:e.name})}),(0,F.jsx)("td",{colSpan:2,children:n})]},e.name)}))})]})]}),(0,F.jsxs)(u.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Configuration"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{style:{width:120},children:"Key"}),(0,F.jsx)("th",{style:{width:90},children:"Type"}),(0,F.jsx)("th",{style:{width:90},children:"Value"})]})}),(0,F.jsx)("tbody",{children:0===n.configFields.length?(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:3,children:(0,F.jsx)(u.x,{padding:{vertical:8},children:(0,F.jsx)(b.t,{icon:"settings",title:"No configuration",description:"This resource has no configuration fields."})})})}):n.configFields.map((function(e){var n,t=e.defaultValueAsJson,i=r.hasOwnProperty(e.name)?r[e.name].type:null,s=r.hasOwnProperty(e.name)?r[e.name].value:t,o="VALUE"===i&&t===s;return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)(u.x,{flex:{direction:"column",gap:4,alignItems:"flex-start"},children:[(0,F.jsx)("strong",{children:e.name}),(0,F.jsx)("div",{style:{fontSize:12,color:d.w.Gray700},children:e.description})]})}),(0,F.jsx)("td",{children:(n=e.configTypeKey,"StringSourceType"===n?"String":"IntSourceType"===n?"Int":"BoolSourceType"===n?"Bool":n)}),(0,F.jsx)("td",{children:(0,F.jsxs)(u.x,{flex:{direction:"row",gap:16},children:[(0,F.jsx)(v.u,{content:(0,F.jsxs)(F.Fragment,{children:["Default: ",t]}),canShow:!o,children:"ENV_VAR"===i?(0,F.jsx)(y.V,{children:s}):s}),o&&(0,F.jsx)(y.V,{children:"Default"}),"ENV_VAR"===i&&(0,F.jsx)(y.V,{intent:"success",children:"Env var"})]})})]},e.name)}))})]})]})]})},V=function(e){var n=e.resourceDetails,t=e.repoAddress;if(0===e.numUses)return(0,F.jsx)(u.x,{padding:{vertical:16},children:(0,F.jsx)(b.t,{icon:"list",title:"No uses",description:"This resource is not used by any assets or resources."})});var r=n.parentResources;return(0,F.jsxs)(F.Fragment,{children:[r.length>0&&(0,F.jsxs)(u.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Parent resources"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsx)("tr",{children:(0,F.jsx)("th",{children:"Resource"})})}),(0,F.jsx)("tbody",{children:r.map((function(e){return e.resource&&(0,F.jsx)("tr",{children:(0,F.jsx)("td",{children:(0,F.jsx)(J,{url:(0,U.$U)(t,"/resources/".concat(e.name)),name:G(e.resource)||"",description:e.resource.description||void 0})})},e.name)}))})]})]}),n.assetKeysUsing.length>0&&(0,F.jsxs)(u.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Assets"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsx)("tr",{children:(0,F.jsx)("th",{children:"Asset key"})})}),(0,F.jsx)("tbody",{children:n.assetKeysUsing.map((function(e){return(0,F.jsx)("tr",{children:(0,F.jsx)("td",{children:(0,F.jsx)(E.R,{path:e.path,icon:"asset"},e.path.join("/"))})},e.path.join("/"))}))})]})]}),n.jobsOpsUsing.length>0&&(0,F.jsxs)(u.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Jobs"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Job name"}),(0,F.jsx)("th",{children:"Ops"})]})}),(0,F.jsx)("tbody",{children:n.jobsOpsUsing.map((function(e){return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)(u.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,F.jsx)(S.JO,{name:"job",color:d.w.Gray400}),(0,F.jsx)(N.rU,{to:(0,U.$U)(t,"/jobs/".concat(e.job.name)),children:(0,F.jsx)(k.g,{text:e.job.name})})]})}),(0,F.jsx)("td",{children:(0,F.jsx)(u.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:e.opsUsing.map((function(n){return(0,F.jsxs)(u.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,F.jsx)(S.JO,{name:"op",color:d.w.Gray400}),(0,F.jsx)(N.rU,{to:(0,U.$U)(t,"/jobs/".concat(e.job.name,"/").concat(n.handleID.split(".").join("/"))),children:(0,F.jsx)(k.g,{text:n.solid.name})})]},n.handleID)}))})})]},e.job.name)}))})]})]})]})},J=function(e){var n=e.url,t=e.name,r=e.description;return(0,F.jsxs)(u.x,{flex:{direction:"column"},children:[(0,F.jsxs)(u.x,{flex:{direction:"row",alignItems:"center",gap:4},style:{maxWidth:"100%"},children:[(0,F.jsx)(S.JO,{name:"resource",color:d.w.Blue700}),(0,F.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:n?(0,F.jsx)(N.rU,{to:n,style:{overflow:"hidden"},children:(0,F.jsx)(k.g,{text:t})}):(0,F.jsx)(k.g,{text:t})})]}),(0,F.jsx)(x.aU,{children:r})]})},H=a.ZP.div.withConfig({displayName:"ResourceRoot__RightInfoPanel",componentId:"sc-1ny0lic-0"})(["position:relative;height:100%;min-height:0;overflow:hidden;display:flex;flex-direction:column;background:",";"],d.w.White),W=a.ZP.div.withConfig({displayName:"ResourceRoot__RightInfoPanelContent",componentId:"sc-1ny0lic-1"})(["flex:1;overflow-y:auto;"]),Y=(0,c.Ps)(r||(r=(0,s.Z)(["\n  fragment ResourceDetailsFragment on ResourceDetails {\n    name\n    description\n    configFields {\n      name\n      description\n      configTypeKey\n      isRequired\n      defaultValueAsJson\n    }\n    configuredValues {\n      key\n      value\n      type\n    }\n    nestedResources {\n      name\n      type\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    parentResources {\n      name\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    assetKeysUsing {\n      path\n    }\n    jobsOpsUsing {\n      job {\n        id\n        name\n      }\n      opsUsing {\n        handleID\n        solid {\n          name\n        }\n      }\n    }\n    resourceType\n  }\n"]))),Q=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query ResourceRootQuery($resourceSelector: ResourceSelector!) {\n    topLevelResourceDetailsOrError(resourceSelector: $resourceSelector) {\n      ...ResourceDetailsFragment\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),Y,P.B)},2268:function(e,n,t){t.d(n,{K:function(){return m},f:function(){return g}});var r=t(60319),i=t(32667),s=t(47515),o=t(61623),a=t(14491),l=t(83473),c=t(44229),u=(t(78193),t(97412)),d=t(93015),p=t(63167),h=t(86136),x=t(35936),f="1.5fr 1fr 1fr",m=function(e){var n=e.name,t=e.description,r=e.repoAddress,f=e.start,m=e.height,g=e.resourceType,v=e.parentResources,y=e.jobsOpsUsing,w=e.assetKeysUsing,b=(0,h.$)(g),S=v.length+y.length+w.length;return(0,x.jsx)(d.X2,{$height:m,$start:f,children:(0,x.jsxs)(j,{border:{side:"bottom",width:1,color:i.w.KeylineGray},children:[(0,x.jsx)(d.E5,{children:(0,x.jsxs)(s.x,{flex:{direction:"column",gap:4},children:[(0,x.jsxs)(s.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,x.jsx)(o.JO,{name:"resource",color:i.w.Gray400}),(0,x.jsx)("span",{style:{fontWeight:500},children:(0,x.jsx)(u.rU,{to:(0,p.$U)(r,"/resources/".concat(n)),children:(0,x.jsx)(a.g,{text:n})})})]}),(0,x.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,x.jsx)(l.YS,{style:{color:i.w.Gray500,whiteSpace:"nowrap"},children:t})})]})}),(0,x.jsx)(d.E5,{children:(0,x.jsx)(c.u,{content:g,children:(0,x.jsx)(l.fv,{children:b})})}),(0,x.jsx)(d.E5,{children:(0,x.jsx)(u.rU,{to:(0,p.$U)(r,"/resources/".concat(n,"/uses")),children:S})})]})})},g=function(){return(0,x.jsxs)(s.x,{border:{side:"horizontal",width:1,color:i.w.KeylineGray},style:{display:"grid",gridTemplateColumns:f,height:"32px",fontSize:"12px",color:i.w.Gray600},children:[(0,x.jsx)(d.qN,{children:"Name"}),(0,x.jsx)(d.qN,{children:"Type"}),(0,x.jsx)(d.qN,{children:"Uses"})]})},j=(0,r.ZP)(s.x).withConfig({displayName:"VirtualizedResourceRow__RowGrid",componentId:"sc-8ip3bw-0"})(["display:grid;grid-template-columns:",";height:100%;"],f)},51737:function(e,n,t){t.d(n,{L:function(){return Z},g:function(){return P}});var r,i,s=t(71171),o=t(96234),a=t(90239),l=t(31623),c=t(47515),u=t(62459),d=t(32667),p=t(67445),h=t(80923),x=t(78193),f=t(62638),m=t(39707),g=t(74894),j=t(67099),v=t(66564),y=t(9610),w=t(2191),b=t(33028),S=t(25626),k=t(93015),C=t(2268),N=t(35936),R=function(e){var n=e.repoAddress,t=e.resources,r=x.useRef(null),i=(0,S.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),s=i.getTotalSize(),o=i.getVirtualItems();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(C.f,{}),(0,N.jsx)("div",{style:{overflow:"hidden"},children:(0,N.jsx)(k.W2,{ref:r,children:(0,N.jsx)(k.Nh,{$totalHeight:s,children:o.map((function(e){var r=e.index,i=e.key,s=e.size,o=e.start,a=t[r];return(0,N.jsx)(C.K,(0,b.Z)({repoAddress:n,height:s,start:o},a),i)}))})})})]})},P=function(e){var n=e.repoAddress;(0,g.Px)();var t=(0,y.Uz)(n);(0,j.j)("Resources: ".concat(t));var r=x.useState(""),i=(0,o.Z)(r,2),s=i[0],l=i[1],f=(0,w.$)(n),b=(0,a.a)(E,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:f}}),S=b.data,k=b.loading,C=(0,m.C4)(b,m.dT),P=s.trim().toLocaleLowerCase(),Z=P.length>0,I=x.useMemo((function(){return"Repository"===(null===S||void 0===S?void 0:S.repositoryOrError.__typename)?S.repositoryOrError.allTopLevelResourceDetails:[]}),[S]),T=x.useMemo((function(){var e=P.toLocaleLowerCase();return I.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}),[I,P]);return(0,N.jsxs)(c.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,N.jsx)(v.h,{repoAddress:n,tab:"resources",refreshState:C,queryData:b}),(0,N.jsx)(c.x,{padding:{horizontal:24,vertical:16},children:(0,N.jsx)(h.oi,{icon:"search",value:s,onChange:function(e){return l(e.target.value)},placeholder:"Filter by resource name\u2026",style:{width:"340px"}})}),k&&!S?(0,N.jsx)(c.x,{padding:64,children:(0,N.jsx)(u.$,{purpose:"page"})}):k&&!S?(0,N.jsx)(c.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,N.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,N.jsx)(u.$,{purpose:"body-text"}),(0,N.jsx)("div",{style:{color:d.w.Gray600},children:"Loading resources\u2026"})]})}):T.length?(0,N.jsx)(R,{repoAddress:n,resources:T}):Z?(0,N.jsx)(c.x,{padding:{top:20},children:(0,N.jsx)(p.t,{icon:"search",title:"No matching resources",description:(0,N.jsxs)("div",{children:["No resources matching ",(0,N.jsx)("strong",{children:s})," were found in ",t]})})}):(0,N.jsx)(c.x,{padding:{top:20},children:(0,N.jsx)(p.t,{icon:"search",title:"No resources",description:"No resources were found in ".concat(t)})})]})},Z=(0,l.Ps)(r||(r=(0,s.Z)(["\n  fragment ResourceEntryFragment on ResourceDetails {\n    name\n    description\n    resourceType\n    parentResources {\n      name\n    }\n    assetKeysUsing {\n      path\n    }\n    jobsOpsUsing {\n      job {\n        id\n      }\n    }\n  }\n"]))),E=(0,l.Ps)(i||(i=(0,s.Z)(["\n  query WorkspaceResourcesQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        allTopLevelResourceDetails {\n          ...ResourceEntryFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),f.B,Z)},20016:function(e,n,t){t.d(n,{L:function(){return u},l:function(){return c}});var r=t(60319),i=t(47515),s=t(61623),o=t(32667),a=(t(78193),t(66708)),l=t(35936),c=32,u=function(e){var n=e.expanded,t=e.onClick,r=e.repoName,c=e.repoLocation,u=e.showLocation,x=e.rightElement,f=r===a.Js;return(0,l.jsx)(d,{$open:n,onClick:t,children:(0,l.jsxs)(i.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,l.jsx)(s.JO,{name:"folder",color:o.w.Dark}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p,{children:f?c:r}),u&&!f?(0,l.jsx)(h,{children:"@".concat(c)}):null]})]}),(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[x,(0,l.jsx)(i.x,{margin:{top:2},children:(0,l.jsx)(s.JO,{name:"arrow_drop_down"})})]})]})})},d=r.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],o.w.Gray50,o.w.KeylineGray,o.w.KeylineGray,c,o.w.Gray100,s.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),p=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),h=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],o.w.Gray700)},93810:function(e,n,t){t.d(n,{JH:function(){return g},qL:function(){return j}});var r=t(60319),i=t(47515),s=t(73070),o=t(83473),a=t(32667),l=t(57103),c=(t(78193),t(97412)),u=t(8742),d=t(15734),p=t(25465),h=t(20967),x=t(89622),f=t(35936),m=function(e){var n=e.status,t=e.opacity,r=void 0===t?1:t,i=p.YM[n];return(0,f.jsx)(S,{$color:i,$opacity:r})},g=function(e){var n=e.fade,t=e.jobName,r=e.runs,o=r.length,a=.8/Math.max(3,o);return(0,f.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:2},children:r.map((function(e,r){return(0,f.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,f.jsx)("div",{children:(0,f.jsx)(j,{run:e,name:t})}),hoverOpenDelay:100,children:(0,f.jsx)(m,{runId:e.id,status:e.status,opacity:n?1-(o-r-1)*a:1},e.id)},e.id)}))})},j=function(e){var n=e.name,t=e.run;return(0,f.jsxs)(v,{children:[(0,f.jsx)(y,{children:n}),(0,f.jsxs)(w,{children:[(0,f.jsxs)(i.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,f.jsx)(d.K9,{status:t.status}),(0,f.jsx)(c.rU,{to:"/runs/".concat(t.id),children:(0,f.jsx)(o.fv,{style:{fontSize:"14px"},children:(0,x.EI)(t)})})]}),(0,f.jsxs)(i.x,{flex:{direction:"column",gap:4},padding:{top:2},children:[(0,f.jsx)(x.Zr,{run:t}),(0,f.jsx)(x.Tw,{run:t})]})]}),h.hd.has(t.status)||h.Ys.has(t.status)?(0,f.jsx)(b,{children:(0,f.jsx)(u.I,{runId:t.id})}):null]})},v=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayContainer",componentId:"sc-1eclpuq-0"})(["padding:4px;font-size:12px;width:220px;"]),y=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayTitle",componentId:"sc-1eclpuq-1"})(["padding:8px;box-shadow:inset 0 -1px ",";font-family:",";font-size:14px;font-weight:500;color:",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],a.w.KeylineGray,l.b.default,a.w.Dark),w=r.ZP.div.withConfig({displayName:"RunStatusPez__RunRow",componentId:"sc-1eclpuq-2"})(["padding:8px;font-size:12px;display:flex;align-items:flex-start;justify-content:space-between;"]),b=r.ZP.div.withConfig({displayName:"RunStatusPez__SummaryContainer",componentId:"sc-1eclpuq-3"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:4px 8px 8px;:empty{display:none;}"]),S=r.ZP.div.withConfig({displayName:"RunStatusPez__Pez",componentId:"sc-1eclpuq-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],(function(e){return e.$color}),(function(e){return e.$opacity}))},49020:function(e,n,t){t.d(n,{Y:function(){return M},q:function(){return q}});var r=t(56666),i=t(68079),s=t(33028),o=t(96234),a=t(60319),l=t(2838),c=t(47515),u=t(32667),d=t(44229),p=t(95714),h=t(57103),x=t(61623),f=t(14491),m=t(73070),g=t(62459),j=t(83473),v=t(25626),y=t(78193),w=t(97412),b=t(1780),S=t(46856),k=t(85279),C=t(93015),N=t(12735),R=t(62122),P=t(96640),Z=t(1628),E=t(54858),I=t(9610),T=t(98599),_=t(20016),O=t(15734),D=t(20967),U=t(16939),A=t(4296),z=function(e){switch(e){case"queued":case"scheduled":return u.w.Blue200;case"inProgress":return u.w.Blue500;case"failed":return u.w.Red500;case"succeeded":return u.w.Green500}},F=function(e){var n={scheduled:0,queued:0,inProgress:0,failed:0,succeeded:0};e.forEach((function(e){var t=e.status;"SCHEDULED"===t?n.scheduled++:D.sy.has(t)?n.queued++:D.Ys.has(t)?n.inProgress++:D.hd.has(t)?n.failed++:D._m.has(t)&&n.succeeded++}));var t=Object.keys(n).filter((function(e){return n[e]>0}));if(1===t.length){var r=(0,o.Z)(t,1)[0];return z(r)}for(var i=e.length,s=[n.failed>0?{status:"failed",pct:100*n.failed/i}:null,n.succeeded>0?{status:"succeeded",pct:100*n.succeeded/i}:null,n.inProgress>0?{status:"inProgress",pct:100*n.inProgress/i}:null,n.queued>0?{status:"queued",pct:100*n.queued/i}:null,n.scheduled>0?{status:"scheduled",pct:100*n.scheduled/i}:null].filter(Boolean),a="",l=0,c=0,u=0;u<s.length;u++){var d=s[u];if(d){var p=d.status,h=d.pct;c=l,l+=h;var x=z(p);0===u?a+="".concat(x," ").concat(h.toFixed(1),"%, "):u===s.length-1?a+="".concat(x," ").concat(c.toFixed(1),"%"):a+="".concat(x," ").concat(c.toFixed(1),"% ").concat(l.toFixed(1),"%, ")}}return"linear-gradient(to right, ".concat(a,")")},L=t(35936),q=function(e){var n=e.loading,t=void 0!==n&&n,a=e.jobs,d=e.range,p=y.useRef(null),h=(0,l.S)(),x=h.viewport.width,f=h.containerProps.ref,m=Date.now(),g=(0,o.Z)(d,2),j=(g[0],m<=g[1]),w=a.reduce((function(e,n){var t=n.repoAddress,o=(0,I.Qj)(t),a=e[o]||[];return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},o,[].concat((0,i.Z)(a),[n])))}),{}),S=Object.keys(w),k=(0,Z.N)(b.y,S),R=k.expandedKeys,P=k.onToggle,E=k.onToggleAll,O=y.useMemo((function(){var e=[];return Object.entries(w).forEach((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1],s=(0,T.g)(r);s&&(e.push({type:"header",repoAddress:s,jobCount:i.length}),R.includes(r)&&i.forEach((function(n){e.push({type:"job",repoAddress:s,job:n})})))})),e}),[w,R]),D=(0,v.useVirtualizer)({count:O.length,getScrollElement:function(){return p.current},estimateSize:function(e){return 32},overscan:40}),U=D.getTotalSize(),A=D.getVirtualItems();if(!x)return(0,L.jsx)("div",{style:{height:174},ref:f});var z=Object.keys(w).sort((function(e,n){return e.localeCompare(n)})),F=z.filter((function(e){return R.includes(e)})).reduce((function(e,n){return e+w[n].length}),0),q=z.length*_.l+32*F,G=(0,N.w)(z.map((function(e){var n;return(null===(n=(0,T.g)(e))||void 0===n?void 0:n.name)||""}))),M=z.length>0;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{ref:f}),(0,L.jsx)(c.x,{padding:{left:24},flex:{direction:"column",justifyContent:"center"},style:{fontSize:"16px",flex:"0 0 ".concat(64,"px")},border:{side:"horizontal",width:1,color:u.w.KeylineGray},children:"Jobs"}),(0,L.jsx)("div",{style:{position:"relative"},children:(0,L.jsx)(H,{interval:36e5,range:d,height:M?q:0})}),z.length?(0,L.jsx)("div",{style:{overflow:"hidden",position:"relative"},children:(0,L.jsx)(C.W2,{ref:p,children:(0,L.jsx)(C.Nh,{$totalHeight:U,children:A.map((function(e){var n=e.index,t=e.key,r=e.size,i=e.start,s=O[n];if("header"===s.type){var o=(0,I.Qj)(s.repoAddress),a=s.repoAddress.name;return(0,L.jsx)($,{expanded:R.includes(o),height:r,top:i,repoAddress:s.repoAddress,isDuplicateRepoName:!(!a||!G.has(a)),jobs:w[o],onToggle:P,onToggleAll:E},o)}return(0,L.jsx)(re,{job:s.job,height:r,top:i,range:d,width:x},t)}))})})}):(0,L.jsx)(ie,{loading:t,includesTicks:j})]})},$=function(e){var n=e.expanded,t=e.onToggle,r=e.onToggleAll,i=e.repoAddress,s=e.isDuplicateRepoName,o=e.jobs,a=e.height,l=e.top;return(0,L.jsx)(E.vG,{expanded:n,height:a,start:l,repoAddress:i,showLocation:s,onToggle:t,onToggleAll:r,rightElement:(0,L.jsx)(G,{jobs:o})})},G=y.memo((function(e){var n=e.jobs,t=y.useMemo((function(){var e=0,t=0,r=0;return n.forEach((function(n){n.runs.forEach((function(n){var i=n.status;"SCHEDULED"!==i&&(D.Ys.has(i)?e++:D.hd.has(i)?t++:D._m.has(i)&&r++)}))})),{inProgressCount:e,failedCount:t,succeededCount:r}}),[n]);return(0,L.jsx)(M,(0,s.Z)({},t))})),M=function(e){var n=e.inProgressCount,t=e.succeededCount,r=e.failedCount,i=1===n?"1 run in progress":"".concat(n," runs in progress"),s=1===t?"1 run succeeded":"".concat(t," runs succeeded"),o=1===r?"1 run failed":"".concat(r," runs failed");return(0,L.jsxs)(c.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[n>0?(0,L.jsx)(d.u,{content:(0,L.jsx)(K,{children:i}),placement:"top",children:(0,L.jsx)(p.V,{intent:"primary",children:n})}):null,t>0?(0,L.jsx)(d.u,{content:(0,L.jsx)(K,{children:s}),placement:"top",children:(0,L.jsx)(p.V,{intent:"success",children:t})}):null,r>0?(0,L.jsx)(d.u,{content:(0,L.jsx)(K,{children:o}),placement:"top",children:(0,L.jsx)(p.V,{intent:"danger",children:r})}):null]})},K=a.ZP.span.withConfig({displayName:"RunTimeline__StatusSpan",componentId:"sc-1k6kbha-0"})(["white-space:nowrap;"]),B={month:"numeric",day:"numeric",year:"numeric"},V={month:"short",day:"numeric",year:"numeric",timeZoneName:"short"},J={hour:"numeric"},H=function(e){var n=e.interval,t=e.range,r=e.height,a=(0,o.Z)(t,2),l=a[0],d=a[1],p=function(){var e=y.useContext(R.JB),n=(0,o.Z)(e.timezone,1)[0],t=(0,o.Z)(e.hourCycle,1)[0],r="Automatic"===n?(0,P.cw)():n,i="Automatic"===t?void 0:t;return y.useCallback((function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language;return Intl.DateTimeFormat(t,(0,s.Z)({timeZone:r,hourCycle:i},n)).format(e)}),[r,i])}(),h=y.useMemo((function(){for(var e=d-l,n=new Date(l),t=p(n,V,"en-US"),r=[],i=new Date(t);i.valueOf()<d;){var s=i.getTime(),o=new Date(s).setDate(i.getDate()+1);i=new Date(o),r.push({dayStart:s,dayEnd:o})}return r.map((function(n){var t=n.dayStart,r=n.dayEnd,i=new Date(t),s=t-l,o=s+(r-t),a=Math.max(0,s/e*100),c=Math.min(100,o/e*100);return{label:p(i,B),key:i.toString(),left:a,width:c-a}}))}),[d,p,l]),x=y.useMemo((function(){var e=d-l,t=l-l%n,r=Math.ceil(e/n)+1;return(0,i.Z)(new Array(r)).map((function(r,i){var s=t+i*n,o=new Date(s);return{label:p(o,J).replace(" ",""),key:o.toString(),left:(s-l)/e*100}})).filter((function(e){return e.left>0}))}),[d,l,n,p]),f=Date.now(),m="".concat(((f-l)/(d-l)*100).toPrecision(3),"%");return(0,L.jsxs)(W,{style:{height:"".concat(r,"px"),top:"-".concat(64,"px")},children:[(0,L.jsx)(Y,{children:h.map((function(e){return(0,L.jsx)(Q,{style:{left:"".concat(e.left.toPrecision(3),"%"),width:"".concat(e.width.toPrecision(3),"%")},children:e.width>10?(0,L.jsx)(c.x,{flex:{justifyContent:"center"},children:e.label}):null},e.key)}))}),(0,L.jsx)(Y,{children:x.map((function(e){return(0,L.jsx)(X,{style:{left:"".concat(e.left.toPrecision(3),"%")},children:e.label},e.key)}))}),(0,L.jsxs)(ee,{children:[(0,L.jsx)(ne,{style:{left:0,backgroundColor:u.w.Gray200}}),x.map((function(e){return(0,L.jsx)(ne,{style:{left:"".concat(e.left.toPrecision(3),"%")}},e.key)})),f>=l&&f<=d?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(te,{style:{left:m},children:"Now"}),(0,L.jsx)(ne,{style:{left:m,backgroundColor:u.w.Blue500,zIndex:1}})]}):null]})]})},W=a.ZP.div.withConfig({displayName:"RunTimeline__DividerContainer",componentId:"sc-1k6kbha-1"})(["position:absolute;top:0;left:","px;right:0;font-family:",";color:",";"],320,h.b.monospace,u.w.Gray800),Y=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLabels",componentId:"sc-1k6kbha-2"})(["display:flex;align-items:center;box-shadow:inset 1px 0 0 ",",inset 0 1px 0 ",",inset -1px 0 0 ",";height:","px;position:relative;user-select:none;font-size:12px;width:100%;overflow:hidden;"],u.w.KeylineGray,u.w.KeylineGray,u.w.KeylineGray,32),Q=a.ZP.div.withConfig({displayName:"RunTimeline__DateLabel",componentId:"sc-1k6kbha-3"})(["position:absolute;padding:8px 0;box-shadow:inset 1px 0 0 ",";white-space:nowrap;"],u.w.KeylineGray),X=a.ZP.div.withConfig({displayName:"RunTimeline__TimeLabel",componentId:"sc-1k6kbha-4"})(["position:absolute;padding:8px;box-shadow:inset 1px 0 0 ",";white-space:nowrap;"],u.w.KeylineGray),ee=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLines",componentId:"sc-1k6kbha-5"})(["height:100%;position:relative;width:100%;box-shadow:inset 1px 0 0 ",",inset -1px 0 0 ",";"],u.w.KeylineGray,u.w.KeylineGray),ne=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLine",componentId:"sc-1k6kbha-6"})(["background-color:",";height:100%;position:absolute;top:0;width:1px;"],u.w.KeylineGray),te=a.ZP.div.withConfig({displayName:"RunTimeline__NowMarker",componentId:"sc-1k6kbha-7"})(["background-color:",";border-radius:1px;color:",";cursor:default;font-size:12px;line-height:12px;margin-left:-12px;padding:1px 4px;position:absolute;top:-14px;user-select:none;"],u.w.Blue500,u.w.White),re=function(e){var n=e.job,t=e.top,r=e.height,i=e.range,s=e.width,a=(0,o.Z)(i,2),l=a[0],d=a[1],p=s-320,h=n.runs,g=y.useMemo((function(){return(0,A.i)({runs:h,start:l,end:d,width:p,minChunkWidth:2,minMultipleWidth:12})}),[h,l,d,p]);return n.runs.length?(0,L.jsxs)(se,{$height:r,$start:t,children:[(0,L.jsxs)(oe,{children:[(0,L.jsx)(x.JO,{name:"asset"===n.jobType?"asset":"job"}),(0,L.jsx)("div",{style:{width:268},children:"asset"===n.jobType?(0,L.jsx)("span",{style:{color:u.w.Gray900},children:(0,L.jsx)(f.g,{text:n.jobName})}):(0,L.jsx)(w.rU,{to:n.path,children:(0,L.jsx)(f.g,{text:n.jobName})})})]}),(0,L.jsx)(ae,{children:g.map((function(e){var t=e.left,r=e.width,i=e.runs.length;return(0,L.jsx)(le,{$background:F(e.runs),$multiple:i>1,style:{left:"".concat(t,"px"),width:"".concat(r,"px")},children:(0,L.jsx)(m.J,{content:(0,L.jsx)(ue,{job:n,batch:e}),position:"top",interactionKind:"hover",className:"chunk-popover-target",children:(0,L.jsx)(c.x,{flex:{direction:"row",justifyContent:"center",alignItems:"center"},style:{height:"100%"},children:i>1?(0,L.jsx)(ce,{children:e.runs.length}):null})})},e.runs[0].id)}))})]}):null},ie=function(e){var n=e.loading,t=e.includesTicks;return(0,L.jsx)(c.x,{background:u.w.White,padding:{vertical:24},flex:{direction:"row",justifyContent:"center"},border:{side:"horizontal",width:1,color:u.w.KeylineGray},children:n?(0,L.jsxs)(c.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,L.jsx)(g.$,{purpose:"body-text"}),t?"Loading runs and scheduled ticks":"Loading runs"]}):(0,L.jsxs)(c.x,{flex:{direction:"column",gap:12,alignItems:"center"},children:[(0,L.jsx)("div",{children:t?"No runs or scheduled ticks in this time period.":"No runs in this time period."}),(0,L.jsxs)(c.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,L.jsx)(k.A,{icon:(0,L.jsx)(x.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,L.jsx)("span",{children:"or"}),(0,L.jsx)(k.A,{icon:(0,L.jsx)(x.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})},se=a.ZP.div.attrs((function(e){var n=e.$height,t=e.$start;return{style:{height:"".concat(n,"px"),transform:"translateY(".concat(t,"px)")}}})).withConfig({displayName:"RunTimeline__Row",componentId:"sc-1k6kbha-8"})(["align-items:center;box-shadow:inset 0 -1px 0 ",";display:flex;flex-direction:row;width:100%;padding:1px 0;left:0;position:absolute;right:0;top:0;overflow:hidden;:hover{background-color:",";}"],u.w.KeylineGray,u.w.Gray10),oe=a.ZP.div.withConfig({displayName:"RunTimeline__JobName",componentId:"sc-1k6kbha-9"})(["align-items:center;display:flex;font-size:13px;justify-content:flex-start;gap:8px;line-height:16px;overflow:hidden;padding:0 12px 0 24px;text-overflow:ellipsis;white-space:nowrap;width:","px;"],320),ae=a.ZP.div.withConfig({displayName:"RunTimeline__RunChunks",componentId:"sc-1k6kbha-10"})(["flex:1;position:relative;height:","px;"],32),le=a.ZP.div.withConfig({displayName:"RunTimeline__RunChunk",componentId:"sc-1k6kbha-11"})(["align-items:center;background:",";border-radius:2px;height:","px;position:absolute;top:2px;",";transition:background-color 300ms linear,width 300ms ease-in-out;.chunk-popover-target{display:block;height:100%;width:100%;}"],(function(e){return e.$background}),28,(function(e){return e.$multiple?"min-width: ".concat(12,"px"):null})),ce=a.ZP.div.withConfig({displayName:"RunTimeline__BatchCount",componentId:"sc-1k6kbha-12"})(["color:",";cursor:default;font-family:",";font-size:14px;font-weight:600;user-select:none;"],u.w.White,h.b.monospace),ue=function(e){var n=e.job,t=e.batch,r=t.runs.slice(0,50),i=t.runs.length-r.length;return(0,L.jsxs)(c.x,{style:{width:"260px"},children:[(0,L.jsx)(c.x,{padding:12,border:{side:"bottom",width:1,color:u.w.KeylineGray},children:(0,L.jsx)(de,{children:n.jobName})}),(0,L.jsx)("div",{style:{maxHeight:"240px",overflowY:"auto"},children:r.map((function(e,n){return(0,L.jsxs)(c.x,{border:n>0?{side:"top",width:1,color:u.w.KeylineGray}:null,flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},padding:{vertical:8,horizontal:12},children:[(0,L.jsxs)(c.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,L.jsx)(O.O_,{status:e.status,size:8}),"SCHEDULED"===e.status?"Scheduled":(0,L.jsx)(w.rU,{to:"/runs/".concat(e.id),children:(0,L.jsx)(j.fv,{children:e.id.slice(0,8)})})]}),(0,L.jsx)(j.fv,{children:"SCHEDULED"===e.status?(0,L.jsx)(S.v,{timestamp:e.startTime/1e3}):(0,L.jsx)(U.Q,{startUnix:e.startTime/1e3,endUnix:e.endTime/1e3})})]},e.id)}))}),i>0?(0,L.jsx)(c.x,{padding:12,border:{side:"top",width:1,color:u.w.KeylineGray},children:(0,L.jsxs)(w.rU,{to:"".concat(n.path,"/runs"),children:["+ ",i," more"]})}):null]})},de=a.ZP.strong.withConfig({displayName:"RunTimeline__HoverContentJobName",componentId:"sc-1k6kbha-13"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;"])},4296:function(e,n,t){t.d(n,{a:function(){return i},i:function(){return s}});var r=t(68079),i=function(e,n){return!(e.end<n.start||n.end<e.start)},s=function(e){for(var n=e.runs,t=e.start,i=e.end,s=e.width,a=e.minChunkWidth,l=e.minMultipleWidth,c=i-t,u=(Date.now()-t)/(i-t)*s,d=n.map((function(e){var n=e.startTime,r=e.endTime||Date.now();return{runs:[e],startTime:n,endTime:r,left:Math.max(0,Math.floor((n-t)/c*s)),width:Math.max(a,Math.min(Math.ceil((r-n)/c*s),Math.ceil((r-t)/c*s)))}})).sort((function(e,n){return n.left-e.left})),p=[];d.length;){var h=d.shift(),x=d[0];if(h)if(x&&o(h,x,l,u)){d.shift(),h.runs=[].concat((0,r.Z)(h.runs),(0,r.Z)(x.runs)),h.startTime=Math.min(h.startTime,x.startTime),h.endTime=Math.max(h.endTime,x.endTime);var f=Math.max(h.left+l,h.left+h.width,x.left+x.width),m=Math.min(h.left,x.left);h.width=f-m,h.left=m,d.unshift(h)}else p.push(h)}return p},o=function(e,n,t,r){var s=e.left,o=e.left+Math.max(e.width,t),a=n.left,l=n.left+Math.max(n.width,t),c=Math.min(e.left,n.left),u=Math.max(e.left+Math.max(e.width,t),n.left+Math.max(n.width,t));return i({start:s,end:o},{start:a,end:l})&&(c>r||u<r)}},75731:function(e,n,t){t.d(n,{W:function(){return p}});var r=t(32723),i=t(34795),s=t(96234),o=t(15541),a=t(78193),l=t(50032),c=t(93809),u=t(80500),d=t(89622),p=function(e){var n=(0,l.k6)(),t=(0,o.D)(d.kO),p=(0,s.Z)(t,1)[0],h=(0,u.n)(e);return a.useCallback(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){var s,o,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.pipelineSnapshotId&&h){t.next=2;break}return t.abrupt("return");case 2:return s=(0,d.kz)({run:e,style:i,repositoryLocationName:h.match.repositoryLocation.name,repositoryName:h.match.repository.name}),t.prev=3,t.next=6,p({variables:s});case 6:a=t.sent,(0,d.lF)(e.pipelineName,null===(o=a.data)||void 0===o?void 0:o.launchPipelineReexecution,n,{preserveQuerystring:!0,behavior:"open"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),(0,c.t)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[n,p,h,e])}},18786:function(e,n,t){t.d(n,{_:function(){return S}});var r=t(96234),i=t(73070),s=t(85357),o=t(45519),a=t(61623),l=t(78193),c=t(41387),u=t(41361),d=t(32723),p=t(34795),h=t(15541),x=t(80018),f=t(4537),m=t(32667),g=t(3077),j=t(22908),v=t(49675),y=t(3069),w=t(35936),b=function(e){var n=e.openWithIntent,t=e.onClose,i=e.onComplete,s=e.schedules,c=s.length,b=(0,j.s)(),S=(0,r.Z)(b,2),k=S[0],C=S[1];l.useEffect((function(){"not-open"===n&&C({type:"reset"})}),[n,C]);var N=(0,h.D)(y.Wz),R=(0,r.Z)(N,1)[0],P=(0,h.D)(y.d0),Z=(0,r.Z)(P,1)[0],E=function(){var e=(0,p.Z)((0,d.Z)().mark((function e(n){var t,r,i,s,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.repoAddress,r=n.scheduleName,i={scheduleSelector:{repositoryLocationName:t.location,repositoryName:t.name,scheduleName:r}},e.next=4,R({variables:i});case 4:s=e.sent,o=s.data,e.t0=null===o||void 0===o?void 0:o.startSchedule.__typename,e.next="ScheduleStateResult"===e.t0?9:"UnauthorizedError"===e.t0||"PythonError"===e.t0?11:12;break;case 9:return C({type:"update-success"}),e.abrupt("return");case 11:C({type:"update-error",name:r,error:o.startSchedule.message});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=(0,p.Z)((0,d.Z)().mark((function e(n){var t,r,i,s,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.scheduleName,r=n.scheduleState,i={scheduleOriginId:r.id,scheduleSelectorId:r.selectorId},e.next=4,Z({variables:i});case 4:s=e.sent,o=s.data,e.t0=null===o||void 0===o?void 0:o.stopRunningSchedule.__typename,e.next="ScheduleStateResult"===e.t0?9:"UnauthorizedError"===e.t0||"PythonError"===e.t0?11:12;break;case 9:return C({type:"update-success"}),e.abrupt("return");case 11:C({type:"update-error",name:t,error:o.stopRunningSchedule.message});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=(0,p.Z)((0,d.Z)().mark((function e(){var t,r,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("not-open"!==n){e.next=2;break}return e.abrupt("return");case 2:C({type:"start"}),t=(0,u.Z)(s),e.prev=4,t.s();case 6:if((r=t.n()).done){e.next=17;break}if(o=r.value,"start"!==n){e.next=13;break}return e.next=11,E(o);case 11:e.next=15;break;case 13:return e.next=15,I(o);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:C({type:"complete"}),i();case 27:case"end":return e.stop()}}),e,null,[[4,19,22,25]])})));return function(){return e.apply(this,arguments)}}(),_="updating"!==k.step;return(0,w.jsxs)(g.Vq,{isOpen:"not-open"!==n,title:"start"===n?"Start schedules":"Stop schedules",canEscapeKeyClose:_,canOutsideClickClose:_,onClose:t,children:[(0,w.jsx)(g.a7,{children:(0,w.jsxs)(f.Z,{direction:"column",spacing:24,children:[function(){if("not-open"===n)return null;switch(k.step){case"initial":return"stop"===n?(0,w.jsx)("div",{children:"".concat(c," ").concat(1===c?"schedule":"schedules"," will be stopped. Do you want to continue?")}):(0,w.jsx)("div",{children:"".concat(c," ").concat(1===c?"schedule":"schedules"," will be started. Do you want to continue?")});case"updating":case"completed":var e=c>0?k.completion.completed/c:1;return(0,w.jsxs)(f.Z,{direction:"column",spacing:8,children:[(0,w.jsx)(x.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"updating"===k.step?(0,w.jsx)(v.c,{message:"Schedules are being updated, please do not navigate away yet."}):null]});default:return null}}(),function(){if("not-open"===n||"initial"===k.step)return null;if("updating"===k.step)return(0,w.jsx)("div",{children:"Please do not close the window or navigate away while schedules are being updated."});var e=k.completion.errors,t=Object.keys(e).length,r=k.completion.completed-t;return(0,w.jsxs)(f.Z,{direction:"column",spacing:8,children:[r?(0,w.jsxs)(f.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,w.jsx)(a.JO,{name:"check_circle",color:m.w.Green500}),(0,w.jsx)("div",{children:"start"===n?"Successfully started ".concat(1===r?"1 schedule":"".concat(r," schedules"),"."):"Successfully stopped ".concat(1===r?"1 schedule":"".concat(r," schedules"),".")})]}):null,t?(0,w.jsxs)(f.Z,{direction:"column",spacing:8,children:[(0,w.jsxs)(f.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,w.jsx)(a.JO,{name:"warning",color:m.w.Yellow500}),(0,w.jsx)("div",{children:"start"===n?"Could not start ".concat(1===t?"1 schedule":"".concat(t," schedules"),"."):"Could not stop ".concat(1===t?"1 schedule":"".concat(t," schedules"),".")})]}),(0,w.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,w.jsx)("li",{children:(0,w.jsxs)(f.Z,{direction:"row",spacing:8,children:[(0,w.jsxs)("strong",{children:[n,":"]}),e[n]?(0,w.jsx)("div",{children:e[n]}):null]})},n)}))})]}):null]})}()]})}),(0,w.jsx)(g.cN,{children:function(){if("not-open"===n)return null;switch(k.step){case"initial":var e="start"===n?"Start ".concat(1===c?"1 schedule":"".concat(c," schedules")):"Stop ".concat(1===c?"1 schedule":"".concat(c," schedules"));return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,w.jsx)(o.zx,{intent:"primary",onClick:T,children:e})]});case"updating":var r="start"===n?"Starting ".concat(1===c?"1 schedule":"".concat(c," schedules")):"Stopping ".concat(1===c?"1 schedule":"".concat(c," schedules"));return(0,w.jsx)(o.zx,{intent:"primary",disabled:!0,children:r});case"completed":return(0,w.jsx)(o.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},S=function(e){var n=e.schedules,t=e.onDone,u=n.length,d=l.useState("not-open"),p=(0,r.Z)(d,2),h=p[0],x=p[1],f=l.useMemo((function(){return(0,c.H)(n.map((function(e){return e.scheduleState})))}),[n]),m=f.anyOff,g=f.anyOn;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.J,{content:(0,w.jsxs)(s.v2,{children:[(0,w.jsx)(s.sN,{text:"Start ".concat(1===u?"1 schedule":"".concat(u," schedules")),disabled:!m,"aria-disabled":!m,icon:"toggle_on",onClick:function(){x("start")}}),(0,w.jsx)(s.sN,{text:"Stop ".concat(1===u?"1 schedule":"".concat(u," schedules")),disabled:!g,"aria-disabled":!g,icon:"toggle_off",onClick:function(){x("stop")}})]}),placement:"bottom-end",children:(0,w.jsx)(o.zx,{disabled:!u,intent:"primary",rightIcon:(0,w.jsx)(a.JO,{name:"expand_more"}),children:"Actions"})}),(0,w.jsx)(b,{openWithIntent:h,schedules:n,onClose:function(){return x("not-open")},onComplete:function(){t()}})]})}},33654:function(e,n,t){t.d(n,{K:function(){return c}});var r=t(33028),i=t(59740),s=t(47515),o=t(16255),a=(t(78193),t(35936)),l=["daemonHealth"],c=function(e){var n=e.daemonHealth,t=(0,i.Z)(e,l),c=void 0;if(n){var u=n.allDaemonStatuses.filter((function(e){return"SCHEDULER"===e.daemonType}));if(u.length>0){var d=u[0];c=d.required&&d.healthy}}return!1===c?(0,a.jsx)(s.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(o.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},81815:function(e,n,t){t.d(n,{g:function(){return i}});var r=t(9610),i=function(e,n){return"".concat((0,r.Uz)(e),"-").concat(n)}},20460:function(e,n,t){t.d(n,{b:function(){return S}});var r=t(96234),i=t(73070),s=t(85357),o=t(45519),a=t(61623),l=t(78193),c=t(41387),u=t(41361),d=t(32723),p=t(34795),h=t(15541),x=t(80018),f=t(4537),m=t(32667),g=t(3077),j=t(22908),v=t(49675),y=t(78595),w=t(35936),b=function(e){var n=e.openWithIntent,t=e.onClose,i=e.onComplete,s=e.sensors,c=s.length,b=(0,j.s)(),S=(0,r.Z)(b,2),k=S[0],C=S[1];l.useEffect((function(){"not-open"===n&&C({type:"reset"})}),[n,C]);var N=(0,h.D)(y.VE),R=(0,r.Z)(N,1)[0],P=(0,h.D)(y.Xu),Z=(0,r.Z)(P,1)[0],E=function(){var e=(0,p.Z)((0,d.Z)().mark((function e(n){var t,r,i,s,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.repoAddress,r=n.sensorName,i={sensorSelector:{repositoryLocationName:t.location,repositoryName:t.name,sensorName:r}},e.next=4,R({variables:i});case 4:s=e.sent,o=s.data,e.t0=null===o||void 0===o?void 0:o.startSensor.__typename,e.next="Sensor"===e.t0?9:"SensorNotFoundError"===e.t0||"UnauthorizedError"===e.t0||"PythonError"===e.t0?11:12;break;case 9:return C({type:"update-success"}),e.abrupt("return");case 11:C({type:"update-error",name:r,error:o.startSensor.message});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=(0,p.Z)((0,d.Z)().mark((function e(n){var t,r,i,s,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.sensorName,r=n.sensorState,i={jobOriginId:r.id,jobSelectorId:r.selectorId},e.next=4,Z({variables:i});case 4:s=e.sent,o=s.data,e.t0=null===o||void 0===o?void 0:o.stopSensor.__typename,e.next="StopSensorMutationResult"===e.t0?9:"UnauthorizedError"===e.t0||"PythonError"===e.t0?11:12;break;case 9:return C({type:"update-success"}),e.abrupt("return");case 11:C({type:"update-error",name:t,error:o.stopSensor.message});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=(0,p.Z)((0,d.Z)().mark((function e(){var t,r,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("not-open"!==n){e.next=2;break}return e.abrupt("return");case 2:C({type:"start"}),t=(0,u.Z)(s),e.prev=4,t.s();case 6:if((r=t.n()).done){e.next=17;break}if(o=r.value,"start"!==n){e.next=13;break}return e.next=11,E(o);case 11:e.next=15;break;case 13:return e.next=15,I(o);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:C({type:"complete"}),i();case 27:case"end":return e.stop()}}),e,null,[[4,19,22,25]])})));return function(){return e.apply(this,arguments)}}(),_="updating"!==k.step;return(0,w.jsxs)(g.Vq,{isOpen:"not-open"!==n,title:"start"===n?"Start sensors":"Stop sensors",canEscapeKeyClose:_,canOutsideClickClose:_,onClose:t,children:[(0,w.jsx)(g.a7,{children:(0,w.jsxs)(f.Z,{direction:"column",spacing:24,children:[function(){if("not-open"===n)return null;switch(k.step){case"initial":return"stop"===n?(0,w.jsx)("div",{children:"".concat(c," ").concat(1===c?"sensor":"sensors"," will be stopped. Do you want to continue?")}):(0,w.jsx)("div",{children:"".concat(c," ").concat(1===c?"sensor":"sensors"," will be started. Do you want to continue?")});case"updating":case"completed":var e=c>0?k.completion.completed/c:1;return(0,w.jsxs)(f.Z,{direction:"column",spacing:8,children:[(0,w.jsx)(x.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"updating"===k.step?(0,w.jsx)(v.c,{message:"Sensors are being updated, please do not navigate away yet."}):null]});default:return null}}(),function(){if("not-open"===n||"initial"===k.step)return null;if("updating"===k.step)return(0,w.jsx)("div",{children:"Please do not close the window or navigate away while sensors are being updated."});var e=k.completion.errors,t=Object.keys(e).length,r=k.completion.completed-t;return(0,w.jsxs)(f.Z,{direction:"column",spacing:8,children:[r?(0,w.jsxs)(f.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,w.jsx)(a.JO,{name:"check_circle",color:m.w.Green500}),(0,w.jsx)("div",{children:"start"===n?"Successfully started ".concat(1===r?"1 sensor":"".concat(r," sensors"),"."):"Successfully stopped ".concat(1===r?"1 sensor":"".concat(r," sensors"),".")})]}):null,t?(0,w.jsxs)(f.Z,{direction:"column",spacing:8,children:[(0,w.jsxs)(f.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,w.jsx)(a.JO,{name:"warning",color:m.w.Yellow500}),(0,w.jsx)("div",{children:"start"===n?"Could not start ".concat(1===t?"1 sensor":"".concat(t," sensors"),":"):"Could not stop ".concat(1===t?"1 sensor":"".concat(t," sensors"),":")})]}),(0,w.jsx)("ul",{style:{margin:"8px 0"},children:Object.keys(e).map((function(n){return(0,w.jsx)("li",{children:(0,w.jsxs)(f.Z,{direction:"row",spacing:8,children:[(0,w.jsxs)("strong",{children:[n,":"]}),e[n]?(0,w.jsx)("div",{children:e[n]}):null]})},n)}))})]}):null]})}()]})}),(0,w.jsx)(g.cN,{children:function(){if("not-open"===n)return null;switch(k.step){case"initial":var e="start"===n?"Start ".concat(1===c?"1 sensor":"".concat(c," sensors")):"Stop ".concat(1===c?"1 sensor":"".concat(c," sensors"));return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,w.jsx)(o.zx,{intent:"primary",onClick:T,children:e})]});case"updating":var r="start"===n?"Starting ".concat(1===c?"1 sensor":"".concat(c," sensors")):"Stopping ".concat(1===c?"1 sensor":"".concat(c," sensors"));return(0,w.jsx)(o.zx,{intent:"primary",disabled:!0,children:r});case"completed":return(0,w.jsx)(o.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},S=function(e){var n=e.sensors,t=e.onDone,u=n.length,d=l.useState("not-open"),p=(0,r.Z)(d,2),h=p[0],x=p[1],f=l.useMemo((function(){return(0,c.H)(n.map((function(e){return e.sensorState})))}),[n]),m=f.anyOff,g=f.anyOn;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.J,{content:(0,w.jsxs)(s.v2,{children:[(0,w.jsx)(s.sN,{text:"Start ".concat(1===u?"1 sensor":"".concat(u," sensors")),disabled:!m,"aria-disabled":!m,icon:"toggle_on",onClick:function(){x("start")}}),(0,w.jsx)(s.sN,{text:"Stop ".concat(1===u?"1 sensor":"".concat(u," sensors")),disabled:!g,"aria-disabled":!g,icon:"toggle_off",onClick:function(){x("stop")}})]}),placement:"bottom-end",children:(0,w.jsx)(o.zx,{disabled:!u,intent:"primary",rightIcon:(0,w.jsx)(a.JO,{name:"expand_more"}),children:"Actions"})}),(0,w.jsx)(b,{openWithIntent:h,sensors:n,onClose:function(){return x("not-open")},onComplete:function(){t()}})]})}},45865:function(e,n,t){t.d(n,{e:function(){return ne},F:function(){return ee}});var r,i,s=t(96234),o=t(20356),a=t(47515),l=t(83473),c=t(95714),u=t(45519),d=t(90519),p=t(4537),h=t(57103),x=t(92555),f=t(61623),m=t(32667),g=t(78193),j=t(39707),v=t(34287),y=t(23555),w=t(88508),b=t(12434),S=t(24265),k=t(46856),C=t(71171),N=t(32723),R=t(34795),P=t(33028),Z=t(60319),E=t(15541),I=t(31623),T=t(3077),_=t(62459),O=t(80923),D=t(67445),U=t(80005),A=t(82182),z=t(62638),F=t(92014),L=t(88949),q=(t(23955),t(35936)),$=function(e){var n=e.isOpen,t=e.sensorSelector,r=e.cursor,i=e.onClose,o=g.useState(r),a=(0,s.Z)(o,2),l=a[0],c=a[1],d=g.useState(!1),h=(0,s.Z)(d,2),f=h[0],j=h[1],v=(0,E.D)(G),y=(0,s.Z)(v,1)[0],w=function(){var e=(0,R.Z)((0,N.Z)().mark((function e(){var n,r,s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,y({variables:{sensorSelector:t,cursor:l}});case 3:if(n=e.sent,"Sensor"!==(null===(r=n.data)||void 0===r?void 0:r.setSensorCursor.__typename)){e.next=10;break}return e.next=8,(0,A.B7)({message:"Cursor value updated",intent:"success"});case 8:e.next=14;break;case 10:if(null===r||void 0===r||!r.setSensorCursor){e.next=14;break}return s=r.setSensorCursor,e.next=14,(0,A.B7)({intent:"danger",message:(0,q.jsxs)(p.Z,{direction:"row",spacing:8,children:[(0,q.jsx)("div",{children:"Could not set cursor value."}),(0,q.jsx)(x.Z,{color:m.w.White,underline:"always",onClick:function(){(0,U._)({title:"Python Error",body:"PythonError"===s.__typename?(0,q.jsx)(F.T9,{error:s}):"Sensor not found"})},children:"View error"})]})});case 14:i();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,q.jsxs)(T.Vq,{isOpen:n,onClose:function(){i(),c(r)},style:{width:"500px"},title:"Edit ".concat(t.sensorName," cursor"),children:[(0,q.jsx)(T.a7,{children:(0,q.jsx)(O.Kx,{value:l,$resize:"vertical",onChange:function(e){return c(e.target.value)},style:{width:"100%"}})}),(0,q.jsxs)(T.cN,{children:[(0,q.jsx)(u.zx,{onClick:i,children:"Cancel"}),(0,q.jsx)(u.zx,{intent:"primary",onClick:w,disabled:f,children:"Set cursor value"})]})]})},G=(0,I.Ps)(r||(r=(0,C.Z)(["\n  mutation SetSensorCursorMutation($sensorSelector: SensorSelector!, $cursor: String) {\n    setSensorCursor(sensorSelector: $sensorSelector, cursor: $cursor) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n          typeSpecificData {\n            ... on SensorData {\n              lastCursor\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),z.B),M=t(18517),K=t(18659),B=t(76413),V=t(15527),J=function(e){var n=e.isOpen,t=e.onClose,r=e.name;return(0,q.jsx)(T.Vq,{isOpen:n,onClose:t,style:{width:"70vw",display:"flex"},icon:"sensors",title:r,children:(0,q.jsx)(H,(0,P.Z)({},e))})},H=function(e){var n,t=e.repoAddress,r=e.name,i=e.currentCursor,o=e.onClose,d=e.jobName,h=(0,E.D)(W),j=(0,s.Z)(h,1)[0],v=g.useState(i),y=(0,s.Z)(v,2),w=y[0],b=y[1],S=g.useState(!1),k=(0,s.Z)(S,2),C=k[0],P=k[1],Z=g.useState(null),I=(0,s.Z)(Z,2),z=I[0],$=I[1],V=g.useState(null),J=(0,s.Z)(V,2),H=J[0],Q=J[1],X=g.useMemo((function(){return{sensorName:r,repositoryLocationName:t.location,repositoryName:t.name}}),[t,r]),ee=g.useCallback((0,R.Z)((0,N.Z)().mark((function e(){var n,t,i,s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,j({variables:{selectorData:X,cursor:w}});case 3:t=e.sent,(i=null===(n=t.data)||void 0===n?void 0:n.sensorDryRun)?"DryRunInstigationTick"===(null===i||void 0===i?void 0:i.__typename)?null!==(s=i.evaluationResult)&&void 0!==s&&s.error?$(i.evaluationResult.error):Q(i):"SensorNotFoundError"===(null===i||void 0===i?void 0:i.__typename)?(0,U._)({title:"Sensor not found",body:"Could not find a sensor named: ".concat(r)}):$(i):(0,L.UT)("sensorDryRun Mutation returned no data??"),P(!1);case 7:case"end":return e.stop()}}),e)}))),[j,X,w,r]),ne=g.useMemo((function(){return H||z?(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,q.jsx)(u.zx,{"data-testid":(0,M.N)("test-again"),onClick:function(){Q(null),$(null)},children:"Test again"}),(0,q.jsx)(u.zx,{intent:"primary",onClick:o,children:"Close"})]}):C?(0,q.jsx)(a.x,{flex:{direction:"row",gap:8},children:(0,q.jsx)(u.zx,{onClick:o,children:"Cancel"})}):(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,q.jsx)(u.zx,{onClick:o,children:"Cancel"}),(0,q.jsx)(u.zx,{onClick:ee,intent:"primary","data-testid":(0,M.N)("evaluate"),children:"Evaluate"})]})}),[H,z,C,o,ee]),te=g.useState("Unpersisted"),re=(0,s.Z)(te,2),ie=re[0],se=re[1],oe=(0,E.D)(G),ae=(0,s.Z)(oe,1)[0],le=g.useCallback((0,R.Z)((0,N.Z)().mark((function e(){var n,t,r,i,s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=null===H||void 0===H||null===(n=H.evaluationResult)||void 0===n?void 0:n.cursor)||(0,L.UT)("Did not expect to get here"),se("Persisting"),e.next=5,ae({variables:{sensorSelector:X,cursor:t}});case 5:if(r=e.sent,"Sensor"!==(null===(i=r.data)||void 0===i?void 0:i.setSensorCursor.__typename)){e.next=13;break}return e.next=10,(0,A.B7)({message:"Cursor value updated",intent:"success"});case 10:se("Persisted"),e.next=17;break;case 13:if(null===i||void 0===i||!i.setSensorCursor){e.next=17;break}return s=i.setSensorCursor,e.next=17,(0,A.B7)({intent:"danger",message:(0,q.jsxs)(p.Z,{direction:"row",spacing:8,children:[(0,q.jsx)("div",{children:"Could not set cursor value."}),(0,q.jsx)(x.Z,{color:m.w.White,underline:"always",onClick:function(){(0,U._)({title:"Python Error",body:"PythonError"===s.__typename?(0,q.jsx)(F.T9,{error:s}):"Sensor not found"})},children:"View error"})]})});case 17:case"end":return e.stop()}}),e)}))),[null===H||void 0===H||null===(n=H.evaluationResult)||void 0===n?void 0:n.cursor,X,ae]),ce=g.useMemo((function(){if(H||z){var e,n,s,o,p,h,x,g=null===H||void 0===H||null===(e=H.evaluationResult)||void 0===e?void 0:e.runRequests,j=(null===g||void 0===g?void 0:g.length)||0,v=!z&&0===j,y=null===H||void 0===H||null===(n=H.evaluationResult)||void 0===n?void 0:n.dynamicPartitionsRequests;return(0,q.jsx)(a.x,{flex:{direction:"column",gap:8},children:(0,q.jsxs)(a.x,{children:[(0,q.jsxs)(Y,{children:[(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Result"}),(0,q.jsx)(a.x,{flex:{grow:1,alignItems:"center"},children:(0,q.jsx)("div",{children:z?(0,q.jsx)(c.V,{intent:"danger",children:"Failed"}):j?(0,q.jsxs)(c.V,{intent:"success",children:[j," run requests"]}):(0,q.jsx)(c.V,{intent:"warning",children:"Skipped"})})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Used cursor value"}),(0,q.jsx)("pre",{children:null!==w&&void 0!==w&&w.length?w:"None"})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Computed cursor value"}),(0,q.jsx)("pre",{children:null!==H&&void 0!==H&&null!==(s=H.evaluationResult)&&void 0!==s&&null!==(o=s.cursor)&&void 0!==o&&o.length?null===H||void 0===H?void 0:H.evaluationResult.cursor:z?"Error":"None"}),z||(null!==i&&void 0!==i?i:"")===(null!==(p=null===H||void 0===H||null===(h=H.evaluationResult)||void 0===h?void 0:h.cursor)&&void 0!==p?p:"")?null:(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,q.jsx)(u.zx,{disabled:["Persisting","Persisted"].includes(ie),loading:"Persisting"===ie,onClick:le,children:(0,q.jsx)("span",{"data-testid":(0,M.N)("persist-cursor"),children:"Persisting"===ie?"Persisting":"Persisted"===ie?"Persisted":"Persist computed cursor value"})}),"Persisted"===ie?(0,q.jsx)(f.JO,{name:"check_circle",color:m.w.Green500}):null]})]})]}),z?(0,q.jsx)("div",{children:(0,q.jsx)(F.T9,{error:z})}):null,v?(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Skip reason"}),(0,q.jsx)("div",{children:(null===H||void 0===H||null===(x=H.evaluationResult)||void 0===x?void 0:x.skipReason)||"No skip reason was output"})]}):null,j&&g?(0,q.jsx)(K.k,{runRequests:g,name:r,jobName:d,isJob:!0,repoAddress:t}):null,null!==y&&void 0!==y&&y.length?(0,q.jsx)("div",{style:{marginTop:"24px"},children:(0,q.jsx)(B.T,{requests:y})}):null]})})}return C?(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8,justifyContent:"center",alignItems:"center"},children:[(0,q.jsx)(_.$,{purpose:"body-text"}),(0,q.jsx)("div",{children:"Evaluating sensor"})]}):(0,q.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,q.jsx)("div",{children:"Cursor"}),(0,q.jsx)(O.oi,{value:w,onChange:function(e){return b(e.target.value)},"data-testid":(0,M.N)("cursor-input")}),""!==i&&i?null:(0,q.jsx)(a.x,{padding:{top:16,bottom:32},flex:{justifyContent:"center"},children:(0,q.jsx)(D.t,{icon:"no-results",title:"You're not using a cursor",description:(0,q.jsxs)("span",{children:["Check our"," ",(0,q.jsx)("a",{href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#idempotence-and-cursors",children:"sensor documentation"})," ","to learn how to use cursors"]})})})]})}),[H,z,C,i,ie,le,r,d,t,w]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(T.a7,{children:(0,q.jsx)("div",{style:{minHeight:"300px"},children:ce})}),(0,q.jsx)(T.cN,{topBorder:!0,children:ne})]})},W=(0,I.Ps)(i||(i=(0,C.Z)(["\n  mutation SensorDryRunMutation($selectorData: SensorSelector!, $cursor: String) {\n    sensorDryRun(selectorData: $selectorData, cursor: $cursor) {\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          cursor\n          runRequests {\n            ...RunRequestFragment\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n          dynamicPartitionsRequests {\n            ...DynamicPartitionRequestFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment DynamicPartitionRequestFragment on DynamicPartitionRequest {\n    partitionKeys\n    partitionsDefName\n    type\n  }\n\n  ","\n  ","\n"])),V.s,z.B),Y=Z.ZP.div.withConfig({displayName:"SensorDryRunDialog__Grid",componentId:"sc-6bg5ar-0"})(["display:grid;grid-template-columns:repeat(3,1fr);padding-bottom:12px;border-bottom:1px solid ",";margin-bottom:12px;","{padding-bottom:4px;display:block;}pre{margin:0;}button{margin-top:4px;}"],m.w.KeylineGray,l.pm),Q=t(92761),X=t(20876),ee=function(e){return e||(e=30),(e=Math.max(30,e))<60||e%60?"~".concat(e," sec"):3600===e?"~1 hour":e<3600||e%3600?"~".concat(e/60," min"):86400===e?"~1 day":e<86400||e%86400?"~".concat(e/3600," hours"):"~".concat(e/86400," days")},ne=function(e){var n,t,r=e.sensor,i=e.repoAddress,C=e.daemonHealth,N=e.refreshState,R=r.name,P=r.sensorState,Z=P.status,E=P.ticks,I=r.targets,T=r.metadata,_=g.useState(!1),O=(0,s.Z)(_,2),D=O[0],U=O[1],A={sensorName:r.name,repositoryName:i.name,repositoryLocationName:i.location},z=(0,Q.Ux)(i),F=null===z||void 0===z?void 0:z.repository.pipelines,L=E.length?E[0]:null,G=(null===I||void 0===I?void 0:I.length)||0,M=g.useMemo((function(){return new Set((I||[]).map((function(e){return e.pipelineName})))}),[I]),K=g.useMemo((function(){return(F||[]).some((function(e){return!e.isJob&&M.has(e.name)}))}),[F,M]),B=g.useMemo((function(){return K?G>1?"Jobs / Pipelines":"Pipeline":G>1?"Jobs":"Job"}),[K,G]),V=r.sensorState.typeSpecificData&&"SensorData"===r.sensorState.typeSpecificData.__typename&&r.sensorState.typeSpecificData.lastCursor,H=g.useState(!1),W=(0,s.Z)(H,2),Y=W[0],ne=W[1],te=Z===y.ynu.RUNNING;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(o.m,{title:(0,q.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,q.jsx)(l.X6,{children:R}),(0,q.jsx)(X.c,{repoAddress:i,sensor:r})]}),icon:"sensors",tags:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(c.V,{icon:"sensors",children:["Sensor in ",(0,q.jsx)(b.b,{repoAddress:i})]}),r.nextTick&&C&&te?(0,q.jsxs)(c.V,{icon:"timer",children:["Next tick: ",(0,q.jsx)(k.v,{timestamp:r.nextTick.timestamp})]}):null]}),right:(0,q.jsxs)(a.x,{margin:{top:4},flex:{direction:"row",alignItems:"center",gap:8},children:[(0,q.jsx)(j.xi,{refreshState:N}),r.sensorType===y.dEY.STANDARD?(0,q.jsx)(u.zx,{onClick:function(){ne(!0)},children:"Test Sensor"}):null]})}),(0,q.jsx)(J,{isOpen:Y,onClose:function(){ne(!1)},currentCursor:V||"",name:r.name,repoAddress:i,jobName:(null===(n=r.targets)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.pipelineName)||""}),(0,q.jsx)(d.fJ,{children:(0,q.jsxs)("tbody",{children:[r.description?(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Description"}),(0,q.jsx)("td",{children:r.description})]}):null,(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Latest tick"}),(0,q.jsx)("td",{children:L?(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{marginTop:"-2px"},children:[(0,q.jsx)(k.v,{timestamp:L.timestamp}),(0,q.jsx)(w.TW,{tick:L,instigationType:y._5b.SENSOR})]})}):"Sensor has never run"})]}),r.targets&&r.targets.length?(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:B}),(0,q.jsx)("td",{children:(0,q.jsx)(p.Z,{direction:"column",spacing:2,children:r.targets.map((function(e){return e.pipelineName?(0,q.jsx)(S.h,{pipelineName:e.pipelineName,pipelineHrefContext:i,isJob:!(!z||!(0,Q.E8)(z,e.pipelineName))},e.pipelineName):null}))})})]}):null,(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Cursor"}),(0,q.jsxs)("td",{children:[(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,q.jsx)("span",{style:{fontFamily:h.b.monospace,fontSize:"16px"},children:V||"None"}),(0,q.jsx)(x.Z,{onClick:function(){return U(!0)},style:{fontSize:"12px"},children:(0,q.jsxs)(a.x,{flex:{direction:"row",alignItems:"flex-end",gap:4},children:[(0,q.jsx)(f.JO,{name:"edit",color:m.w.Blue500,size:12}),(0,q.jsx)("span",{children:"Edit"})]})})]}),(0,q.jsx)($,{isOpen:D,sensorSelector:A,cursor:V||"",onClose:function(){return U(!1)}})]})]}),(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Frequency"}),(0,q.jsx)("td",{children:ee(r.minIntervalSeconds)})]}),T.assetKeys&&T.assetKeys.length?(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Monitored assets"}),(0,q.jsx)("td",{children:(0,q.jsx)(a.x,{flex:{direction:"column",gap:2},children:T.assetKeys.map((function(e){return(0,q.jsx)(v.R,{path:e.path,icon:"asset"},e.path.join("/"))}))})})]}):null]})})]})}},75428:function(e,n,t){t.d(n,{F:function(){return c}});var r=t(33028),i=t(59740),s=t(47515),o=t(16255),a=(t(78193),t(35936)),l=["daemonHealth"],c=function(e){var n=e.daemonHealth,t=(0,i.Z)(e,l),c=void 0;if(n){var u=n.allDaemonStatuses.filter((function(e){return"SENSOR"===e.daemonType}));if(u[0]){var d=u[0];c=!(!d.required||!d.healthy)}}return!1===c?(0,a.jsx)(s.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(o.b,{intent:"warning",title:"The sensor daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},93548:function(e,n,t){t.d(n,{x:function(){return i}});var r=t(9610),i=function(e,n){return"".concat((0,r.Uz)(e),"-").concat(n)}},18659:function(e,n,t){t.d(n,{k:function(){return m}});var r=t(47515),i=t(95714),s=t(61623),o=t(67888),a=t(32667),l=t(76892),c=t.n(l),u=(t(78193),t(24265)),d=t(18517),p=t(85279),h=t(92761),x=t(63167),f=t(35936),m=function(e){var n=e.runRequests,t=e.isJob,l=e.repoAddress,m=e.mode,g=e.jobName,j=(0,h.Ux)(l),v=(0,f.jsx)("tbody",{"data-testid":(0,d.N)("table-body"),children:n.map((function(e,n){var o,a;return(0,f.jsxs)("tr",{"data-testid":(0,d.N)(e.runKey||""),children:[(0,f.jsx)("td",{children:(0,f.jsx)(r.x,{flex:{alignItems:"center",gap:8},children:(0,f.jsx)(u.h,{pipelineName:g,pipelineHrefContext:l,isJob:!!j&&t,showIcon:!0,size:"small"})})}),(0,f.jsx)("td",{children:(0,f.jsx)(r.x,{flex:{direction:"row",gap:8},children:(a=e.tags,a.filter((function(e){var n=e.key;return!["dagster/schedule_name"].includes(n)}))).map((function(e){var n=e.key,t=e.value;return(0,f.jsxs)(i.V,{children:[n,": ",t]},n)}))})}),(0,f.jsx)("td",{children:(0,f.jsx)(p.A,{icon:(0,f.jsx)(s.JO,{name:"edit"}),target:"_blank",to:(0,x.$U)(l,"/pipeline_or_job/".concat(g,"/playground/setup?").concat(c().stringify({mode:m,config:e.runConfigYaml,tags:e.tags,assetSelection:null===(o=e.assetSelection)||void 0===o?void 0:o.map((function(e){return{assetKey:{path:e.path}}}))}))),children:"Open in Launchpad"})})]},n)}))});return(0,f.jsx)("div",{children:(0,f.jsxs)(o.i,{style:{borderRight:"1px solid ".concat(a.w.KeylineGray)},children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsxs)("th",{children:[t?"Job":"Pipeline"," name"]}),(0,f.jsx)("th",{children:"Tags"}),(0,f.jsx)("th",{children:"Configuration"})]})}),v]})})}},76413:function(e,n,t){t.d(n,{T:function(){return p}});var r=t(47515),i=t(61623),s=t(83473),o=t(67888),a=t(32667),l=t(95714),c=t(78193),u=t(23555),d=t(35936);function p(e){var n=e.includeTitle,t=void 0===n||n,p=e.requests,h=c.useMemo((function(){if(!p.length)return[];var e=[];return p.forEach((function(n){var t=n.partitionKeys,r=n.partitionsDefName,i=n.type;null===t||void 0===t||t.forEach((function(n){e.push({key:n,def:r,type:i})}))})),e}),[p]);return h.length?(0,d.jsxs)(r.x,{flex:{direction:"column",gap:12,grow:1},children:[t?(0,d.jsxs)(r.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,d.jsx)(i.JO,{name:"partition"}),(0,d.jsx)(s.pm,{children:"Dynamic Partition Requests"})]}):null,(0,d.jsxs)(o.i,{style:{borderRight:"1px solid ".concat(a.w.KeylineGray)},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Partition"}),(0,d.jsx)("th",{children:"Partition definition"}),(0,d.jsx)("th",{children:"Requested change"})]})}),(0,d.jsx)("tbody",{children:h.map((function(e,n){var t=e.key,r=e.def,i=e.type;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t}),(0,d.jsx)("td",{children:r}),(0,d.jsx)("td",{children:i===u.Dq2.ADD_PARTITIONS?(0,d.jsx)(l.V,{intent:"success",children:(0,d.jsx)("span",{children:"Add Partition"})}):(0,d.jsx)(l.V,{intent:"danger",children:(0,d.jsx)("span",{children:"Delete Partition"})})})]},n)}))})]})]}):null}},15527:function(e,n,t){t.d(n,{s:function(){return s}});var r,i=t(71171),s=(0,t(31623).Ps)(r||(r=(0,i.Z)(["\n  fragment RunRequestFragment on RunRequest {\n    runConfigYaml\n    tags {\n      key\n      value\n    }\n    runKey\n    assetSelection {\n      path\n    }\n  }\n"])))},37200:function(e,n,t){t.d(n,{W:function(){return o}});var r=t(44229),i=t(17914),s=(t(78193),t(35936)),o=function(e){var n=e.checkedCount,t=e.totalCount,o=e.onToggleAll;return(0,s.jsx)(r.u,{content:"".concat(n," of ").concat(t," selected"),placement:"top",children:(0,s.jsx)(i.X,{indeterminate:n>0&&n!==t,checked:n>0&&n===t,onChange:function(e){e.target instanceof HTMLInputElement&&o(n!==t)}})})}},75763:function(e,n,t){t.d(n,{g:function(){return o}});t(78193);var r=t(23555),i=t(29678),s=t(35936),o=function(){return(0,i.im)({name:"Running state",icon:"toggle_off",allValues:[{value:r.ynu.RUNNING,match:["on","running"]},{value:r.ynu.STOPPED,match:["off","stopped"]}],getKey:function(e){return e},renderLabel:function(e){var n=e.value;return(0,s.jsx)("span",{children:n===r.ynu.RUNNING?"Running":"Stopped"})},getStringValue:function(e){return e}})}},12735:function(e,n,t){t.d(n,{w:function(){return r}});var r=function(e){var n=new Set,t=new Set;return e.forEach((function(e){n.has(e)?t.add(e):n.add(e)})),t}},1628:function(e,n,t){t.d(n,{N:function(){return c}});var r=t(96234),i=t(78193),s=t(33418),o=t(79962),a=t(9610),l=function(e){return Array.isArray(e)?e:[]},c=function(e,n){var t=function(e,n){return"".concat(e,":dagit.").concat(n)}(i.useContext(s.I).basePath,e),c=(0,o.U)(t,l),u=(0,r.Z)(c,2),d=u[0],p=u[1],h=i.useCallback((function(e){var n=(0,a.Uz)(e);p((function(e){var t=new Set(e||[]);return t.has(n)?t.delete(n):t.add(n),Array.from(t)}))}),[p]),x=i.useCallback((function(e){p((function(t){var r=new Set(t||[]);return n.forEach((function(n){e?r.delete(n):r.add(n)})),Array.from(r)}))}),[n,p]),f=i.useMemo((function(){var e=new Set(d);return n.filter((function(n){return!e.has(n)}))}),[n,d]);return i.useMemo((function(){return{expandedKeys:f,onToggle:h,onToggleAll:x}}),[f,h,x])}},53209:function(e,n,t){t.d(n,{I:function(){return $},b:function(){return q}});var r,i,s=t(71171),o=t(68079),a=t(96234),l=t(60319),c=t(44719),u=t(31623),d=t(32667),p=t(14491),h=t(47515),x=t(78193),f=t(97412),m=t(39707),g=t(85357),j=t(73070),v=t(44229),y=t(45519),w=t(61623),b=t(35740),S=t(86252),k=t(42236),C=t(75731),N=t(79986),R=t(63167),P=t(35936),Z=function(e){var n=e.job,t=e.repoAddress,r=n.runs.length?n.runs[0]:null,i=(0,b.xz)(t.location),s=i.permissions.canLaunchPipelineReexecution,o=i.disabledReasons,l=(0,c.t)(E),u=(0,a.Z)(l,2),d=u[0],p=u[1].data,h="Run"===(null===p||void 0===p?void 0:p.pipelineRunOrError.__typename)?null===p||void 0===p?void 0:p.pipelineRunOrError:null,f=x.useCallback((function(){null!==r&&void 0!==r&&r.id&&d({variables:{runId:r.id}})}),[r,d]),m=(0,C.W)(h),k=(0,P.jsx)(g.sN,{icon:"replay",text:"Re-execute latest run",onClick:function(){return m({type:"all"})},disabled:!s||!h||!(0,S.EP)(h)}),Z=(0,P.jsx)(g.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:function(){return m({type:"from-failure"})},disabled:!s||!h||!(0,S.VM)(h)});return(0,P.jsx)(j.J,{onOpened:function(){return f()},content:(0,P.jsxs)(g.v2,{children:[(0,P.jsx)(N.U,{to:(0,R.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob}),icon:"job",text:"View job"}),(0,P.jsx)(N.U,{to:(0,R.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),s?k:(0,P.jsx)(v.u,{content:o.canLaunchPipelineReexecution,display:"block",children:k}),s?Z:(0,P.jsx)(v.u,{content:o.canLaunchPipelineReexecution,display:"block",children:Z})]}),position:"bottom-left",children:(0,P.jsx)(y.zx,{icon:(0,P.jsx)(w.JO,{name:"expand_more"})})})},E=(0,u.Ps)(r||(r=(0,s.Z)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        parentPipelineSnapshotId\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"])),k.J3),I=t(34700),T=t(73765),_=t(93810),O=t(89622),D=t(26756),U=t(20876),A=t(93015),z=t(54858),F=t(92761),L="1.5fr 1fr 180px 96px 80px",q=function(e){var n=e.name,t=e.isJob,r=e.repoAddress,i=e.start,s=e.height,l=(0,c.t)(K,{variables:{selector:(0,F._T)(r,n)}}),u=(0,a.Z)(l,2),g=u[0],j=u[1];(0,z.v5)(g),(0,m.C4)(j,m.dT);var v=j.data,y=x.useMemo((function(){if("Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)){var e=v.pipelineOrError;return{schedules:e.schedules,sensors:e.sensors}}return{schedules:[],sensors:[]}}),[v]),w=y.schedules,b=y.sensors,S=x.useMemo((function(){if("Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)){var e=v.pipelineOrError.runs;if(e.length)return(0,o.Z)(e)}return[]}),[v]);return(0,P.jsx)(A.X2,{$height:s,$start:i,children:(0,P.jsxs)(G,{border:{side:"bottom",width:1,color:d.w.KeylineGray},children:[(0,P.jsxs)(A.E5,{children:[(0,P.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,P.jsx)(f.rU,{to:(0,R.$U)(r,"/jobs/".concat(n)),children:(0,P.jsx)(p.g,{text:n})})}),(0,P.jsx)(z.HB,{children:"Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)?v.pipelineOrError.description:""})]}),(0,P.jsx)(A.E5,{children:w.length||b.length?(0,P.jsx)(h.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,P.jsx)(M,{children:(0,P.jsx)(T.I,{schedules:w,sensors:b,repoAddress:r})})}):(0,P.jsx)(z.mq,{queryResult:j})}),(0,P.jsx)(A.E5,{children:S[0]?(0,P.jsx)(I.Z,{run:S[0],showButton:!1,showHover:!0,showSummary:!1,name:n}):(0,P.jsx)(z.mq,{queryResult:j})}),(0,P.jsx)(A.E5,{children:S.length?(0,P.jsx)(h.x,{padding:{top:4},children:(0,P.jsx)(_.JH,{jobName:n,runs:(0,o.Z)(S).reverse(),fade:!0})}):(0,P.jsx)(z.mq,{queryResult:j})}),(0,P.jsx)(A.E5,{children:(0,P.jsx)(h.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,P.jsx)(Z,{job:{isJob:t,name:n,runs:S},repoAddress:r})})})]})})},$=function(){return(0,P.jsxs)(h.x,{border:{side:"horizontal",width:1,color:d.w.KeylineGray},style:{display:"grid",gridTemplateColumns:L,height:"32px",fontSize:"12px",color:d.w.Gray600},children:[(0,P.jsx)(A.qN,{children:"Name"}),(0,P.jsx)(A.qN,{children:"Schedules/sensors"}),(0,P.jsx)(A.qN,{children:"Latest run"}),(0,P.jsx)(A.qN,{children:"Run history"}),(0,P.jsx)(A.qN,{})]})},G=(0,l.ZP)(h.x).withConfig({displayName:"VirtualizedJobRow__RowGrid",componentId:"sc-otbkv8-0"})(["display:grid;grid-template-columns:",";height:100%;"],L),M=l.ZP.div.withConfig({displayName:"VirtualizedJobRow__ScheduleSensorTagContainer",componentId:"sc-otbkv8-1"})(["width:100%;> .bp4-popover2-target{width:100%;}"]),K=(0,u.Ps)(i||(i=(0,s.Z)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),O.$X,D.J,U.U)},159:function(e,n,t){t.d(n,{o:function(){return q},i:function(){return L}});var r,i=t(71171),s=t(96234),o=t(60319),a=t(44719),l=t(31623),c=t(32667),u=t(44229),d=t(17914),p=t(47515),h=t(14491),x=t(83473),f=t(73070),m=t(85357),g=t(45519),j=t(61623),v=t(78193),y=t(97412),w=t(39707),b=t(23555),S=t(34700),k=t(88508),C=t(24265),N=t(89622),R=t(26756),P=t(95714),Z=t(35936),E=function(e,n){if(e===b.ynu.STOPPED&&0===n)return null;if(e===b.ynu.RUNNING&&1===n)return null;var t=[];return e===b.ynu.RUNNING&&0===n?t.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):e===b.ynu.STOPPED&&n>0&&t.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),n>0&&t.push("Duplicate cron job for schedule found."),(0,Z.jsx)(f.J,{interactionKind:"hover",popoverClassName:"bp4-popover-content-sizing",position:"right",content:(0,Z.jsxs)(p.x,{flex:{direction:"column",gap:8},padding:12,children:[(0,Z.jsx)("strong",{children:"There are errors with this schedule."}),(0,Z.jsx)("div",{children:"Errors:"}),(0,Z.jsx)("ul",{children:t.map((function(e,n){return(0,Z.jsx)("li",{children:e},n)}))})]}),children:(0,Z.jsx)(P.V,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})},I=t(46856),T=t(65033),_=t(79986),O=t(93015),D=t(54858),U=t(92761),A=t(63167),z="60px 1fr 1fr 76px 148px 210px 92px",F="1fr 1fr 76px 148px 210px 92px",L=function(e){var n=e.name,t=e.repoAddress,r=e.checked,i=e.onToggleChecked,o=e.showCheckboxColumn,l=e.scheduleState,N=e.start,P=e.height,z=(0,U.Ux)(t),F=(0,a.t)(M,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,scheduleName:n}},notifyOnNetworkStatusChange:!0}),L=(0,s.Z)(F,2),q=L[0],K=L[1];(0,D.v5)(q),(0,w.C4)(K,w.dT);var B=K.data,V=v.useMemo((function(){return"Schedule"!==(null===B||void 0===B?void 0:B.scheduleOrError.__typename)?null:B.scheduleOrError}),[B]),J=!(!V||!(0,U.E8)(z,V.pipelineName)),H=V?(0,T.A)(V.cronSchedule,V.executionTimezone||"UTC"):"",W=v.useMemo((function(){var e=l.hasStartPermission,n=l.hasStopPermission,t=l.status;return t!==b.ynu.RUNNING||n?t!==b.ynu.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this schedule"}:{disabled:!0,message:"You do not have permission to stop this schedule"}}),[l]);return(0,Z.jsx)(O.X2,{$height:P,$start:N,children:(0,Z.jsxs)($,{border:{side:"bottom",width:1,color:c.w.KeylineGray},$showCheckboxColumn:o,children:[o?(0,Z.jsx)(O.E5,{children:(0,Z.jsx)(u.u,{canShow:W.disabled,content:W.message||"",placement:"top",children:(0,Z.jsx)(d.X,{disabled:W.disabled,checked:r,onChange:function(e){if(i&&e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");i({checked:n,shiftKey:t})}}})})}):null,(0,Z.jsx)(O.E5,{children:(0,Z.jsxs)(p.x,{flex:{direction:"column",gap:4},children:[(0,Z.jsx)("span",{style:{fontWeight:500},children:(0,Z.jsx)(y.rU,{to:(0,A.$U)(t,"/schedules/".concat(n)),children:(0,Z.jsx)(h.g,{text:n})})}),V?(0,Z.jsx)(x.YS,{children:(0,Z.jsx)(C.h,{showIcon:!0,size:"small",pipelineName:V.pipelineName,pipelineHrefContext:t,isJob:J})}):null]})}),(0,Z.jsx)(O.E5,{children:V?(0,Z.jsxs)(p.x,{flex:{direction:"column",gap:4},children:[(0,Z.jsx)(G,{style:{maxWidth:"100%"},children:(0,Z.jsx)(u.u,{position:"top-left",content:V.cronSchedule,display:"block",children:(0,Z.jsx)("div",{style:{color:c.w.Dark,overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},title:H,children:H})})}),V.scheduleState.nextTick&&V.scheduleState.status===b.ynu.RUNNING?(0,Z.jsx)(x.YS,{children:(0,Z.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,Z.jsx)(I.v,{timestamp:V.scheduleState.nextTick.timestamp,timezone:V.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,Z.jsx)(D.mq,{queryResult:K})}),(0,Z.jsx)(O.E5,{children:V?(0,Z.jsxs)(p.x,{flex:{direction:"column",gap:4},children:[(0,Z.jsx)(R.M,{repoAddress:t,schedule:V},n),E(V.scheduleState.status,V.scheduleState.runningCount)]}):null}),(0,Z.jsx)(O.E5,{children:null!==V&&void 0!==V&&V.scheduleState.ticks[0]?(0,Z.jsx)("div",{children:(0,Z.jsx)(k.TW,{tick:V.scheduleState.ticks[0],instigationType:b._5b.SCHEDULE})}):(0,Z.jsx)(D.mq,{queryResult:K})}),(0,Z.jsx)(O.E5,{children:null!==V&&void 0!==V&&V.scheduleState&&null!==V&&void 0!==V&&V.scheduleState.runs[0]?(0,Z.jsx)(S.Z,{run:V.scheduleState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,Z.jsx)(D.mq,{queryResult:K})}),(0,Z.jsx)(O.E5,{children:null!==V&&void 0!==V&&V.partitionSet?(0,Z.jsx)(f.J,{content:(0,Z.jsxs)(m.v2,{children:[(0,Z.jsx)(_.U,{text:"View partition history",icon:"dynamic_feed",target:"_blank",to:(0,A.$U)(t,"/".concat(J?"jobs":"pipelines","/").concat(V.pipelineName,"/partitions"))}),(0,Z.jsx)(_.U,{text:"Launch partition backfill",icon:"add_circle",target:"_blank",to:(0,A.$U)(t,"/".concat(J?"jobs":"pipelines","/").concat(V.pipelineName,"/partitions"))})]}),position:"bottom-left",children:(0,Z.jsx)(g.zx,{icon:(0,Z.jsx)(j.JO,{name:"expand_more"})})}):(0,Z.jsx)("span",{style:{color:c.w.Gray400},children:"\u2013"})})]})})},q=function(e){var n=e.checkbox;return(0,Z.jsxs)(p.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:n?z:F,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[n?(0,Z.jsx)(O.qN,{children:(0,Z.jsx)("div",{style:{position:"relative",top:"-1px"},children:n})}):null,(0,Z.jsx)(O.qN,{children:"Schedule name"}),(0,Z.jsx)(O.qN,{children:"Schedule"}),(0,Z.jsx)(O.qN,{children:"Running"}),(0,Z.jsx)(O.qN,{children:"Last tick"}),(0,Z.jsx)(O.qN,{children:"Last run"}),(0,Z.jsx)(O.qN,{children:"Actions"})]})},$=(0,o.ZP)(p.x).withConfig({displayName:"VirtualizedScheduleRow__RowGrid",componentId:"sc-9ps3vz-0"})(["display:grid;grid-template-columns:",";height:100%;"],(function(e){return e.$showCheckboxColumn?z:F})),G=o.ZP.div.withConfig({displayName:"VirtualizedScheduleRow__ScheduleStringContainer",componentId:"sc-9ps3vz-1"})(["max-width:100%;.bp4-popover2-target{max-width:100%;:focus{outline:none;}}"]),M=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),k.dY,N.$X,R.J)},4116:function(e,n,t){t.d(n,{K:function(){return O},R:function(){return _}});var r,i=t(71171),s=t(96234),o=t(60319),a=t(44719),l=t(31623),c=t(32667),u=t(44229),d=t(17914),p=t(47515),h=t(14491),x=t(83473),f=t(78193),m=t(97412),g=t(39707),j=t(34287),v=t(23555),y=t(34700),w=t(88508),b=t(24265),S=t(89622),k=t(45865),C=t(20876),N=t(93015),R=t(54858),P=t(92761),Z=t(63167),E=t(35936),I="60px 1.5fr 1fr 76px 120px 148px 180px",T="1.5fr 1fr 76px 120px 148px 180px",_=function(e){var n=e.name,t=e.repoAddress,r=e.checked,i=e.onToggleChecked,o=e.showCheckboxColumn,l=e.sensorState,S=e.start,I=e.height,T=(0,P.Ux)(t),_=(0,a.t)(U,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,sensorName:n}}}),O=(0,s.Z)(_,2),A=O[0],z=O[1];(0,R.v5)(A),(0,g.C4)(z,g.dT);var F=z.data,L=f.useMemo((function(){return"Sensor"!==(null===F||void 0===F?void 0:F.sensorOrError.__typename)?null:F.sensorOrError}),[F]),q=f.useMemo((function(){var e=l.hasStartPermission,n=l.hasStopPermission,t=l.status;return t!==v.ynu.RUNNING||n?t!==v.ynu.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this sensor"}:{disabled:!0,message:"You do not have permission to stop this sensor"}}),[l]);return(0,E.jsx)(N.X2,{$height:I,$start:S,children:(0,E.jsxs)(D,{border:{side:"bottom",width:1,color:c.w.KeylineGray},$showCheckboxColumn:o,children:[o?(0,E.jsx)(N.E5,{children:(0,E.jsx)(u.u,{canShow:q.disabled,content:q.message||"",placement:"top",children:(0,E.jsx)(d.X,{disabled:q.disabled,checked:r,onChange:function(e){if(i&&e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");i({checked:n,shiftKey:t})}}})})}):null,(0,E.jsx)(N.E5,{children:(0,E.jsxs)(p.x,{flex:{direction:"column",gap:4},children:[(0,E.jsx)("span",{style:{fontWeight:500},children:(0,E.jsx)(m.rU,{to:(0,Z.$U)(t,"/sensors/".concat(n)),children:(0,E.jsx)(h.g,{text:n})})}),(0,E.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,E.jsx)(x.YS,{style:{color:c.w.Gray500,whiteSpace:"nowrap"},children:null===L||void 0===L?void 0:L.description})})]})}),(0,E.jsx)(N.E5,{children:(0,E.jsxs)(p.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[null!==L&&void 0!==L&&L.targets&&L.targets.length?(0,E.jsx)(p.x,{flex:{direction:"column",gap:2},children:L.targets.map((function(e){return(0,E.jsx)(b.h,{showIcon:!0,size:"small",pipelineName:e.pipelineName,pipelineHrefContext:t,isJob:!(!T||!(0,P.E8)(T,e.pipelineName))},e.pipelineName)}))}):null,null!==L&&void 0!==L&&L.metadata.assetKeys&&L.metadata.assetKeys.length?(0,E.jsx)(p.x,{flex:{direction:"column",gap:2},children:L.metadata.assetKeys.map((function(e){return(0,E.jsx)(j.R,{path:e.path,icon:"asset"},e.path.join("/"))}))}):null]})}),(0,E.jsx)(N.E5,{children:L?(0,E.jsx)(p.x,{flex:{direction:"column",gap:4},children:(0,E.jsx)(C.c,{repoAddress:t,sensor:L},n)}):null}),(0,E.jsx)(N.E5,{children:L?(0,E.jsx)("div",{style:{color:c.w.Dark},children:(0,k.F)(L.minIntervalSeconds)}):(0,E.jsx)(R.mq,{queryResult:z})}),(0,E.jsx)(N.E5,{children:null!==L&&void 0!==L&&L.sensorState.ticks[0]?(0,E.jsx)("div",{children:(0,E.jsx)(w.TW,{tick:L.sensorState.ticks[0],instigationType:v._5b.SENSOR})}):(0,E.jsx)(R.mq,{queryResult:z})}),(0,E.jsx)(N.E5,{children:null!==L&&void 0!==L&&L.sensorState&&null!==L&&void 0!==L&&L.sensorState.runs[0]?(0,E.jsx)(y.Z,{run:L.sensorState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,E.jsx)(R.mq,{queryResult:z})})]})})},O=function(e){var n=e.checkbox;return(0,E.jsxs)(p.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:n?I:T,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[n?(0,E.jsx)(N.qN,{children:(0,E.jsx)("div",{style:{position:"relative",top:"-1px"},children:n})}):null,(0,E.jsx)(N.qN,{children:"Name"}),(0,E.jsx)(N.qN,{children:"Job / Asset"}),(0,E.jsx)(N.qN,{children:"Running"}),(0,E.jsx)(N.qN,{children:"Frequency"}),(0,E.jsx)(N.qN,{children:"Last tick"}),(0,E.jsx)(N.qN,{children:"Last run"})]})},D=(0,o.ZP)(p.x).withConfig({displayName:"VirtualizedSensorRow__RowGrid",componentId:"sc-1sgrm9e-0"})(["display:grid;grid-template-columns:",";height:100%;"],(function(e){return e.$showCheckboxColumn?I:T})),U=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),w.dY,S.$X,C.U)},54858:function(e,n,t){t.d(n,{HB:function(){return p},mq:function(){return d},v5:function(){return x},vG:function(){return u}});var r=t(60319),i=t(32667),s=t(83473),o=t(78193),a=t(20016),l=t(93015),c=t(35936),u=function(e){var n=e.repoAddress,t=e.height,r=e.start,i=e.expanded,s=e.onToggle,o=e.onToggleAll,u=e.showLocation,d=e.rightElement;return(0,c.jsx)(l.X2,{$height:t,$start:r,children:(0,c.jsx)(a.L,{repoName:n.name,repoLocation:n.location,expanded:i,onClick:function(e){return e.getModifierState("Shift")?o(!i):s(n)},showLocation:u,rightElement:d})})},d=function(e){var n=e.queryResult,t=e.noneString,r=void 0===t?"None":t,s=n.called,o=n.loading,a=n.data;return(0,c.jsx)("div",{style:{color:i.w.Gray500},children:!s||o&&!a?"Loading":r})},p=function(e){var n=e.children;return(0,c.jsx)(h,{children:(0,c.jsx)(s.YS,{children:n})})},h=r.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"sc-k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],s.YS,i.w.Gray500),x=function(e){o.useEffect((function(){var n=setTimeout((function(){e()}),100);return function(){return clearTimeout(n)}}),[e])}},66564:function(e,n,t){t.d(n,{h:function(){return v}});var r=t(20356),i=t(47515),s=t(83473),o=t(32667),a=t(44229),l=t(45519),c=t(61623),u=(t(78193),t(97412)),d=t(9346),p=t(16185),h=t(39707),x=t(4248),f=t(63167),m=t(35936),g=function(e){var n=e.repoAddress,t=e.refreshState,r=e.tab;return(0,m.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,m.jsxs)(p.mQ,{selectedTabId:r,children:[(0,m.jsx)(x.f,{id:"assets",title:"Assets",to:(0,f.$U)(n,"/assets")}),(0,m.jsx)(x.f,{id:"jobs",title:"Jobs",to:(0,f.$U)(n,"/jobs")}),(0,m.jsx)(x.f,{id:"schedules",title:"Schedules",to:(0,f.$U)(n,"/schedules")}),(0,m.jsx)(x.f,{id:"sensors",title:"Sensors",to:(0,f.$U)(n,"/sensors")}),(0,m.jsx)(x.f,{id:"graphs",title:"Graphs",to:(0,f.$U)(n,"/graphs")}),(0,m.jsx)(x.f,{id:"ops",title:"Ops",to:(0,f.$U)(n,"/ops")}),(0,m.jsx)(x.f,{id:"resources",title:"Resources",to:(0,f.$U)(n,"/resources")})]}),t?(0,m.jsx)(i.x,{padding:{bottom:8},children:(0,m.jsx)(h.xi,{refreshState:t})}):null]})},j=t(9610),v=function(e){var n=e.repoAddress,t=e.tab,p=e.refreshState,h=e.queryData;return(0,m.jsx)(r.m,{title:(0,m.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,m.jsx)(s.X6,{children:(0,m.jsx)(u.rU,{to:"/locations",style:{color:o.w.Dark},children:"Deployment"})}),(0,m.jsx)(s.X6,{children:"/"}),(0,m.jsx)(s.X6,{style:{color:o.w.Gray600},children:(0,j.Uz)(n)})]}),tabs:(0,m.jsx)(g,{repoAddress:n,tab:t,refreshState:p,queryData:h}),right:(0,m.jsx)(d.s,{location:n.location,ChildComponent:function(e){var n=e.tryReload,t=e.reloading,r=e.hasReloadPermission;return(0,m.jsx)(a.u,{canShow:!r,content:r?"":d.H,useDisabledButtonTooltipFix:!0,children:(0,m.jsx)(l.zx,{onClick:function(){return n()},loading:t,disabled:!r,icon:(0,m.jsx)(c.JO,{name:"refresh"}),children:"Reload definitions"})})}})})}}}]);
//# sourceMappingURL=499.25683f4d.chunk.js.map
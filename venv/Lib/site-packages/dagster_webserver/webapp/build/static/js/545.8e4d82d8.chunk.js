(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[545],{50545:function(t,n,e){"use strict";e.r(n),e.d(n,{ASSET_LINK_NAME_MAX_LENGTH:function(){return f},ASSET_NODE_NAME_MAX_LENGTH:function(){return y},extendBounds:function(){return p},getAssetLinkDimensions:function(){return c},getAssetNodeDimensions:function(){return l},layoutAssetGraph:function(){return d},padBounds:function(){return g}});var r=e(96234),i=e(41361),o=e(83975),a=e(276),u=e.n(a),h="group__",s=100,d=function(t,n){var e=new o.graphlib.Graph({compound:!0});e.setGraph(n.horizontalDAGs?{rankdir:"LR",marginx:s,marginy:s,nodesep:-10,edgesep:10,ranksep:30}:{rankdir:"TB",marginx:s,marginy:s,nodesep:40,edgesep:10,ranksep:10}),e.setDefaultEdgeLabel((function(){return{}}));var a,d=function(t){return[h,t.definition.repository.location.name,t.definition.repository.name,t.definition.groupName].join("__")},f=function(t){return t},y=Object.values(t.nodes).filter(f),v={},m=(0,i.Z)(y);try{for(m.s();!(a=m.n()).done;){var b=a.value;if(b.definition.groupName){var w=d(b);v[w]={id:w,groupName:b.definition.groupName,repositoryName:b.definition.repository.name,repositoryLocationName:b.definition.repository.location.name,repositoryDisambiguationRequired:!1,bounds:{x:0,y:0,width:0,height:0}}}}}catch(L){m.e(L)}finally{m.f()}var x=Object.keys(v).length>1;x&&Object.keys(v).forEach((function(t){return e.setNode(t,{})})),y.forEach((function(t){e.setNode(t.id,l(t.definition)),x&&t.definition.groupName&&e.setParent(t.id,d(t))}));var N={};Object.entries(t.downstream).forEach((function(n){var i=(0,r.Z)(n,2),o=i[0],a=i[1];Object.keys(a).forEach((function(n){(t.nodes[n]||t.nodes[o])&&(e.setEdge({v:o,w:n},{weight:1}),t.nodes[n]?t.nodes[o]||(N[o]=!0):N[n]=!0)}))})),Object.keys(N).forEach((function(t){var r=JSON.parse(t),i=r[r.length-1]||"";e.setNode(t,c(i,n))})),o.layout(e);var _=0,E=0,A={};if(e.nodes().forEach((function(t){var n=e.node(t);if(n){var r={x:n.x-n.width/2,y:n.y-n.height/2,width:n.width,height:n.height};t.startsWith(h)||(A[t]={id:t,bounds:r}),_=Math.max(_,n.x+n.width/2),E=Math.max(E,n.y+n.height/2)}})),x){var O,k=(0,i.Z)(y);try{for(k.s();!(O=k.n()).done;){var j=O.value;if(j.definition.groupName){var M=v[d(j)];M.bounds=0===M.bounds.width?A[j.id].bounds:p(M.bounds,A[j.id].bounds)}}}catch(L){k.e(L)}finally{k.f()}for(var S=0,D=Object.values(v);S<D.length;S++){var G=D[S];G.bounds=g(G.bounds,{x:15,top:70,bottom:-10})}}Object.values(u()(Object.values(v),(function(t){return t.groupName}))).filter((function(t){return t.length>1})).flat().forEach((function(t){t.bounds.y-=18,t.bounds.height+=18,t.repositoryDisambiguationRequired=!0}));var I=[];return e.edges().forEach((function(t){var r=e.node(t.v),i=N[t.v]?16:24,o=e.node(t.w),a=N[t.w]?16:24;I.push(n.horizontalDAGs?{from:{x:r.x+r.width/2,y:r.y},fromId:t.v,to:{x:o.x-o.width/2-5,y:o.y},toId:t.w}:{from:{x:r.x-r.width/2+i,y:r.y-30+r.height/2},fromId:t.v,to:{x:o.x-o.width/2+a,y:o.y+20-o.height/2},toId:t.w})})),{nodes:A,edges:I,width:_+s,height:E+s,groups:x?v:{}}},f=10,c=function(t,n){return n.horizontalDAGs?{width:32+8*Math.min(f,t.length),height:90}:{width:106,height:90}},g=function(t,n){return{x:t.x-n.x,y:t.y-n.top,width:t.width+2*n.x,height:t.height+n.top+n.bottom}},p=function(t,n){var e=Math.min(t.x,n.x),r=Math.min(t.y,n.y);return{x:e,y:r,width:Math.max(t.x+t.width,n.x+n.width)-e,height:Math.max(t.y+t.height,n.y+n.height)-r}},y=28,l=function(t){if(t.isSource&&!t.isObservable)return{width:265,height:102};var n=100;return t.isPartitioned&&(n+=40),t.isSource?n+=30:n+=26,{width:265,height:n+=30}}},26257:function(t){t.exports=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}},84152:function(t,n,e){var r=e(5038);t.exports=function(t,n,e,i){return r(t,(function(t,r,o){n(i,t,e(t),o)})),i}},93348:function(t,n,e){var r=e(26257),i=e(84152),o=e(39095),a=e(59557);t.exports=function(t,n){return function(e,u){var h=a(e)?r:i,s=n?n():{};return h(e,t,o(u,2),s)}}},276:function(t,n,e){var r=e(56797),i=e(93348),o=Object.prototype.hasOwnProperty,a=i((function(t,n,e){o.call(t,e)?t[e].push(n):r(t,e,[n])}));t.exports=a},41361:function(t,n,e){"use strict";e.d(n,{Z:function(){return i}});var r=e(59147);function i(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=(0,r.Z)(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,h=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){h=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(h)throw a}}}}}}]);
//# sourceMappingURL=545.8e4d82d8.chunk.js.map
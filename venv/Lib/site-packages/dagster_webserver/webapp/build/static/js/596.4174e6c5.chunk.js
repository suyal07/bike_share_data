(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[596],{10893:function(n,e,t){"use strict";t.d(e,{CY:function(){return b},N9:function(){return I}});var r,o=t(71171),i=t(96234),s=t(90239),a=t(31623),l=t(78193),p=t(50032),u=t(62638),d=t(74894),c=t(14228),h=t(85514),f=t(67099),x=t(84674),v=t(13422),g=t(92761),m=t(55500),j=t(25620),y=t(44907),S=t(48341),P=t(35936),b=function(){(0,d.Px)();var n=(0,p.UO)(),e=(0,S.p3)(n[0]),t=e.pipelineName,r=e.snapshotId,o=(0,p.k6)();return(0,f.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,P.jsx)(I,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,S.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,h.p)(e))}})},I=function(n){var e,t=n.explorerPath,r=n.repoAddress,o=n.onChangeExplorerPath,a=n.onNavigateToSourceAssetNode,p=n.isGraph,u=void 0!==p&&p,d=l.useState({explodeComposites:null!==(e=t.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),h=(0,i.Z)(d,2),f=h[0],x=h[1],S=t.opNames.slice(0,t.opNames.length-1),b=(0,g._T)(r||null,t.pipelineName),I=(0,s.a)(C,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:b,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:S.join("."),requestScopeHandleID:f.explodeComposites?void 0:S.join(".")}});return(0,P.jsx)(v.g,{queryResult:I,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,P.jsx)(y.Q,{isGraph:u,result:e,repoAddress:r});var i=e.solidHandle,s=f.explodeComposites?(0,m.i)(e.solidHandles):e.solidHandles,l=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return f.preferAssetRendering&&l?(0,P.jsx)(c.OK,{options:f,setOptions:x,fetchOptions:{pipelineSelector:b},explorerPath:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:a}):(0,P.jsx)(j.m0,{options:f,setOptions:x,explorerPath:t,onChangeExplorerPath:o,container:e,repoAddress:r,handles:s,parentHandle:i||void 0,isGraph:u,getInvocations:function(n){return s.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},C=(0,a.Ps)(r||(r=(0,o.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),x.it,j.Sm,j.Q,j.bg,u.B)},76408:function(n,e,t){"use strict";t.d(e,{G:function(){return w}});var r,o=t(71171),i=t(33028),s=t(68079),a=t(96234),l=t(31623),p=t(29845),u=t(3586),d=t(47515),c=t(67445),h=t(95714),f=t(92555),x=t(86562),v=t(61623),g=t(78193),m=t(50032),j=t(62638),y=t(39707),S=t(74894),P=t(8709),b=t(68506),I=t(89622),C=t(95904),N=t(4774),R=t(85279),E=t(13422),_=t(42468),F=t(92761),Z=t(9610),k=t(63167),A=t(48341),H=t(53683),O=t(35936),$=["status","tag","created_date_before","created_date_after"],w=function(n){(0,S.Px)();var e=(0,m.UO)().pipelinePath,t=n.repoAddress,r=void 0===t?null:t,o=(0,A.p3)(e),l=o.pipelineName,v=o.snapshotId,j=(0,F.Ux)(r),R=(0,F.E8)(j,l);(0,H.b)(o,R);var k=(0,C.oD)($),w=(0,a.Z)(k,2),q=w[0],Y=w[1],G=g.useMemo((function(){return[R?{token:"job",value:l}:{token:"pipeline",value:l},v?{token:"snapshotId",value:v}:null].filter(Boolean)}),[R,l,v]),z=[].concat((0,s.Z)(q),(0,s.Z)(G));if(r){var U={token:"tag",value:"".concat(b.H.RepositoryLabelTag,"=").concat((0,Z.Wg)(r))};z.push(U)}var Q=(0,N.l)({query:D,pageSize:25,variables:{filter:(0,i.Z)((0,i.Z)({},(0,C.VH)(z)),{},{pipelineName:l,snapshotId:v})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.id},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),V=Q.queryResult,B=Q.paginationProps,W=g.useCallback((function(n){var e=(0,p.HY)(n);q.some((function(n){return(0,p.HY)(n)===e}))||Y([].concat((0,s.Z)(q),[n]))}),[q,Y]),J=(0,y.C4)(V,y.dT),K=(0,C.Vv)({enabledFilters:$,tokens:q,onChange:Y,loading:V.loading}),L=K.button,M=K.activeFiltersJsx;return(0,O.jsx)(I.Lw.Provider,{value:{refetch:V.refetch},children:(0,O.jsx)(u.T,{children:(0,O.jsx)(E.g,{queryResult:V,allowStaleData:!0,children:function(n){var t=n.pipelineRunsOrError;if("Runs"!==t.__typename)return(0,O.jsx)(d.x,{padding:{vertical:64},children:(0,O.jsx)(c.t,{icon:"error",title:"Query Error",description:t.message})});var o=t.results.slice(0,25),s=B.hasNextCursor,a=B.hasPrevCursor;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(_.Y,{$top:0,children:(0,O.jsx)(P.A,{runs:o,onAddTag:W,actionBarComponents:(0,O.jsxs)(d.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[L,(0,O.jsx)(y.xi,{refreshState:J})]}),belowActionBarComponents:(0,O.jsxs)(O.Fragment,{children:[G.map((function(n){var e=n.token,t=n.value;return(0,O.jsx)(h.V,{children:"".concat(e,":").concat(t)},e)})),M.length?(0,O.jsxs)(O.Fragment,{children:[M,(0,O.jsx)(f.Z,{onClick:function(){Y([])},children:"Clear all"})]}):null]}),emptyState:function(){return(0,O.jsx)(T,{repoAddress:r,anyFilter:q.length>0,jobName:l,jobPath:e})}})}),s||a?(0,O.jsx)("div",{style:{marginTop:"20px"},children:(0,O.jsx)(x.pI,(0,i.Z)({},B))}):null]})}})})})},T=function(n){var e=n.repoAddress,t=n.anyFilter,r=n.jobName,o=n.jobPath,i=(0,F.Ux)(e),s=(0,F.Hb)(i,r);return(0,O.jsx)(d.x,{padding:{vertical:64},children:(0,O.jsx)(c.t,{icon:"run",title:"No runs found",description:e?s?(0,O.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,O.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,O.jsx)("div",{children:(0,O.jsx)(R.A,{icon:(0,O.jsx)(v.JO,{name:"materialization"}),to:(0,k.$U)(e,"/jobs/".concat(o)),children:"Materialize an asset"})})]}):(0,O.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,O.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,O.jsx)("div",{children:(0,O.jsx)(R.A,{icon:(0,O.jsx)(v.JO,{name:"add_circle"}),to:(0,k.$U)(e,"/jobs/".concat(o,"/playground")),children:"Launch a run"})})]}):(0,O.jsx)("div",{children:"You have not launched any runs for this job."})})})},D=(0,l.Ps)(r||(r=(0,o.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),P.Z,j.B)},4774:function(n,e,t){"use strict";t.d(e,{l:function(){return p}});var r=t(68079),o=t(33028),i=t(96234),s=t(90239),a=t(78193),l=t(46860);function p(n){var e=a.useState((function(){return[]})),t=(0,i.Z)(e,2),p=t[0],u=t[1],d=(0,l.q)({queryKey:"cursor"}),c=(0,i.Z)(d,2),h=c[0],f=c[1],x=(0,o.Z)((0,o.Z)({},n.variables),{},{cursor:h,limit:n.pageSize+1}),v=(0,s.a)(n.query,{skip:n.skip,variables:x,notifyOnNetworkStatusChange:!0}),g=n.getResultArray(v.data),m={hasPrevCursor:!!h,hasNextCursor:g.length===n.pageSize+1,popCursor:function(){var n=(0,r.Z)(p);f(n.pop()),u(n)},advanceCursor:function(){h&&u((function(n){return[].concat((0,r.Z)(n),[h])}));var e=v.data&&n.nextCursorForResult(v.data);e&&f(e)},reset:function(){u([]),f(void 0)}};return{queryResult:v,paginationProps:m}}},33069:function(n,e,t){"use strict";t.r(e),t.d(e,{SnapshotRoot:function(){return I},default:function(){return C}});t(78193);var r,o=t(50032),i=t(10893),s=t(48341),a=t(76408),l=t(33028),p=t(71171),u=t(31623),d=t(90239),c=t(95714),h=t(20356),f=t(83473),x=t(57103),v=t(16185),g=t(97412),m=t(4248),j=t(92761),y=t(63167),S=t(35936),P=(0,u.Ps)(r||(r=(0,p.Z)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]))),b=function(n){var e,t=n.activeTab,r=void 0===t?"":t,o=n.explorerPath,i=o.pipelineName,a=o.snapshotId,p=void 0===a?"":a,u=(0,s.gY)((0,l.Z)((0,l.Z)({},o),{},{opNames:[]})),b=(0,j.Nc)(i),I=!(null===b||void 0===b||!b.isJob),C=null===b||void 0===b?void 0:b.pipelineSnapshotId,N=(0,d.a)(P,{variables:{snapshotId:p}}),R=N.data,E=N.loading,_=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(u)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(u,"runs")}];return(0,S.jsx)(h.m,{title:(0,S.jsx)(f.X6,{style:{fontFamily:x.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.V,{icon:"schema",children:["Snapshot of"," ",(0,S.jsx)(g.rU,{to:(0,y.r4)(o.pipelineName,I),children:o.pipelineName})]}),function(){var n;return E?(0,S.jsx)(c.V,{intent:"none",minimal:!0,children:"..."}):!C||C!==p&&"PipelineSnapshot"===(null===R||void 0===R?void 0:R.pipelineSnapshotOrError.__typename)&&(null===R||void 0===R||null===(n=R.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==C?(0,S.jsx)(c.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,S.jsx)(c.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,S.jsx)(v.mQ,{selectedTabId:r,children:_.map((function(n){var e=n.href,t=n.text,r=n.pathComponent;return(0,S.jsx)(m.f,{id:r,title:t,to:e},t)}))})})},I=function(){var n=(0,o.UO)(),e=n.pipelinePath,t=n.tab,r=(0,s.p3)(e);return(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,S.jsx)(b,{activeTab:t,explorerPath:r}),(0,S.jsxs)(o.rs,{children:[(0,S.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,S.jsx)(a.G,{})}),(0,S.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,S.jsx)(i.CY,{})})]})]})},C=I},42468:function(n,e,t){"use strict";t.d(e,{Y:function(){return i}});var r=t(60319),o=t(32667),i=r.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"sc-n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){var e=n.$top;return void 0===e?0:e}),o.w.White,o.w.KeylineGray)},225:function(n,e,t){var r=t(67268),o=t(86357),i=t(93550),s=t(9747),a=t(4564),l=t(59390);n.exports=function(n,e,t,p){var u=-1,d=o,c=!0,h=n.length,f=[],x=e.length;if(!h)return f;t&&(e=s(e,a(t))),p?(d=i,c=!1):e.length>=200&&(d=l,c=!1,e=new r(e));n:for(;++u<h;){var v=n[u],g=null==t?v:t(v);if(v=p||0!==v?v:0,c&&g===g){for(var m=x;m--;)if(e[m]===g)continue n;f.push(v)}else d(e,g,p)||f.push(v)}return f}},92578:function(n,e,t){var r=t(8945),o=t(70214);n.exports=function(n,e){return r(o(n,e),1)}},67656:function(n,e,t){var r=t(56797),o=t(93348)((function(n,e,t){r(n,t,e)}));n.exports=o},42918:function(n,e,t){var r=t(9747),o=t(39095),i=t(74864),s=t(70002);n.exports=function(n,e){if(null==n)return{};var t=r(s(n),(function(n){return[n]}));return e=o(e),i(n,t,(function(n,t){return e(n,t[0])}))}},97346:function(n,e,t){var r=t(225),o=t(94518),i=t(22482),s=o((function(n,e){return i(n)?r(n,e):[]}));n.exports=s}}]);
//# sourceMappingURL=596.4174e6c5.chunk.js.map
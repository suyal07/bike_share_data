"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[620],{1035:function(e,n,t){t.d(n,{i:function(){return o}});var r=t(32667),i=t(78193),s=t(20822),a=t(35936),o=function(e){var n=e.edges,t=e.highlighted,s=e.strokeWidth,o=void 0===s?4:s,d=e.baseColor,c=void 0===d?r.w.KeylineGray:d;return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(l,{color:c,edges:n,strokeWidth:o}),(0,a.jsx)(l,{color:r.w.Blue500,edges:n.filter((function(e){var n=e.fromId,r=e.toId;return t===n||t===r})),strokeWidth:o})]})},l=i.memo((function(e){var n=e.edges,t=e.color,r=e.strokeWidth;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("marker",{id:"arrow".concat(btoa(t)),viewBox:"0 0 8 10",refX:"1",refY:"5",markerUnits:"strokeWidth",markerWidth:r,orient:"auto",children:(0,a.jsx)("path",{d:"M 0 0 L 8 5 L 0 10 z",fill:t})})}),n.map((function(e,n){return(0,a.jsx)("path",{d:(0,s.cD)({source:e.from,target:e.to}),stroke:t,strokeWidth:r,fill:"none",markerEnd:"url(#arrow".concat(btoa(t),")")},n)}))]})}))},14228:function(e,n,t){t.d(n,{OK:function(){return Ye},md:function(){return He},CZ:function(){return qe}});var r,i,s,a,o=t(32723),l=t(41361),d=t(68079),c=t(34795),u=t(96234),p=t(33028),f=t(60319),m=t(67445),h=t(84464),x=t(17868),y=t(32667),g=t(17914),v=t(47515),j=t(42918),b=t.n(j),N=t(23662),w=t.n(N),K=t(97346),S=t.n(K),Z=t(78193),A=t(72691),k=t(39707),O=t(30559),I=t(77647),z=t(1018),C=t(21916),E=t(8171),_=t(25620),M=t(78387),P=t(64218),D=t(13422),F=t(1035),L=t(71171),T=t(90239),G=t(31623),R=t(62638),Q=t(44907),U=t(89332),V=t(66708),$=t(35936),B=function(e){var n=e.pipelineSelector,t=(0,T.a)(J,{variables:{pipelineSelector:n}}),r=n.repositoryName,i=n.repositoryLocationName,s=(0,V.kQ)(r,i);return(0,$.jsx)(D.g,{queryResult:t,children:function(e){var n=e.pipelineSnapshotOrError;return"PipelineSnapshot"!==n.__typename?(0,$.jsx)(Q.Q,{isGraph:!0,result:n,repoAddress:s}):(0,$.jsx)(U.S,{container:n,repoAddress:s})}})},J=(0,G.Ps)(r||(r=(0,L.Z)(["\n  query AssetGraphSidebarQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        ...SidebarRootContainerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),U.q,R.B),W=t(3060),q=t(1497),H=t(7055),Y=t(62459),X=t(86741),ee=t(61623),ne=t(97412),te=t(27409),re=t(69040),ie=t(46634),se=t(83473),ae=t(34072),oe=t(65532),le=t(94403),de=t(8078),ce=t(15117),ue=t(13167),pe=t(4537),fe=t(67888),me=t(40854),he=t(20822),xe=t(84674),ye=t(24265),ge=t(89622),ve=t(25854),je=t(92761),be=t(12478),Ne=t(50021),we=function(e){var n=e.assetKey,t=e.latest,r=e.liveData,i="Run"===(null===t||void 0===t?void 0:t.runOrError.__typename)?null===t||void 0===t?void 0:t.runOrError:null,s=null===i||void 0===i?void 0:i.repositoryOrigin,a=s?(0,V.kQ)(s.repositoryName,s.repositoryLocationName):null,o=(0,je.Ux)(a),l=t,d="MaterializationEvent"===(null===l||void 0===l?void 0:l.__typename)?null===l||void 0===l?void 0:l.assetLineage:[],c=(0,ve.aD)(null!==l&&void 0!==l&&l.stepKey?{runId:l.runId,stepKeys:[l.stepKey]}:{runId:void 0,stepKeys:[]});return(0,$.jsxs)($.Fragment,{children:[c.dialog,l?(0,$.jsx)(Ke,{children:(0,$.jsxs)("tbody",{children:[(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Run"}),(0,$.jsx)("td",{children:i?(0,$.jsxs)("div",{children:[(0,$.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between",gap:8,alignItems:"flex-start"},children:[(0,$.jsxs)(v.x,{children:["Run ",(0,$.jsx)(ne.rU,{to:"/runs/".concat(l.runId,"?timestamp=").concat(l.timestamp),children:(0,$.jsx)(se.fv,{children:(0,ge.EI)({id:l.runId})})})]}),c.button]}),!(0,he.pv)(i.pipelineName)&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(v.x,{padding:{left:8,top:4},children:(0,$.jsx)(ye.h,{showIcon:!0,pipelineName:i.pipelineName,pipelineHrefContext:a||"repo-unknown",snapshotId:i.pipelineSnapshotId,isJob:(0,je.E8)(o,i.pipelineName)})}),(0,$.jsxs)(pe.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,$.jsx)(ee.JO,{name:"linear_scale",color:y.w.Gray400}),(0,$.jsx)(ne.rU,{to:(0,ge.tA)(i,l),children:l.stepKey})]})]})]}):"No materialization events"})]}),null!==t&&void 0!==t&&t.partition?(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Partition"}),(0,$.jsx)("td",{children:t?t.partition:"No materialization events"})]}):null,(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Timestamp"}),(0,$.jsx)("td",{children:(0,$.jsxs)(v.x,{flex:{gap:8,alignItems:"center"},children:[l?(0,$.jsx)(me.E,{timestamp:{ms:Number(l.timestamp)}}):"No materialization events",r&&(0,$.jsx)(Ne.d9,{assetKey:n,liveData:r,include:"all"})]})})]}),null!==d&&void 0!==d&&d.length?(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Parent assets"}),(0,$.jsx)("td",{children:(0,$.jsx)(be.i,{elements:d,timestamp:l.timestamp})})]}):null,null===l||void 0===l?void 0:l.metadataEntries.map((function(e){return(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:e.label}),(0,$.jsx)("td",{children:(0,$.jsx)(xe.BL,{entry:e,expandSmallValues:!0,repoLocation:null===a||void 0===a?void 0:a.location})})]},"metadata-".concat(e.label))}))]})}):(0,$.jsx)(v.x,{padding:{top:16,bottom:32},children:(0,$.jsx)(m.t,{icon:"materialization",title:"No metadata",description:"No metadata was found for this asset."})})]})},Ke=(0,f.ZP)(fe.i).withConfig({displayName:"LastMaterializationMetadata__MetadataTable",componentId:"sc-1u4xf4p-0"})(["td:first-child{white-space:nowrap;width:1px;max-width:400px;word-break:break-word;overflow:hidden;text-overflow:ellipsis;}"]),Se=t(76144),Ze=t(51294),Ae=t(44435),ke=function(e){var n=e.asset,t=e.assetLastMaterializedAt,r=e.isSourceAsset,i=e.liveData,s=e.stepKey,a=(0,Ae.fE)(n.assetKey,{},{assetHasDefinedPartitions:!!n.partitionDefinition}),o=a.materializations,l=a.observations,d=a.loadedPartitionKeys,c=a.loading,u=a.refetch,p=a.xAxis,f=(0,Ze.L)(p,o,l,d),m=r?l[0]:o[0];return Z.useEffect((function(){u()}),[t,u]),(0,$.jsxs)($.Fragment,{children:[!n.partitionDefinition&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ue.Z,{stepKey:s,border:{side:"top",width:1,color:y.w.KeylineGray},run:(null===i||void 0===i?void 0:i.runWhichFailedToMaterialize)||null}),(0,$.jsx)(ce.j,{stepKey:s,border:{side:"top",width:1,color:y.w.KeylineGray},liveData:i})]}),n.freshnessPolicy&&(0,$.jsx)(ae.pC,{title:"Freshness policy",children:(0,$.jsxs)(v.x,{margin:{horizontal:24,vertical:12},flex:{gap:12,alignItems:"flex-start"},children:[(0,$.jsx)(se.uT,{style:{flex:1},children:(0,Se.jY)(n.freshnessPolicy)}),(0,$.jsx)(Se.CW,{liveData:i,policy:n.freshnessPolicy,assetKey:n.assetKey})]})}),n.autoMaterializePolicy&&(0,$.jsx)(ae.pC,{title:"Auto-materialize policy",children:(0,$.jsxs)(v.x,{margin:{horizontal:24,vertical:12},flex:{gap:12,alignItems:"flex-start"},children:[(0,$.jsx)(se.uT,{style:{flex:1},children:(0,de.r)(n.autoMaterializePolicy)}),(0,$.jsx)(de.W,{policy:n.autoMaterializePolicy})]})}),d.length>1?null:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ae.pC,{title:r?"Observation in last run":"Materialization in last run",children:m?(0,$.jsx)("div",{style:{margin:-1,maxWidth:"100%",overflowX:"auto"},children:(0,$.jsx)(we,{assetKey:n.assetKey,latest:m,liveData:i})}):c?(0,$.jsx)(v.x,{padding:{vertical:20},children:(0,$.jsx)(Y.$,{purpose:"section"})}):(0,$.jsx)(v.x,{margin:{horizontal:24,vertical:12},style:{color:y.w.Gray500,fontSize:"0.8rem"},children:r?"No observations found":"No materializations found"})}),(0,$.jsx)(ae.pC,{title:r?"Observation system tags":"Materialization system tags",collapsedByDefault:!0,children:m?(0,$.jsx)("div",{style:{margin:-1,maxWidth:"100%",overflowX:"auto"},children:(0,$.jsx)(oe.M,{event:m,paddingLeft:24})}):c?(0,$.jsx)(v.x,{padding:{vertical:20},children:(0,$.jsx)(Y.$,{purpose:"section"})}):(0,$.jsx)(v.x,{margin:{horizontal:24,vertical:12},style:{color:y.w.Gray500,fontSize:"0.8rem"},children:r?"No observations found":"No materializations found"})})]}),(0,$.jsx)(ae.pC,{title:"Metadata plots",children:(0,$.jsx)(le.l,{xAxis:p,asSidebarSection:!0,groups:f,columnCount:1})})]})},Oe=t(17163),Ie=t(50883),ze=t(64869),Ce=t(95460),Ee=t(85514),_e=t(52072),Me=t(27954),Pe=t(54665),De=t(54335),Fe=t(99986),Le=t(63167),Te=function(e){var n,t,r=e.graphNode,i=e.liveData,s=r.assetKey,a=r.definition,o=(0,_e.em)(i),l=(0,_e.mR)([s],o,"background"),d=(0,T.a)(Ve,{variables:{assetKey:{path:s.path}}}).data,c=(i||{}).lastMaterialization,u="AssetNode"===(null===d||void 0===d?void 0:d.assetNodeOrError.__typename)?d.assetNodeOrError:null;if(!u)return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Re,{assetNode:a,repoAddress:null}),(0,$.jsx)(v.x,{padding:{vertical:64},children:(0,$.jsx)(Y.$,{purpose:"section"})})]});var p=(0,V.kQ)(u.repository.name,u.repository.location.name),f=(0,ie.U6)(u),m=f.assetMetadata,h=f.assetType,x=h||m.length>0,g=null===(n=u.configField)||void 0===n?void 0:n.configType,j=(null===(t=u.op)||void 0===t?void 0:t.metadata)&&(0,Fe.D)(u.op.metadata);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Re,{assetNode:a,repoAddress:p}),(0,$.jsx)(re.N,{assetKey:s,loadedFromRepo:p,padded:!1}),(u.description||(null===j||void 0===j?void 0:j.SidebarComponent)||!x)&&(0,$.jsxs)(ae.pC,{title:"Description",children:[(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:(0,$.jsx)(Pe.d,{description:u.description||"No description provided"})}),u.op&&(null===j||void 0===j?void 0:j.SidebarComponent)&&(0,$.jsx)(v.x,{padding:{bottom:16,horizontal:24},children:(0,$.jsx)(j.SidebarComponent,{definition:u.op,repoAddress:p})})]}),(0,$.jsx)(ke,{asset:u,assetLastMaterializedAt:null===c||void 0===c?void 0:c.timestamp,isSourceAsset:a.isSource,stepKey:(0,he.Ec)(a),liveData:i}),(0,$.jsx)("div",{style:{borderBottom:"2px solid ".concat(y.w.Gray300)}}),(0,he.Pz)(r)&&(0,$.jsx)(Oe.x,{}),u.opVersion&&(0,$.jsx)(ae.pC,{title:"Code Version",children:(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:(0,$.jsx)(Ce.G,{children:u.opVersion})})}),g&&(0,$.jsx)(ae.pC,{title:"Config",children:(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:(0,$.jsx)(X.L,{type:g,typesInScope:g.recursiveConfigTypes})})}),u.requiredResources.length>0&&(0,$.jsx)(ae.pC,{title:"Required Resources",children:(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:u.requiredResources.map((function(e){return(0,$.jsxs)(De.b1,{children:[(0,$.jsx)(ee.JO,{name:"resource",color:y.w.Gray700}),p?(0,$.jsx)(ne.rU,{to:(0,Le.$U)(p,"/resources/".concat(e.resourceKey)),children:(0,$.jsx)(De.bZ,{children:e.resourceKey})}):(0,$.jsx)(De.bZ,{children:e.resourceKey})]},e.resourceKey)}))})}),m.length>0&&(0,$.jsx)(ae.pC,{title:"Metadata",children:(0,$.jsx)(ie.mQ,{assetMetadata:m,repoLocation:null===p||void 0===p?void 0:p.location})}),h&&(0,$.jsx)(Ge,{assetType:h}),u.partitionDefinition&&(0,$.jsx)(ae.pC,{title:"Partitions",children:(0,$.jsxs)(v.x,{padding:{vertical:16,horizontal:24},flex:{direction:"column",gap:16},children:[(0,$.jsx)("p",{children:u.partitionDefinition.description}),(0,$.jsx)(Ie.m,{assetKey:u.assetKey,data:l})]})})]})},Ge=function(e){var n=e.assetType;return(0,$.jsx)(ae.pC,{title:"Type",children:(0,$.jsx)(Me.Ot,{type:n})})},Re=function(e){var n=e.assetNode,t=e.repoAddress,r=(0,he.ll)(n.assetKey);return(0,$.jsxs)(v.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,$.jsx)(ae.R8,{style:{marginBottom:0,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:(0,$.jsx)(v.x,{children:r})}),(0,$.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,$.jsxs)(Qe,{to:(0,Ee.p)(n.assetKey),children:["View in Asset Catalog ",(0,$.jsx)(ee.JO,{name:"open_in_new",color:y.w.Link})]}),t&&(0,$.jsx)(ze.d,{assetNode:n,repoAddress:t,minimal:!0})]})]})},Qe=(0,f.ZP)(ne.rU).withConfig({displayName:"SidebarAssetInfo__AssetCatalogLink",componentId:"sc-qra0a8-0"})(["display:flex;gap:5px;padding:6px;margin:-6px;align-items:center;white-space:nowrap;"]),Ue=(0,G.Ps)(i||(i=(0,L.Z)(["\n  fragment SidebarAssetFragment on AssetNode {\n    id\n    description\n    ...AssetNodeConfigFragment\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    freshnessPolicy {\n      maximumLagMinutes\n      cronSchedule\n      cronScheduleTimezone\n    }\n    autoMaterializePolicy {\n      policyType\n    }\n    partitionDefinition {\n      description\n    }\n    assetKey {\n      path\n    }\n    op {\n      name\n      description\n      metadata {\n        key\n        value\n      }\n    }\n    opVersion\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n\n    ...AssetNodeOpMetadataFragment\n  }\n\n  ","\n  ","\n  ","\n"])),te.r,xe.it,ie.Ws),Ve=(0,G.Ps)(s||(s=(0,L.Z)(["\n  query SidebarAssetQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        ...SidebarAssetFragment\n      }\n    }\n  }\n\n  ","\n"])),Ue),$e=t(34570),Be=t(61794);var Je=(0,G.Ps)(a||(a=(0,L.Z)(["\n  query AssetForNavigationQuery($key: AssetKeyInput!) {\n    assetOrError(assetKey: $key) {\n      ... on Asset {\n        id\n        definition {\n          id\n          opNames\n          jobNames\n          groupName\n          repository {\n            id\n            name\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),We=t(65778),qe=.6,He=.15,Ye=function(e){var n=(0,$e.uc)(e.explorerPath.opsQuery,e.fetchOptions),t=n.fetchResult,r=n.assetGraphData,i=n.graphQueryItems,s=n.graphAssetKeys,a=n.allAssetKeys,o=n.applyingEmptyDefault,l=(0,We.le)(s),d=l.liveDataByNode,c=l.liveDataRefreshState;return(0,$.jsx)(D.g,{allowStaleData:!0,queryResult:t,children:function(){return r&&a?(0,he.vm)(r)?(0,$.jsx)(m.t,{icon:"error",title:"Cycle detected",description:"Assets dependencies form a cycle"}):(0,$.jsx)(Xe,(0,p.Z)({assetGraphData:r,allAssetKeys:a,graphQueryItems:i,applyingEmptyDefault:o,liveDataRefreshState:c,liveDataByNode:d},e),e.explorerPath.pipelineName):(0,$.jsx)(m.t,{icon:"error",title:"Query Error"})}})},Xe=function(e){var n=e.options,t=e.setOptions,r=e.explorerPath,i=e.onChangeExplorerPath,s=e.onNavigateToSourceAssetNode,a=e.liveDataRefreshState,f=e.liveDataByNode,m=e.assetGraphData,j=e.graphQueryItems,N=e.applyingEmptyDefault,K=e.fetchOptions,D=e.fetchOptionFilters,L=function(){var e=(0,Be.x)();return Z.useCallback(function(){var n=(0,c.Z)((0,o.Z)().mark((function n(t){var r,i,s;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({query:Je,variables:{key:t}});case 2:if(r=n.sent,"Asset"!==(null===(i=r.data)||void 0===i?void 0:i.assetOrError.__typename)||null===i||void 0===i||!i.assetOrError.definition){n.next=7;break}return s=i.assetOrError.definition,n.abrupt("return",{assetKey:t,opNames:s.opNames,jobName:s.jobNames.find((function(e){return!(0,he.pv)(e)}))||null,groupName:s.groupName,repoAddress:s.repository?(0,V.kQ)(s.repository.name,s.repository.location.name):null});case 7:return n.abrupt("return",{assetKey:t,opNames:[],jobName:null,groupName:null,repoAddress:null});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e])}(),T=(0,C.oJ)(m),G=T.layout,R=T.loading,Q=T.async,U=Z.useRef(),J=(0,A.gV)().flagHorizontalDAGs,Y=Z.useState(null),X=(0,u.Z)(Y,2),ee=X[0],ne=X[1],te=r.opNames[r.opNames.length-1].split(","),re=Object.values(m.nodes).filter((function(e){return te.includes((0,he.Je)(e.definition.assetKey))})),ie=re[re.length-1],se=re.map((function(e){return e.definition})),ae=N?j.map((function(e){return e.node})):Object.values(m.nodes).map((function(e){return e.definition})),oe=Z.useCallback(function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n,t,a){var c,u,f,h,x,y,g,v,j,b,N,K;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),c=(0,he.Je)(t),u=null===a||void 0===a?void 0:a.definition){e.next=9;break}return e.t0=s,e.next=7,L(t);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:if(f=c,!n.shiftKey&&!n.metaKey){e.next=35;break}if(h=[c],!(n.shiftKey&&re.length&&a)){e.next=33;break}x=(0,d.Z)(re).reverse(),y=(0,l.Z)(x),e.prev=15,y.s();case 17:if((g=y.n()).done){e.next=25;break}if(v=g.value,!(j=nn({from:v,to:a,graph:m})).length){e.next=23;break}return h=j,e.abrupt("break",25);case 23:e.next=17;break;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(15),y.e(e.t2);case 30:return e.prev=30,y.f(),e.finish(30);case 33:b=r.opNames[0].split(","),f=(b.includes(c)?S()(b,c):w()([].concat((0,d.Z)(b),(0,d.Z)(h)))).join(",");case 35:(N=null===G||void 0===G?void 0:G.nodes[f[f.length-1]])&&(null===(K=U.current)||void 0===K||K.zoomToSVGCoords(N.bounds.x,N.bounds.y,!0)),i((0,p.Z)((0,p.Z)({},r),{},{opNames:[f],opsQuery:u?r.opsQuery:"".concat(r.opsQuery,',++"').concat(c,'"++'),pipelineName:r.pipelineName}),"replace");case 38:case"end":return e.stop()}}),e,null,[[15,27,30,33]])})));return function(n,t,r){return e.apply(this,arguments)}}(),[r,i,s,L,re,m,G]),le=Z.useState(null),de=(0,u.Z)(le,2),ce=de[0],ue=de[1],pe=ce!==G;Z.useEffect((function(){pe&&G&&U.current&&(ie?U.current.focus():U.current.autocenter(!1),ue(G))}),[pe,ie,G,U]);var fe=!(!G||!Object.keys(G.groups).length);return(0,$.jsx)(h.OS,{identifier:"explorer",firstInitialPercent:70,firstMinSize:400,first:(0,$.jsxs)(x.S,{region:"graph",children:[0===j.length?(0,$.jsx)(M.LS,{nodeType:"asset",isGraph:!0}):N?(0,$.jsx)(M.K4,{nodeType:"asset"}):0===Object.keys(m.nodes).length?(0,$.jsx)(M.VQ,{nodeType:"asset"}):void 0,R||!G?(0,$.jsx)(M.W_,{async:Q,nodeType:"asset"}):(0,$.jsx)(z.l,{ref:function(e){return U.current=e||void 0},defaultZoom:J?"zoom-to-fit-width":"zoom-to-fit",interactor:z.l.Interactors.PanAndZoom,graphWidth:G.width,graphHeight:G.height,graphHasNoMinimumZoom:fe,onClick:function(){return i((0,p.Z)((0,p.Z)({},r),{},{pipelineName:r.pipelineName,opNames:[]}),"replace")},onArrowKeyDown:function(e,n){if(G){var t=(0,p.Z)((0,p.Z)({},G),{},{nodes:b()(G.nodes,(function(e){var n;return!(null===(n=m.nodes[e.id])||void 0===n||!n.definition)}))}),r=(0,E.mh)(t,ie.id,n),i=r&&m.nodes[r];i&&U.current&&(oe(e,i.assetKey,i),U.current.zoomToSVGBox(G.nodes[r].bounds,!0))}},onDoubleClick:function(e){var n;null===(n=U.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1,children:function(e){var n=e.scale;return(0,$.jsxs)(en,{width:G.width,height:G.height,children:[(0,$.jsx)(F.i,{highlighted:ee,edges:G.edges,strokeWidth:fe?Math.max(4,3/n):4,baseColor:fe&&n<He?y.w.Gray400:y.w.KeylineGray}),Object.values(G.groups).sort((function(e,n){return e.id.length-n.id.length})).map((function(e){return(0,$.jsx)("foreignObject",(0,p.Z)((0,p.Z)({},e.bounds),{},{onDoubleClick:function(n){if(U.current){var t=U.current.scaleForSVGBounds(e.bounds.width,e.bounds.height);U.current.zoomToSVGBox(e.bounds,!0,.9*t),n.stopPropagation()}},children:(0,$.jsx)(W.l,{group:e,scale:n})}),e.id)})),Object.values(G.nodes).map((function(e){var t=e.id,r=e.bounds,i=m.nodes[t],s=JSON.parse(t);if(!(fe&&n<He))return(0,Z.createElement)("foreignObject",(0,p.Z)((0,p.Z)({},r),{},{key:t,onMouseEnter:function(){return ne(t)},onMouseLeave:function(){return ne(null)},onClick:function(e){return oe(e,{path:s},i)},onDoubleClick:function(e){var n;null===(n=U.current)||void 0===n||n.zoomToSVGBox(r,!0,1.2),e.stopPropagation()},style:{overflow:"visible"}}),i?n<qe?(0,$.jsx)(q.t$,{definition:i.definition,liveData:f[i.id],selected:re.includes(i)}):(0,$.jsx)(q.p4,{definition:i.definition,liveData:f[i.id],selected:re.includes(i)}):(0,$.jsx)(H.w,{assetKey:{path:s}}))}))]})}}),t&&(0,$.jsx)(_.cY,{children:(0,$.jsx)(g.X,{format:"switch",label:"View as Asset Graph",checked:n.preferAssetRendering,onChange:function(){var e;i((0,p.Z)((0,p.Z)({},r),{},{opNames:(null===(e=se[0])||void 0===e?void 0:e.opNames)||[]}),"replace"),t((0,p.Z)((0,p.Z)({},n),{},{preferAssetRendering:!n.preferAssetRendering}))}})}),(0,$.jsx)(v.x,{flex:{direction:"column",alignItems:"flex-end",gap:8},style:{position:"absolute",right:12,top:8},children:(0,$.jsxs)(v.x,{flex:{alignItems:"center",gap:12},children:[(0,$.jsx)(k.xi,{refreshState:a,dataDescription:"materializations"}),(0,$.jsx)(I.y,{preferredJobName:r.pipelineName,scope:se.length?{selected:se.filter((function(e){return e.isObservable}))}:{all:ae.filter((function(e){return e.isObservable}))}}),(0,$.jsx)(O.XE,{preferredJobName:r.pipelineName,liveDataForStale:f,scope:se.length?{selected:se}:{all:ae}})]})}),(0,$.jsxs)(_.U0,{children:[D,(0,$.jsx)(P.j,{items:j,value:r.opsQuery,placeholder:"Type an asset subset\u2026",onChange:function(e){return i((0,p.Z)((0,p.Z)({},r),{},{opsQuery:e}),"replace")},popoverPosition:"bottom-left"})]})]}),second:1===re.length&&re[0]?(0,$.jsx)(_.Ui,{children:(0,$.jsx)(_.zI,{children:(0,$.jsx)(x.S,{region:"asset sidebar",resetErrorOnChange:[re[0].id],children:(0,$.jsx)(Te,{graphNode:re[0],liveData:f[re[0].id]})})})}):K.pipelineSelector?(0,$.jsx)(_.Ui,{children:(0,$.jsx)(_.zI,{children:(0,$.jsx)(x.S,{region:"asset job sidebar",children:(0,$.jsx)(B,{pipelineSelector:K.pipelineSelector})})})}):null})},en=f.ZP.svg.withConfig({displayName:"AssetGraphExplorer__SVGContainer",componentId:"sc-hnrxmo-0"})(["overflow:visible;border-radius:0;"]),nn=function e(n){var t=n.graph,r=n.from,i=n.to,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!r)return[];if(r.id===i.id)return[(0,he.Je)(i.definition.assetKey)];if(0===s.length&&"upstream"===function(e){for(var n=e.graph,t=e.from,r=e.to,i=[t];i.length;){var s=i.pop(),a=(0,d.Z)(Object.keys(n.downstream[s.id]||{})).map((function(e){return n.nodes[e]})).filter(Boolean);if(a.some((function(e){return e.id===r.id})))return"downstream";i.push.apply(i,(0,d.Z)(a))}return"upstream"}({graph:t,from:r,to:i})){var a=[i,r];r=a[0],i=a[1]}var o,c=(0,d.Z)(Object.keys(t.downstream[r.id]||{})).map((function(e){return t.nodes[e]})).filter(Boolean),u=[],p=(0,l.Z)(c);try{for(p.s();!(o=p.n()).done;){var f=o.value;if(!s.includes(f.id)){var m=e({graph:t,from:f,to:i},[].concat((0,d.Z)(s),[r.id]));m.length&&u.push.apply(u,[(0,he.Je)(r.definition.assetKey)].concat((0,d.Z)(m)))}}}catch(h){p.e(h)}finally{p.f()}return w()(u)}},3060:function(e,n,t){t.d(n,{l:function(){return h}});var r=t(60319),i=t(47515),s=t(83473),a=t(61623),o=t(32667),l=t(57103),d=(t(78193),t(97412)),c=t(88949),u=t(66708),p=t(63167),f=t(14228),m=t(35936),h=function(e){var n=e.group,t=e.scale,r=n.repositoryLocationName,h=n.repositoryDisambiguationRequired,g=n.repositoryName,v=n.groupName;return(0,m.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[t>f.md&&(0,m.jsx)(i.x,{flex:{alignItems:"flex-end"},style:{height:70},children:(0,m.jsxs)(s.fv,{style:{fontWeight:600,userSelect:"none",fontSize:t>f.CZ?"16px":"32px",display:"flex",gap:6},children:[(0,m.jsx)(a.JO,{name:"asset_group",color:o.w.Gray400,size:t>f.CZ?20:48}),(0,m.jsxs)(i.x,{flex:{direction:"column"},children:[(0,m.jsx)(d.rU,{style:{color:o.w.Gray400},onClick:function(e){return e.stopPropagation()},to:(0,p.rO)(g,r,"/asset-groups/".concat(v)),children:v}),h&&(0,m.jsx)(y,{style:{marginBottom:"0.5em"},children:(0,c.R9)((0,u.At)(g,r),{maxLength:45})})]})]})}),(0,m.jsx)(x,{style:{inset:0,top:75,position:"absolute",background:t<f.md?"rgba(234, 234, 234, 1)":"rgba(217, 217, 217, 0.25)"}}),t<f.md?(0,m.jsx)(i.x,{flex:{justifyContent:"center",alignItems:"center"},style:{inset:0,position:"absolute",fontSize:"".concat(12/t,"px"),userSelect:"none"},children:(0,m.jsxs)(i.x,{flex:{direction:"column",alignItems:"center"},style:{fontWeight:600,fontFamily:l.b.monospace},children:[v,h&&(0,m.jsx)(y,{children:(0,c.R9)((0,u.At)(g,r),{maxLength:45})})]})}):void 0]})},x=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupOutline",componentId:"sc-osbgfp-0"})(["width:100%;border-radius:10px;pointer-events:none;"]),y=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupRepoName",componentId:"sc-osbgfp-1"})(["font-size:0.8em;line-height:0.6em;white-space:nowrap;color:",";"],o.w.Gray400)},7055:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(60319),i=t(61623),s=t(32667),a=t(57103),o=t(78193),l=t(88949),d=t(50545),c=t(35936),u=o.memo((function(e){var n=e.assetKey,t=n.path[n.path.length-1];return(0,c.jsxs)(p,{children:[(0,c.jsx)(i.JO,{name:"open_in_new",color:s.w.Link}),(0,c.jsx)("span",{className:"label",title:t,children:(0,l.R9)(t,{maxLength:d.ASSET_LINK_NAME_MAX_LENGTH})})]})})),p=r.ZP.div.withConfig({displayName:"ForeignNode__AssetNodeLinkContainer",componentId:"sc-f3rzsb-0"})(["display:flex;padding:4px 8px 6px;margin-top:26px;line-height:30px;font-family:",";color:",";align-items:center;font-weight:600;gap:4px;&:hover .label{color:",";text-decoration:underline;}"],a.b.monospace,s.w.Link,s.w.Link)},34570:function(e,n,t){t.d(n,{BK:function(){return N},uc:function(){return v}});var r,i=t(71171),s=t(68079),a=t(41361),o=t(90239),l=t(31623),d=t(276),c=t.n(d),u=t(67656),p=t.n(u),f=t(69590),m=t.n(f),h=t(78193),x=t(62709),y=t(1497),g=t(20822);function v(e,n){var t,r=(0,o.a)(w,{notifyOnNetworkStatusChange:!0,variables:{pipelineSelector:n.pipelineSelector,groupSelector:n.groupSelector}}),i=null===(t=r.data)||void 0===t?void 0:t.assetNodes,s=h.useMemo((function(){if(void 0===i)return{graphAssetKeys:[],graphQueryItems:[],assetGraphData:null,applyingEmptyDefault:!1};var t=i;n.hideNodesMatching&&(t=m()(t,n.hideNodesMatching));var r=j(t),s=(0,x.V)(r,e),a=s.all,o=s.applyingEmptyDefault,l=(0,g.VZ)(a.map((function(e){return e.node})));return n.hideEdgesToNodesOutsideQuery&&b(l,i),{allAssetKeys:t.map((function(e){return e.assetKey})),graphAssetKeys:a.map((function(e){return{path:e.node.assetKey.path}})),assetGraphData:l,graphQueryItems:r,applyingEmptyDefault:o}}),[i,e,n.hideEdgesToNodesOutsideQuery,n.hideNodesMatching]);return{fetchResult:r,assetGraphData:s.assetGraphData,graphQueryItems:s.graphQueryItems,graphAssetKeys:s.graphAssetKeys,allAssetKeys:s.allAssetKeys,applyingEmptyDefault:s.applyingEmptyDefault}}var j=function(e){var n,t={},r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,s=(0,g.Je)(i.assetKey);t[s]={node:i,name:s,inputs:i.dependencyKeys.map((function(e){return{dependsOn:[{solid:{name:(0,g.Je)(e)}}]}})),outputs:i.dependedByKeys.map((function(e){return{dependedBy:[{solid:{name:(0,g.Je)(e)}}]}}))}}}catch(o){r.e(o)}finally{r.f()}return Object.values(t)},b=function(e,n){for(var t=c()(n,(function(e){return(0,g.Wu)(e.assetKey)})),r=function(e){return!!t[e]},i=0,s=Object.keys(e.upstream);i<s.length;i++)for(var a=s[i],o=0,l=Object.keys(e.upstream[a]);o<l.length;o++){var d=l[o];!e.nodes[d]&&r(a)&&(delete e.upstream[a][d],delete e.downstream[d][a])}for(var u=0,p=Object.keys(e.downstream);u<p.length;u++)for(var f=p[u],m=0,h=Object.keys(e.downstream[f]);m<h.length;m++){var x=h[m];!e.nodes[x]&&r(f)&&(delete e.upstream[x][f],delete e.downstream[f][x])}},N=function(e,n){var t=p()(e,(function(e){return e.name})),r=t[(0,g.Je)(n)];if(!r)return{upstream:0,downstream:0};return{upstream:function e(n,r){var i=t[n].inputs.flatMap((function(e){return e.dependsOn.map((function(e){return e.solid.name}))})).filter((function(e){return e!==n}));return Math.max.apply(Math,[r].concat((0,s.Z)(i.map((function(n){return e(n,r+1)})))))}(r.name,0),downstream:function e(n,r){var i=t[n].outputs.flatMap((function(e){return e.dependedBy.map((function(e){return e.solid.name}))})).filter((function(e){return e!==n}));return Math.max.apply(Math,[r].concat((0,s.Z)(i.map((function(n){return e(n,r+1)})))))}(r.name,0)}},w=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query AssetGraphQuery($pipelineSelector: PipelineSelector, $groupSelector: AssetGroupSelector) {\n    assetNodes(pipeline: $pipelineSelector, group: $groupSelector) {\n      id\n      ...AssetNodeForGraphQuery\n    }\n  }\n\n  fragment AssetNodeForGraphQuery on AssetNode {\n    id\n    groupName\n    hasMaterializePermission\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    dependencyKeys {\n      path\n    }\n    dependedByKeys {\n      path\n    }\n    ...AssetNodeFragment\n  }\n\n  ","\n"])),y.zU)},65532:function(e,n,t){t.d(n,{M:function(){return h}});var r=t(68079),i=t(96234),s=t(60319),a=t(83473),o=t(92555),l=t(47515),d=t(61623),c=t(32667),u=(t(78193),t(79962)),p=t(68506),f=t(35936),m=[p.H.AssetEventDataVersion.valueOf(),p.H.AssetEventDataVersionDeprecated.valueOf(),p.H.AssetEventCodeVersion.valueOf()],h=function(e){var n=e.event,t=e.paddingLeft,s=e.collapsible,c=(0,u.U)("show-asset-system-tags",Boolean),h=(0,i.Z)(c,2),y=h[0],g=h[1];return s&&!y?(0,f.jsx)(a.YS,{children:(0,f.jsx)(o.Z,{onClick:function(){return g(!0)},children:(0,f.jsxs)(l.x,{flex:{alignItems:"center"},children:[(0,f.jsxs)("span",{children:["Show tags (",(null===n||void 0===n?void 0:n.tags.length)||0,")"]}),(0,f.jsx)(d.JO,{name:"arrow_drop_down",style:{transform:"rotate(0deg)"}})]})})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x,{children:(0,f.jsx)("tbody",{children:null!==n&&void 0!==n&&n.tags.length?(0,r.Z)(n.tags).sort((function(e,n){return m.indexOf(n.key)-m.indexOf(e.key)})).map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{paddingLeft:t},children:(0,f.jsx)(a.fv,{children:e.key.replace(p.H.Namespace,"")})}),(0,f.jsx)("td",{children:e.value})]},e.key)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{style:{paddingLeft:t},children:"No tags to display."})})})}),s&&(0,f.jsx)(a.YS,{children:(0,f.jsx)(o.Z,{onClick:function(){return g(!1)},children:(0,f.jsxs)(l.x,{flex:{alignItems:"center"},children:[(0,f.jsx)("span",{children:"Hide tags"}),(0,f.jsx)(d.JO,{name:"arrow_drop_down",style:{transform:"rotate(180deg)"}})]})})})]})},x=s.ZP.table.withConfig({displayName:"AssetEventSystemTags__AssetEventSystemTagsTable",componentId:"sc-186zkuz-0"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td:first-child{max-width:300px;word-wrap:break-word;width:25%;}tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray)},12478:function(e,n,t){t.d(n,{Q:function(){return g},i:function(){return y}});var r,i=t(71171),s=t(96234),a=t(68079),o=t(31623),l=t(47515),d=t(44229),c=t(92555),u=t(78193),p=t(97412),f=t(40854),m=t(85514),h=t(35936),x=function(e){var n=e.lineage_info,t=e.timestamp,r=1===n.partitions.length?"Partition":"Partitions",i=n.partitions.map((function(e){return'"'.concat(e,'"')})).join(", "),s=(0,m.p)(n.assetKey,{asOf:t});return(0,h.jsxs)(l.x,{margin:{bottom:4},children:[n.partitions.length>0?"".concat(r," ").concat(i," of "):"",(0,h.jsx)(d.u,{content:(0,h.jsxs)(h.Fragment,{children:["View snapshot as of"," ",(0,h.jsx)(f.E,{timestamp:{ms:Number(t)},timeFormat:{showSeconds:!0,showTimezone:!0}})]}),modifiers:{offset:{enabled:!0,options:{offset:[0,16]}}},placement:"right",children:(0,h.jsx)(p.rU,{to:s,children:(0,h.jsx)(l.x,{flex:{display:"inline-flex",alignItems:"center"},children:n.assetKey.path.map((function(e,n){return(0,h.jsx)("span",{children:e},n)})).reduce((function(e,n,t){return[].concat((0,a.Z)(e),[t>0?(0,h.jsxs)(u.Fragment,{children:["\xa0",">","\xa0"]},"".concat(t,"-space")):null,n])}),[])})})})]})},y=function(e){var n=e.elements,t=e.timestamp,r=u.useState(!0),i=(0,s.Z)(r,2),a=i[0],o=i[1];return(0,h.jsxs)("div",{children:[n.length>5&&(0,h.jsx)(c.Z,{onClick:function(){return o(!a)},children:a?"Show More":"Show Less"}),(a?n.slice(n.length-5):n).map((function(e,n){return(0,h.jsx)(x,{lineage_info:e,timestamp:t},n)}))]})},g=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetLineageFragment on AssetLineageInfo {\n    assetKey {\n      path\n    }\n    partitions\n  }\n"])))},94403:function(e,n,t){t.d(n,{l:function(){return g}});var r=t(41361),i=t(68079),s=t(96234),a=t(47515),o=t(32667),l=t(83473),d=t(67445),c=t(45519),u=t(92578),p=t.n(u),f=t(23662),m=t.n(f),h=t(78193),x=t(98813),y=t(35936),g=function(e){var n=h.useState(null),t=(0,s.Z)(n,2),r=t[0],u=t[1],p=h.useMemo((function(){return(0,i.Z)(e.groups).reverse()}),[e.groups]),f=v(p,e.xAxis),m=Object.keys(f).slice(0,20).sort();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr ".repeat(e.columnCount||2),justifyContent:"stretch"},children:m.map((function(n){return(0,y.jsx)(a.x,{style:{width:"100%"},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:(0,y.jsxs)(a.x,{style:{width:"100%"},border:{side:"right",width:1,color:o.w.KeylineGray},children:[e.asSidebarSection?(0,y.jsx)(a.x,{padding:{horizontal:24,top:8},flex:{justifyContent:"space-between"},children:(0,y.jsx)(l.YS,{style:{fontWeight:700},children:n})}):(0,y.jsx)(a.x,{padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:o.w.KeylineGray},flex:{justifyContent:"space-between"},children:(0,y.jsx)(l.pm,{children:n})}),(0,y.jsx)(a.x,{padding:{horizontal:24,vertical:16},children:(0,y.jsx)(x.K,{label:n,width:"100%",data:f[n],xHover:r,onHoverX:function(e){return e!==r&&u(e)}})})]})},n)}))}),0===m.length?e.asSidebarSection?(0,y.jsx)(a.x,{margin:{horizontal:24,vertical:12},style:{color:o.w.Gray500,fontSize:"0.8rem"},children:"No numeric metadata entries available to be graphed."}):(0,y.jsx)(a.x,{padding:{horizontal:24,top:64},children:(0,y.jsx)(d.t,{shrinkable:!0,icon:"asset_plot",title:"Asset plots are automatically generated by metadata",description:"Include numeric metadata entries in your materializations and observations to see data graphed by time or partition.",action:(0,y.jsx)(c.fr,{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#recording-materialization-metadata",children:"View documentation"})})}):"partition"===e.xAxis&&(0,y.jsx)(a.x,{padding:{vertical:16,horizontal:24},style:{color:o.w.Gray400},children:"When graphing values by partition, the highest data point for each materialized event label is displayed."})]})},v=function(e,n){var t,s={},a=m()(p()(e,(function(e){var n;return((null===(n=e.latest)||void 0===n?void 0:n.metadataEntries)||[]).filter((function(e){return["IntMetadataEntry","FloatMetadataEntry"].includes(e.__typename)})).map((function(e){return e.label}))}))),o=function(e,t){var r=t.x,i=t.y,a=s[e]||{minY:0,maxY:0,minXNumeric:0,maxXNumeric:0,values:[],xAxis:n};if("partition"===n){var o=a.values.find((function(e){return e.x===r}));if(o)return void(isNaN(i)||(o.y=i))}a.values.push({xNumeric:"number"===typeof r?r:a.values.length,x:r,y:i}),s[e]=a},l=(0,r.Z)(e);try{for(l.s();!(t=l.n()).done;){var d=t.value,c=d.partition,u=d.latest,f=("partition"===n?c:Number(null===u||void 0===u?void 0:u.timestamp))||null;if(null!==f){var h,x=(0,r.Z)(a);try{var y=function(){var e=h.value,n=null===u||void 0===u?void 0:u.metadataEntries.find((function(n){return n.label===e}));if(!n)return o(e,{x:f,y:NaN}),"continue";var t=NaN;"IntMetadataEntry"===n.__typename&&(t=null!==n.intValue?n.intValue:parseInt(n.intRepr)),"FloatMetadataEntry"===n.__typename&&null!==n.floatValue&&(t=n.floatValue),o(e,{x:f,y:t})};for(x.s();!(h=x.n()).done;)y()}catch(w){x.e(w)}finally{x.f()}}}}catch(w){l.e(w)}finally{l.f()}for(var g=0,v=Object.values(s);g<v.length;g++){var j=v[g],b=j.values.map((function(e){return e.xNumeric})),N=j.values.map((function(e){return e.y})).filter((function(e){return!isNaN(e)}));j.minXNumeric=Math.min.apply(Math,(0,i.Z)(b)),j.maxXNumeric=Math.max.apply(Math,(0,i.Z)(b)),j.minY=Math.min.apply(Math,(0,i.Z)(N)),j.maxY=Math.max.apply(Math,(0,i.Z)(N))}return s}},46634:function(e,n,t){t.d(n,{U6:function(){return u},Ws:function(){return f},mQ:function(){return p}});var r,i=t(71171),s=t(31623),a=t(47515),o=t(90519),l=(t(78193),t(27954)),d=t(84674),c=t(35936),u=function(e){return{assetType:e.type?e.type:void 0,assetMetadata:e.metadataEntries||[]}},p=function(e){var n=e.assetMetadata,t=e.repoLocation,r=n.map((function(e){return{key:e.label,value:(0,c.jsx)(d.BL,{entry:e,repoLocation:t})}}));return(0,c.jsx)(a.x,{padding:{vertical:16,horizontal:24},children:(0,c.jsx)(o.nZ,{rows:r})})},f=(0,s.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetNodeOpMetadataFragment on AssetNode {\n    id\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    type {\n      ...DagsterTypeFragment\n    }\n  }\n\n  ","\n  ","\n"])),d.it,l.rB)},8078:function(e,n,t){t.d(n,{W:function(){return a},r:function(){return o}});var r=t(95714),i=(t(78193),t(23555)),s=t(35936),a=function(e){var n=e.policy;return(0,s.jsx)(r.V,{children:n.policyType===i.g0H.LAZY?"Lazy":"Eager"})},o=function(e){return(0,s.jsxs)(s.Fragment,{children:["This asset is automatically re-materialized when at least one of the following are true:",(0,s.jsxs)("ul",{style:{paddingLeft:20},children:[(0,s.jsx)("li",{children:"it is missing"}),(0,s.jsx)("li",{children:"it has a freshness policy that requires more up-to-date data"}),(0,s.jsx)("li",{children:"any of its descendants have a freshness policy that require more up-to-date data"}),e.policyType===i.g0H.EAGER&&(0,s.jsx)("li",{children:"any of its parent assets / partitions have newer data"})]}),"and none of the following are true:",(0,s.jsxs)("ul",{style:{paddingLeft:20,marginBottom:0},children:[(0,s.jsx)("li",{children:"any of its parent assets / partitions are missing"}),(0,s.jsx)("li",{children:"any of its ancestor assets / partitions have ancestors of their own with newer data"})]})]})}},15117:function(e,n,t){t.d(n,{j:function(){return u}});var r=t(47515),i=t(16255),s=t(62459),a=t(78193),o=t(97412),l=t(89622),d=t(25854),c=t(35936),u=function(e){var n=e.stepKey,t=e.liveData,u=e.border,p=t||{},f=p.inProgressRunIds,m=void 0===f?[]:f,h=p.unstartedRunIds,x=void 0===h?[]:h,y=m[0]||x[0],g=(0,d.aD)({runId:y,stepKeys:[n]});return(0,c.jsxs)(c.Fragment,{children:[g.dialog,y&&(0,c.jsxs)(r.x,{padding:{vertical:16,left:24,right:12},border:u,flex:{gap:8,alignItems:"center"},style:{width:"100%"},children:[(0,c.jsx)("div",{style:{flex:1},children:(0,c.jsx)(i.b,{intent:"info",icon:(0,c.jsx)(s.$,{purpose:"body-text"}),title:(0,c.jsxs)("div",{style:{fontWeight:400},children:[m.length>0&&(0,c.jsxs)(c.Fragment,{children:[m.map((function(e){return(0,c.jsxs)(a.Fragment,{children:["Run ",(0,c.jsx)(o.rU,{to:"/runs/".concat(e),children:(0,l.EI)({id:e})})]},e)}))," ",1===m.length?"is":"are"," currently refreshing this asset."]}),x.length>0&&(0,c.jsxs)(c.Fragment,{children:[x.map((function(e){return(0,c.jsxs)(a.Fragment,{children:["Run ",(0,c.jsx)(o.rU,{to:"/runs/".concat(e),children:(0,l.EI)({id:e})})]},e)}))," ",1===x.length?"has":"have"," started and will refresh this asset."]})]})})}),g.button]})]})}},17163:function(e,n,t){t.d(n,{x:function(){return l}});var r=t(47515),i=t(32667),s=t(16255),a=t(61623),o=(t(78193),t(35936)),l=function(){return(0,o.jsx)(r.x,{padding:{vertical:16,left:24,right:12},border:{side:"bottom",width:1,color:i.w.KeylineGray},children:(0,o.jsx)(s.b,{intent:"info",icon:(0,o.jsx)(a.JO,{name:"history_toggle_off",size:16,color:i.w.Blue700,style:{marginTop:1}}),title:(0,o.jsx)("div",{style:{fontWeight:400},children:"This asset depends on earlier partitions of itself. "})})})}},13167:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(47515),i=t(16255),s=(t(78193),t(97412)),a=t(89622),o=t(25854),l=t(35936),d=function(e){var n=e.run,t=e.stepKey,d=e.border,c=e.padding,u=void 0===c?{vertical:16,left:24,right:12}:c,p=(0,o.aD)({runId:null===n||void 0===n?void 0:n.id,stepKeys:t?[t]:[]});return(0,l.jsxs)(l.Fragment,{children:[p.dialog,n&&(0,l.jsxs)(r.x,{padding:u,border:d,flex:{gap:8,alignItems:"center"},style:{width:"100%"},children:[(0,l.jsx)("div",{style:{flex:1},children:(0,l.jsx)(i.b,{intent:"error",title:(0,l.jsx)(r.x,{flex:{justifyContent:"space-between"},children:(0,l.jsxs)("div",{style:{fontWeight:400},children:["Run ",(0,l.jsx)(s.rU,{to:"/runs/".concat(n.id),children:(0,a.EI)(n)})," failed to materialize this asset."]})})})}),p.button]})]})}},77647:function(e,n,t){t.d(n,{y:function(){return g}});var r=t(32723),i=t(34795),s=t(96234),a=t(61794),o=t(44229),l=t(45519),d=t(61623),c=t(62459),u=t(78193),p=t(80005),f=t(1360),m=t(66708),h=t(9610),x=t(30559),y=t(35936),g=function(e){var n=e.scope,t=e.preferredJobName,m=e.intent,h=void 0===m?"none":m,g=(0,(0,f.C)().useLaunchWithTelemetry)(),j=u.useState({type:"none"}),b=(0,s.Z)(j,2),N=b[0],w=b[1],K=(0,a.x)(),S="selected"in n?n.selected:n.all;if(!S.length)return(0,y.jsx)("span",{});var Z=S.length>1?" (".concat(S.length,")"):"",A="selected"in n?"Observe selected".concat(Z):n.skipAllTerm?"Observe".concat(Z):"Observe sources ".concat(Z);if(!S.every((function(e){return e.hasMaterializePermission})))return(0,y.jsx)(o.u,{content:"You do not have permission to observe source assets",children:(0,y.jsx)(l.zx,{intent:h,icon:(0,y.jsx)(d.JO,{name:"observation"}),disabled:!0,children:A})});var k=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,s,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==N.type){e.next=2;break}return e.abrupt("return");case 2:return w({type:"loading"}),e.next=5,K.query({query:x.U2,variables:{assetKeys:S.map((function(e){return{path:e.assetKey.path}}))}});case 5:if(!(i=e.sent).data.assetNodeDefinitionCollisions.length){e.next=10;break}return(0,p._)((0,x.VF)(i.data)),w({type:"none"}),e.abrupt("return");case 10:return s=i.data.assetNodes,a=n.shiftKey,e.next=14,v(K,s,a,t);case 14:if("error"!==(o=e.sent).type){e.next=19;break}return(0,p._)({title:"Unable to observe",body:o.error}),w({type:"none"}),e.abrupt("return");case 19:if("single-run"!==o.type){e.next=25;break}return e.next=22,g({executionParams:o.executionParams},"toast");case 22:w({type:"none"}),e.next=26;break;case 25:w(o);case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(l.zx,{intent:h,onClick:k,icon:"loading"===N.type?(0,y.jsx)(c.$,{purpose:"body-text"}):(0,y.jsx)(d.JO,{name:"observation"}),children:A})};function v(e,n,t,r){return j.apply(this,arguments)}function j(){return(j=(0,i.Z)((0,r.Z)().mark((function e(n,t,i,s){var a,o,l,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return!e.isSource}))){e.next=2;break}return e.abrupt("return",{type:"error",error:"One or more non-source assets are selected and cannot be observed."});case 2:if(!t.some((function(e){return!e.isObservable}))){e.next=4;break}return e.abrupt("return",{type:"error",error:"One or more of the selected source assets are unversioned and cannot be observed."});case 4:if(l=(0,m.kQ)((null===(a=t[0])||void 0===a?void 0:a.repository.name)||"",(null===(o=t[0])||void 0===o?void 0:o.repository.location.name)||""),d=(0,h.Uz)(l),t.every((function(e){return e.repository.name===l.name&&e.repository.location.name===l.location}))){e.next=8;break}return e.abrupt("return",{type:"error",error:"Assets must be in ".concat(d," to be materialized together.")});case 8:if(c=(0,x.ZP)(t,s)){e.next=11;break}return e.abrupt("return",{type:"error",error:"Assets must be in the same job to be observed together."});case 11:return e.abrupt("return",{type:"single-run",executionParams:(0,x.Ot)(l,c,t,[])});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},64869:function(e,n,t){t.d(n,{D:function(){return m},d:function(){return f}});var r,i=t(71171),s=t(31623),a=t(47515),o=t(61623),l=t(83473),d=(t(78193),t(97412)),c=t(20822),u=t(63167),p=t(35936),f=function(e){var n=e.assetNode,t=e.repoAddress,r=e.minimal,i=n.assetKey,s=n.graphName,f=n.opNames,m=n.jobNames,h=f.length;if(!h)return null;if(!s){var x=f[0];if((0,c.ll)(i)===x)return null;var y=(0,u.$U)(t,"/ops/".concat(x));return(0,p.jsxs)(a.x,{flex:{gap:4,alignItems:"center"},children:[(0,p.jsx)(o.JO,{name:"op",size:16}),(0,p.jsx)(l.fv,{children:(0,p.jsx)(d.rU,{to:y,children:x})})]})}return m.length?(0,p.jsxs)(a.x,{flex:{gap:4,alignItems:"center"},children:[(0,p.jsx)(o.JO,{name:"schema",size:16}),r?(0,p.jsx)(d.rU,{to:(0,u.$U)(t,"/graphs/".concat(m[0],"/").concat(s,"/")),children:"View graph"}):(0,p.jsxs)(l.fv,{children:[(0,p.jsx)(d.rU,{to:(0,u.$U)(t,"/graphs/".concat(m[0],"/").concat(s,"/")),children:s})," (".concat(1===h?"1 op":"".concat(h," ops"),")")]})]}):null},m=(0,s.Ps)(r||(r=(0,i.Z)(["\n  fragment UnderlyingOpsAssetNodeFragment on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    graphName\n    opNames\n    jobNames\n  }\n"])))},95460:function(e,n,t){t.d(n,{G:function(){return s}});var r=t(60319),i=t(57103),s=r.ZP.div.withConfig({displayName:"Version",componentId:"sc-5deipg-0"})(["font-family:",";font-size:16px;overflow:hidden;text-overflow:ellipsis;"],i.b.monospace)},51294:function(e,n,t){t.d(n,{L:function(){return c}});var r=t(68079),i=t(276),s=t.n(i),a=t(78193),o="__NO_PARTITION__",l=function(e,n){return Number(null===n||void 0===n?void 0:n.timestamp)-Number(null===e||void 0===e?void 0:e.timestamp)},d=function(e,n){var t=s()(e,(function(e){return e.partition||o})),i=(0,r.Z)(n).reverse();return o in t&&i.push(o),i.filter((function(e){return e!==o})).map((function(e){var n=(0,r.Z)(t[e]||[]).sort(l),i=n.find((function(e){return"MaterializationEvent"===e.__typename}))||n[0]||null;return{all:n,latest:i,timestamp:null===i||void 0===i?void 0:i.timestamp,partition:e}}))};function c(e,n,t,i){return a.useMemo((function(){var s=[].concat((0,r.Z)(n),(0,r.Z)(t)).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)}));return"partition"===e&&i?d(s,i):s.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[i,n,t,e])}},44435:function(e,n,t){t.d(n,{T8:function(){return y},ZC:function(){return x},fE:function(){return h}});var r,i,s,a=t(71171),o=t(68079),l=t(90239),d=t(31623),c=t(23662),u=t.n(c),p=t(78193),f=t(84674),m=t(12478);function h(e,n,t){var r=t.assetHasDefinedPartitions,i=n.asOf?"".concat(Number(n.asOf)+1):void 0,s=r?"partition":"time",a=void 0!==n.partition?"partition":void 0!==n.time||i?"time":s,d=r&&"partition"===a,c=(0,l.a)(g,{variables:d?{assetKey:{path:e.path},before:i,partitionInLast:120}:{assetKey:{path:e.path},before:i,limit:100}}),f=c.data,m=c.loading,h=c.refetch;return p.useMemo((function(){var e,n="Asset"===(null===f||void 0===f?void 0:f.assetOrError.__typename)?null===f||void 0===f?void 0:f.assetOrError:null,t=(null===n||void 0===n?void 0:n.assetMaterializations)||[],r=(null===n||void 0===n?void 0:n.assetObservations)||[],i=null===n||void 0===n||null===(e=n.definition)||void 0===e?void 0:e.partitionKeys;return{asset:n,loadedPartitionKeys:d&&i?i.slice(i.length-120):u()([].concat((0,o.Z)(t),(0,o.Z)(r)).map((function(e){return e.partition})).filter(Boolean)).sort(),materializations:t,observations:r,loading:m,refetch:h,xAxis:a}}),[f,m,h,d,a])}var x=(0,d.Ps)(r||(r=(0,a.Z)(["\n  fragment AssetMaterializationFragment on MaterializationEvent {\n    partition\n    tags {\n      key\n      value\n    }\n    runOrError {\n      ... on PipelineRun {\n        id\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    assetLineage {\n      ...AssetLineageFragment\n    }\n  }\n\n  ","\n  ","\n"])),f.it,m.Q),y=(0,d.Ps)(i||(i=(0,a.Z)(["\n  fragment AssetObservationFragment on ObservationEvent {\n    partition\n    tags {\n      key\n      value\n    }\n    runOrError {\n      ... on PipelineRun {\n        id\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n  }\n\n  ","\n"])),f.it),g=(0,d.Ps)(s||(s=(0,a.Z)(["\n  query AssetEventsQuery(\n    $assetKey: AssetKeyInput!\n    $limit: Int\n    $before: String\n    $partitionInLast: Int\n  ) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetObservations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetObservationFragment\n        }\n        assetMaterializations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetMaterializationFragment\n        }\n\n        definition {\n          id\n          partitionKeys\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"])),y,x)},44907:function(e,n,t){t.d(n,{Q:function(){return a}});var r=t(67445),i=(t(78193),t(9610)),s=t(35936),a=function(e){var n=e.isGraph,t=e.repoAddress,a=e.result;return"PipelineSnapshotNotFoundError"===a.__typename?(0,s.jsx)(r.t,{icon:"error",title:n?"Graph snapshot not found":"Pipeline snapshot not found",description:a.message}):"PipelineNotFoundError"===a.__typename?(0,s.jsx)(r.t,{icon:"error",title:n?"Graph not found":"Pipeline not found",description:a.message}):"RepositoryNotFoundError"===a.__typename?(0,s.jsx)(r.t,{icon:"error",title:"".concat(t?(0,i.Uz)(t):"Definitions"," not found"),description:a.message}):"PythonError"===a.__typename?(0,s.jsx)(r.t,{icon:"error",title:"Query error",description:a.message}):(0,s.jsx)("span",{})}},25854:function(e,n,t){t.d(n,{aD:function(){return A}});var r=t(33028),i=t(96234),s=t(60319),a=t(45519),o=t(61623),l=t(3077),d=t(32667),c=t(47515),u=t(62459),p=t(83473),f=t(78193),m=t(97412),h=t(23555),x=t(75418),y=t(68365),g=t(33657),v=t(15998),j=t(26390),b=t(20317),N=t(90039),w=t(90986),K=t(89622),S=t(41084),Z=t(35936);function A(e){var n=e.runId,t=e.stepKeys,r=f.useState(null),s=(0,i.Z)(r,2),l=s[0],d=s[1];return{dialog:(0,Z.jsx)(k,{runId:null===l||void 0===l?void 0:l.runId,stepKeys:(null===l||void 0===l?void 0:l.stepKeys)||[],onClose:function(){return d(null)}}),button:n&&t?(0,Z.jsx)(a.zx,{small:!0,icon:(0,Z.jsx)(o.JO,{name:"wysiwyg"}),onClick:function(){return d({runId:n,stepKeys:t})},children:"View logs"}):void 0}}var k=function(e){var n=e.runId,t=e.stepKeys,r=e.onClose;return(0,Z.jsxs)(l.Vq,{isOpen:!!n,style:{width:"80vw"},canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:r,children:[n?(0,Z.jsx)(j.C,{runId:n,children:function(e){return(0,Z.jsx)(w.jp,{logs:e,children:function(r){return(0,Z.jsx)(O,{runId:n,metadata:r,stepKeys:t,logs:e})}})}},n):"",(0,Z.jsx)("div",{style:{zIndex:2,background:d.w.White},children:(0,Z.jsx)(l.cN,{topBorder:!0,children:(0,Z.jsx)(a.zx,{intent:"primary",onClick:r,children:"Done"})})})]})},O=function(e){var n=e.runId,t=e.stepKeys,s=e.metadata,a=e.logs,l=(0,x.a)(),j=(0,f.useState)(N.hi.structured),w=(0,i.Z)(j,2),A=w[0],k=w[1],O=f.useState(null),z=(0,i.Z)(O,2),C=z[0],E=z[1],_=a.allNodes.find((function(e){return e.eventType===h.i36.STEP_START&&e.stepKey&&t.includes(e.stepKey)})),M=_?Number(_.timestamp):0,P=(0,f.useState)({hideNonMatches:!1,focusedTime:M,levels:Object.fromEntries(v.w.map((function(e){return[e,!0]}))),logQuery:t.map((function(e){return{token:"step",value:e}})),sinceTime:0}),D=(0,i.Z)(P,2),F=D[0],L=D[1];f.useEffect((function(){L((function(e){return(0,r.Z)((0,r.Z)({},e),{},{focusedTime:M})}))}),[M]);var T=(0,S.r)({metadata:s,stepKeys:t,selectionStepKeys:t}),G=T.computeLogFileKey,R=T.setComputeLogFileKey,Q=T.logCaptureInfo;return(0,Z.jsxs)(I,{children:[(0,Z.jsx)(N.KZ,{metadata:s,logType:A,onSetLogType:k,computeLogFileKey:G,onSetComputeLogKey:R,computeLogUrl:C,steps:[],counts:a.counts,filter:F,onSetFilter:L,children:(0,Z.jsx)(m.rU,{to:"/runs/".concat(n,"?stepKeys=").concat(t),style:{marginLeft:8},children:(0,Z.jsxs)(c.x,{flex:{gap:4,alignItems:"center"},children:[!s.exitedAt&&A===N.hi.structured&&(0,Z.jsx)(u.$,{purpose:"body-text"}),"View Run ",(0,Z.jsx)(p.fv,{children:(0,K.EI)({id:n})}),(0,Z.jsx)(o.JO,{name:"open_in_new",color:d.w.Link})]})})}),A!==N.hi.structured?l?(0,Z.jsx)(y.h,{logKey:G?[n,"compute_logs",G]:[],logCaptureInfo:Q,visibleIOType:N.hi[A],onSetDownloadUrl:E}):(0,Z.jsx)(g.K,{runId:n,computeLogFileKey:G,ioType:N.hi[A],setComputeLogUrl:E}):(0,Z.jsx)(b.S,{logs:a,filter:F,filterStepKeys:t,filterKey:"".concat(JSON.stringify(F)),metadata:s})]})},I=s.ZP.div.withConfig({displayName:"StepLogsDialog__LogsContainer",componentId:"sc-1qin3dc-0"})(["display:flex;flex-direction:column;gap:8px;height:65vh;"])}}]);
//# sourceMappingURL=620.de958197.chunk.js.map
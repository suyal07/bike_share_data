"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[780],{62709:function(e,n,t){t.d(n,{V:function(){return d}});var r=t(96234),i=t(41361),o=t(9249),a=t(87371),s=t(46575),l=100,c=function(){function e(n){var t=this;(0,o.Z)(this,e),this.itemNameMap={},n.forEach((function(e){return t.itemNameMap[e.name]=e}))}return(0,a.Z)(e,[{key:"itemNamed",value:function(e){return this.itemNameMap[e]}},{key:"traverse",value:function(e,n,t){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i[e.name]=e,t>0&&n(e,(function(e){e.name in i||r.traverse(e,n,t-1,i)})),Object.values(i)}},{key:"fetchUpstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.inputs.forEach((function(e){return e.dependsOn.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}},{key:"fetchDownstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.outputs.forEach((function(e){return e.dependedBy.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}}]),e}();function u(e){return e.includes("*")?Number.MAX_SAFE_INTEGER:e.length}function d(e,n){if("*"===n)return{all:e,applyingEmptyDefault:!1,focus:[]};if(""===n)return{all:e.length>=l?[]:e,applyingEmptyDefault:e.length>=l,focus:[]};var t,o=new c(e),a=new Set,d=n.split(/(,| AND | and | )/g),p=new Set,h=(0,i.Z)(d);try{var f=function(){var n=t.value,l=/(\*?\+*)([.\w\d>\[\?\]\"_\/-]+)(\+*\*?)/.exec(n.trim());if(!l)return"continue";var c,d=(0,r.Z)(l,4),h=d[1],f=void 0===h?"":h,m=d[2],v=void 0===m?"":m,x=d[3],g=void 0===x?"":x,y=e.filter((function(e){return(0,s.Gm)(v.replace(/\"/g,""))?e.name.startsWith((0,s.pr)(v.replace(/\"/g,""))):/\".*\"/.test(v)?e.name===v.replace(/\"/g,""):e.name.includes(v)})),w=(0,i.Z)(y);try{for(w.s();!(c=w.n()).done;){var b=c.value,E=u(f),j=u(g);p.add(b),a.add(b),o.fetchUpstream(b,E).forEach((function(e){return a.add(e)})),o.fetchDownstream(b,j).forEach((function(e){return a.add(e)}))}}catch(k){w.e(k)}finally{w.f()}};for(h.s();!(t=h.n()).done;)f()}catch(m){h.e(m)}finally{h.f()}return{all:Array.from(a),focus:Array.from(p),applyingEmptyDefault:!1}}},52610:function(e,n,t){t.d(n,{$T:function(){return s},Bw:function(){return m},D6:function(){return v},Fv:function(){return o},Nw:function(){return a},V8:function(){return y},WN:function(){return w},XL:function(){return d},aO:function(){return c},e:function(){return u},gJ:function(){return p},hS:function(){return r},j:function(){return l},jZ:function(){return f},nY:function(){return h},t3:function(){return x},v2:function(){return g},vL:function(){return i}});var r=function(e){return e.FLAT="flat",e.WATERFALL="waterfall",e.WATERFALL_TIMED="waterfall-timed",e}({}),i=2e-4,o=.5,a=16,s=16,l=16,c=16,u=34,d=5,p=20,h=100,f=8,m=30,v=6,x=(u-v)/2,g=2,y=100,w={mode:r.WATERFALL,hideWaiting:!1,hideTimedMode:!1,zoom:1,hideUnselectedSteps:!1}},46575:function(e,n,t){function r(e){return e.endsWith("]")}function i(e){return e.endsWith("[?]")}function o(e,n){return n.filter((function(n){return n.startsWith(e.replace("?]",""))}))}function a(e){return e.split("[")[0]}function s(e,n){return e.replace("[?]",n.match(/(\[.*\])/)[1])}t.d(n,{Gm:function(){return i},IL:function(){return r},mO:function(){return o},os:function(){return s},pr:function(){return a}})},99641:function(e,n,t){t.d(n,{hj:function(){return ne},ZW:function(){return pe},hS:function(){return _.hS},Fu:function(){return he},kZ:function(){return ee}});var r,i=t(68079),o=t(33028),a=t(96234),s=t(60319),l=t(17914),c=t(2838),u=t(47515),d=t(4537),p=t(32667),h=t(61623),f=t(84464),m=t(62459),v=t(57103),x=t(67445),g=t(8236),y=t.n(g),w=t(78193),b=t(97412),E=t(33418),j=t(62709),k=t(88949),C=t(23142),S=t(86252),N=t(90986),T=t(95904),R=t(64218),_=t(52610),Z=t(46575),I=t(29982),P=t(21189),L=t(35936),D=w.memo((function(e){var n=e.value,t=e.onChange,r=e.hideTimedMode,i=[{id:_.hS.FLAT,icon:"gantt_flat",tooltip:"Flat view"},{id:_.hS.WATERFALL,icon:"gantt_waterfall",tooltip:"Waterfall view"}];r||i.push({id:_.hS.WATERFALL_TIMED,icon:"timer",tooltip:"Timed view"});var o=w.useMemo((function(){return new Set([n])}),[n]),a=w.useCallback((function(e){return t(e)}),[t]);return(0,L.jsx)(P.h,{activeItems:o,buttons:i,onClick:a})})),M=6e4,O=function(e){return e>3e5?(0,k.fv)(e):"".concat((e/1e3).toFixed(1),"s")},G=function(e){return e>3e5?(0,k.fv)(e):"".concat((e/1e3).toFixed(0),"s")},A=function(e){return e>354e4?(0,k.fv)(e):"".concat(Math.round(e/M),"m")},z=function(e){return"".concat(Math.round(e/36e5),"h")},F=[{tickIntervalMs:500,tickLabels:O},{tickIntervalMs:1e3,tickLabels:G},{tickIntervalMs:5e3,tickLabels:G},{tickIntervalMs:1e4,tickLabels:G},{tickIntervalMs:3e4,tickLabels:G},{tickIntervalMs:6e4,tickLabels:G},{tickIntervalMs:12e4,tickLabels:A},{tickIntervalMs:3e5,tickLabels:A},{tickIntervalMs:6e5,tickLabels:A},{tickIntervalMs:12e5,tickLabels:A},{tickIntervalMs:36e5,tickLabels:z},{tickIntervalMs:108e5,tickLabels:z},{tickIntervalMs:216e5,tickLabels:z},{tickIntervalMs:432e5,tickLabels:z}],U=function(e){var n=e.scale,t=e.viewport,r=e.nowMs,i=e.startMs,o=e.highlightedMs,a=e.layoutSize,s="translate(".concat(_.Nw-t.left,"px)"),l=[],c=[],u=n,d=F.find((function(e){return e.tickIntervalMs*u>80}));if(d)for(var p=d.tickIntervalMs,h=d.tickLabels,f=p*u,m=Math.floor(t.left/f)*p,v=m*u;v<t.left+t.width;)if(m+=p,!((v+=f)-t.left<10)){var x="".concat(m.toFixed(2)),g=h(m);c.push((0,L.jsx)("div",{className:"line",style:{left:v,transform:s}},x)),l.push((0,L.jsx)("div",{className:"tick",style:{left:v-28,transform:s},children:g},x))}return(0,L.jsxs)(W,{children:[(0,L.jsxs)(K,{children:[l,2===o.length&&(0,L.jsx)("div",{className:"tick duration",style:{left:(o[0]-i)*u+2,width:(o[1]-o[0])*u-2,transform:s},children:(0,k.fv)(o[1]-o[0])},"highlight-duration"),o.map((function(e,n){var r=(e-i)*u,o=0===n&&r>56+t.left?-55:0;return(0,L.jsx)("div",{className:"tick highlight",style:{left:r+o,transform:s},children:O(e-i)},"highlight-".concat(n))}))]}),(0,L.jsxs)(H,{style:{width:t.width,height:t.height},children:[c,o.map((function(e,n){return(0,L.jsx)("div",{className:"line highlight",style:{left:(e-i)*u+(0===n?-1:0),transform:s}},"highlight-".concat(n))})),r>i&&(0,L.jsx)("div",{className:"fog-of-war",style:{left:(r-i)*u,width:Math.max(a.width,t.width)-(r-i)*u+100,transform:s}})]})]})},W=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleContainer",componentId:"sc-qye3mp-0"})(["width:100%;& .tick{position:absolute;padding-top:7px;width:","px;height:","px;box-sizing:border-box;transition:left ","ms linear,width ","ms linear;text-align:center;}& .tick.duration{color:",";background:",";box-shadow:0 1px 1px rgba(0,0,0,0.2);}& .tick.highlight{color:white;height:","px;background:",";}& .line{position:absolute;border-left:1px solid #f0f0f0;transition:left ","ms linear;top:0px;bottom:0px;}& .line.highlight{border-left:2px solid ",";z-index:1111;top:-1px;}& .fog-of-war{position:absolute;background:",";transition:left ","ms linear;top:0px;bottom:0px;width:100%;}"],56,32,_.V8,_.V8,p.w.Gray500,p.w.Gray100,34,p.w.Gray900,_.V8,p.w.Gray900,p.w.Gray50,_.V8),K=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleTicksContainer",componentId:"sc-qye3mp-1"})(["height:","px;z-index:4;position:relative;background:",";display:flex;color:",";font-size:13px;font-family:",";box-shadow:inset 0 -1px ",";overflow:hidden;"],32,p.w.White,p.w.Gray500,v.b.monospace,p.w.KeylineGray),H=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleLinesContainer",componentId:"sc-qye3mp-2"})(["z-index:0;top:","px;left:0;position:absolute;pointer-events:none;overflow:hidden;"],32),V=t(80742),B=t(50319),X=t(62725),J=w.memo((function(e){return(0,L.jsxs)(q,{$fillColor:p.w.Gray600,className:"bp4-slider bp4-slider-unlabeled",onMouseDown:function(n){var t,r=n.currentTarget.closest(".bp4-slider").getBoundingClientRect();t=n.target instanceof HTMLElement&&n.target.classList.contains("bp4-slider-handle")?n.pageX:r.left+e.value/100*r.width;var i=function(n){var i=e.value+(n.pageX-t)*(100/r.width);e.onChange(Math.max(0,Math.min(100,i)))};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(n){i(n),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},children:[(0,L.jsxs)("div",{className:"bp4-slider-track",children:[(0,L.jsx)("div",{className:"bp4-slider-progress",style:{left:0,right:0,top:0}}),(0,L.jsx)("div",{className:"bp4-slider-progress bp4-intent-primary",style:{left:0,right:"".concat(100-e.value,"%"),top:0}})]}),(0,L.jsx)("div",{className:"bp4-slider-axis"}),(0,L.jsx)("span",{className:"bp4-slider-handle",style:{left:"calc(".concat(e.value,"% - 8px)")},tabIndex:0})]})})),q=s.ZP.div.withConfig({displayName:"ZoomSlider__ZoomSliderContainer",componentId:"sc-yxtf4j-0"})(["",""],X.kp),Y=t(79962),Q=function(e){return e===_.hS.FLAT||e===_.hS.WATERFALL||e===_.hS.WATERFALL_TIMED?e:_.hS.WATERFALL_TIMED},$="gantt-highlight-time";function ee(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];clearTimeout(r),n?r=setTimeout((function(){return ee(e,!1)}),100):document.dispatchEvent(new CustomEvent($,{detail:e}))}var ne=function(e){var n=e.graph,t=e.onSetSelection,r=e.options,i=e.selection,s=e.toolbarActions,c=(0,Y.U)("GanttChartModePreference",Q),u=(0,a.Z)(c,2),d=u[0],p=u[1],h=w.useState((function(){return(0,o.Z)((0,o.Z)((0,o.Z)({},_.WN),r),{},{mode:d})})),f=(0,a.Z)(h,2),m=f[0],v=f[1],x=w.useRef(null),g=w.useRef(null),y=(0,j.V)(n,i.query),b=w.useMemo((function(){return{nodes:m.hideUnselectedSteps?y.all:n,mode:m.mode}}),[n,y.all,m.hideUnselectedSteps,m.mode]),E=w.useMemo((function(){var e=function(e){return e.map((function(e){return e.name})).join(",")};return g.current&&e(g.current.nodes)===e(b.nodes)&&g.current.mode===b.mode||(x.current=(0,I.tc)(b),g.current=b),x.current}),[b]),k=w.useCallback((function(e){v((function(n){return(0,o.Z)((0,o.Z)({},n),e)}))}),[]),C=w.useCallback((function(e){k({mode:e}),p(e)}),[p,k]),S=w.useCallback((function(e){t(e||"*")}),[t]),N=w.useCallback((function(e){var n="*".concat(e,"*");S(i.query!==n?n:"*")}),[S,i.query]);return(0,L.jsxs)(le,{children:[(0,L.jsxs)(B.qn,{children:[(0,L.jsx)(D,{value:m.mode,onChange:C,hideTimedMode:m.hideTimedMode}),m.mode===_.hS.WATERFALL_TIMED&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(B.lX,{}),(0,L.jsx)("div",{style:{width:200},children:(0,L.jsx)(J,{value:m.zoom,onChange:function(e){return k({zoom:e})}})}),(0,L.jsx)(B.lX,{}),(0,L.jsx)(l.X,{style:{marginBottom:0},label:"Hide not started steps",checked:m.hideWaiting,onChange:function(e){return k({hideWaiting:e.target.checked})}})]}),(0,L.jsx)("div",{style:{flex:1}}),s]}),(0,L.jsx)(te,(0,o.Z)((0,o.Z)({},e),{},{options:(0,o.Z)({},m),layout:E,graph:n,onUpdateQuery:S,onDoubleClickStep:N,onChange:function(){return k({hideUnselectedSteps:!m.hideUnselectedSteps})}}))]})},te=function(e){var n=(0,c.S)(),t=n.viewport,r=n.containerProps,s=n.onMoveToViewport,m=w.useState(null),v=(0,a.Z)(m,2),x=v[0],g=v[1],y=w.useState(null),b=(0,a.Z)(y,2),j=b[0],k=b[1],S=w.useState((function(){return e.overrideNowTime||Date.now()})),T=(0,a.Z)(S,2),Z=T[0],P=T[1],D=e.options,M=e.metadata,O=e.selection,G=w.useRef(null),A=w.useContext(E.I).rootServerURI,z=w.useContext(C.DN),F=z.availability,W=z.disabled,K=z.status,H=!W&&"available"===F&&K===WebSocket.CLOSED,B=_.vL;t.width&&M&&M.startedPipelineAt&&(B=Math.max(1,t.width-150)/Math.max(1,Z-M.startedPipelineAt));var X=Math.exp(Math.log(B)+(Math.log(_.Fv)-Math.log(B))/100*D.zoom),J=w.useCallback((function(){P(e.overrideNowTime||Date.now()),G.current=requestAnimationFrame(J)}),[e.overrideNowTime]),q=null===M||void 0===M?void 0:M.exitedAt;w.useEffect((function(){(0===X||H||q)&&G.current&&cancelAnimationFrame(G.current),q&&P(q)}),[X,H,q]),w.useEffect((function(){return G.current=requestAnimationFrame(J),function(){G.current&&cancelAnimationFrame(G.current)}}),[J]),w.useEffect((function(){var e=function(e){return k(e.detail)};return document.addEventListener($,e),function(){return document.removeEventListener($,e)}}));var Y=(0,I.zI)(e.layout,D,M||N.PG,X,Z),Q={width:Math.max.apply(Math,[0].concat((0,i.Z)(Y.boxes.map((function(e){return e.x+e.width+_.gJ}))))),height:Math.max.apply(Math,[0].concat((0,i.Z)(Y.boxes.map((function(e){return _.$T+e.y*_.e+_.j})))))};w.useEffect((function(){var e=Y.boxes.find((function(e){return O.keys.includes(e.node.name)}));if(e){var n=ie(e),r=(n.maxX+n.minX)/2-t.width/2,i=(n.maxY+n.minY)/2-t.height/2;s({left:r,top:i},!0)}}),[O]);var ee=[];if(e.focusedTime&&ee.push(e.focusedTime),j)ee.push(j);else if(O.keys.length>0){var ne=O.keys.map((function(e){return null===M||void 0===M?void 0:M.steps[e]})).filter((function(e){return void 0!==e})).sort((function(e,n){return e.start&&n.start?e.start-n.start:0})),te=ne[0],oe=ne[ne.length-1];null!==te&&void 0!==te&&te.start&&ee.push(te.start),null!==oe&&void 0!==oe&&oe.end&&ee.push(oe.end)}var ae=t.width>0,se=(0,L.jsxs)(L.Fragment,{children:[D.mode===_.hS.WATERFALL_TIMED&&ae&&(0,L.jsx)(U,{scale:X,viewport:t,layoutSize:Q,startMs:(null===M||void 0===M?void 0:M.startedPipelineAt)||0,highlightedMs:ee,nowMs:Z}),(0,L.jsx)("div",(0,o.Z)((0,o.Z)({style:{overflow:"scroll",flex:1}},r),{},{children:(0,L.jsx)("div",{style:(0,o.Z)({position:"relative",marginBottom:70},Q),children:ae&&(0,L.jsx)(re,{options:D,metadata:M||N.PG,layout:Y,hoveredStep:x,focusedSteps:O.keys,viewport:t,setHoveredNodeName:g,onClickStep:e.onClickStep,onDoubleClickStep:e.onDoubleClickStep})})})),(0,L.jsxs)(ue,{children:[H?(0,L.jsx)(ce,{children:(0,L.jsx)(u.x,{flex:{justifyContent:"space-around"},margin:{bottom:12},children:(0,L.jsxs)(d.Z,{direction:"row",spacing:8,background:"".concat(p.w.Yellow500,"26"),padding:{vertical:8,horizontal:12},alignItems:"flex-start",children:[(0,L.jsx)(h.JO,{name:"warning",color:p.w.Yellow700}),(0,L.jsxs)("div",{style:{maxWidth:"400px",whiteSpace:"normal",overflow:"hidden"},children:[(0,L.jsx)("strong",{children:"Lost connection to Dagit server."}),(0,L.jsx)("span",{children:" Verify that your instance is responding to requests at ".concat(A," and reload the page.")})]})]})})}):null,(0,L.jsxs)(de,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,L.jsx)(R.j,{items:e.graph,value:e.selection.query,placeholder:"Type a step subset",onChange:e.onUpdateQuery,presets:M?(0,I.un)(M,Y):void 0,className:O.keys.length>0?"has-step":""}),(0,L.jsx)(l.X,{checked:D.hideUnselectedSteps,label:"Hide unselected steps",onChange:e.onChange})]})]})]});return M?(0,L.jsx)(f.OS,{identifier:"gantt-split",axis:"horizontal",first:se,firstInitialPercent:70,second:(0,L.jsx)(V.V,(0,o.Z)((0,o.Z)({},e),{},{nowMs:Z,metadata:M,onHighlightStep:function(e){return g(e)}}))}):se},re=function(e){var n=e.viewport,t=e.layout,r=e.hoveredStep,i=e.focusedSteps,a=e.metadata,s=e.options,l=[],c=function(e){return e.minX<n.left+n.width&&e.maxX>n.left&&e.minY<n.top+n.height&&e.maxY>n.top},u={};return s.mode!==_.hS.FLAT&&t.boxes.forEach((function(e){e.children.forEach((function(n,s){var d,p=oe(e,n);if(c(p)){var h=!t.boxes.includes(n),f=!!a&&!(null!==(d=a.steps[n.node.name])&&void 0!==d&&d.state),m=u[p.maxX]||0;u[p.maxX]=m+1,l.push((0,L.jsx)(ae,(0,o.Z)({darkened:((null===i||void 0===i?void 0:i.includes(e.node.name))||r)===e.node.name||((null===i||void 0===i?void 0:i.includes(n.node.name))||r)===n.node.name,dotted:h||f,depNotDrawn:h,depIdx:m},p),"".concat(e.key,"-").concat(n.key,"-").concat(s)))}}))})),t.boxes.forEach((function(n){var t=ie(n),u=n.width===_.jZ;c(t)&&l.push((0,L.jsxs)("div",{"data-tooltip":n.node.name,onClick:function(t){return e.onClickStep(n.node.name,t)},onDoubleClick:function(){return e.onDoubleClickStep(n.node.name)},onMouseEnter:function(){return e.setHoveredNodeName(n.node.name)},onMouseLeave:function(){return e.setHoveredNodeName(null)},className:"\n            chart-element\n            ".concat(u?"dot":"box","\n            ").concat(i.includes(n.node.name)&&"focused","\n            ").concat(r===n.node.name&&"hovered","\n            ").concat((0,Z.IL)(n.node.name)&&"dynamic"),style:(0,o.Z)({left:t.minX,top:t.minY+(u?_.t3:_.XL),width:u?_.D6:n.width},(0,I.HB)(n.state,{metadata:a,options:s})),children:[n.state===N.TN.RUNNING?(0,L.jsx)(m.$,{purpose:"body-text"}):void 0,se(n)]},n.key))})),s.mode===_.hS.WATERFALL_TIMED&&t.markers.map((function(e,n){return{marker:e,idx:n,bounds:ie(e)}})).filter((function(e){var n=e.bounds;return c(n)})).sort((function(e,n){return e.bounds.minX-n.bounds.minX})).forEach((function(e){var n=e.marker,t=e.bounds,r=e.idx,i=n.width===_.jZ;l.push((0,L.jsx)("div",{"data-tooltip":n.key,className:"\n            chart-element\n            ".concat(i?"marker-dot":"marker-whiskers"),style:{left:t.minX,top:t.minY+(i?_.t3:_.XL),width:i?_.D6:n.width},children:(0,L.jsx)("div",{})},r))})),(0,L.jsx)(L.Fragment,{children:l})},ie=function(e){return{minX:e.x,minY:_.$T+e.y*_.e,maxX:e.x+e.width,maxY:_.$T+e.y*_.e+_.e}},oe=function(e,n){if(n.y<e.y){var t=[n,e];e=t[0],n=t[1]}var r=e.width===_.jZ?_.t3+_.D6/2:_.e/2,i=n.width===_.jZ,o=i?_.t3+_.D6/2:_.e/2,a=n.y===e.y;return{minX:Math.min(e.x+e.width,n.x+n.width),minY:_.$T+(e.y*_.e+r),maxX:a?Math.max(e.x,n.x):Math.max(e.x+e.width/2,n.x+(i?_.D6:n.width)/2),maxY:a?_.$T+n.y*_.e+o:_.$T+n.y*_.e+(i?_.t3:_.XL)}},ae=w.memo((function(e){var n=e.minX,t=e.minY,r=e.maxX,i=e.maxY,o=e.dotted,a=e.darkened,s=e.depIdx,l=e.depNotDrawn,c="".concat(_.v2,"px ").concat(o?"dotted":"solid"," ").concat(a?p.w.Gray700:p.w.Gray300),u=r+s%10*_.v2;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:"line",style:{height:1,left:n,width:l?50:u-n,top:t-1,borderTop:c,zIndex:a?100:1}}),t!==i&&!l&&(0,L.jsx)("div",{className:"line",style:{width:1,left:u,top:t-_.v2/2,height:i-t,borderRight:c,zIndex:a?100:1}})]})}),y());function se(e){if(!(e.width<=_.Bw)){var n=7+(e.state===N.TN.RUNNING?16:0),t=(e.width-n)/6.2;return(0,k.R9)(e.node.name,{maxLength:t})}}var le=s.ZP.div.withConfig({displayName:"GanttChart__GanttChartContainer",componentId:"sc-5c9vwn-0"})(["height:100%;position:relative;display:flex;flex-direction:column;z-index:2;user-select:none;background:",";.line{position:absolute;user-select:none;pointer-events:none;transition:top ","ms linear,left ","ms linear,width ","ms linear,height ","ms linear;}.chart-element{font-size:12px;transition:top ","ms linear,left ","ms linear;display:inline-block;position:absolute;color:white;overflow:hidden;user-select:text;z-index:2;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;}.dot{width:","px;height:","px;border:1px solid transparent;border-radius:","px;}.box{height:","px;padding:3px;padding-right:1px;border:1px solid transparent;border-radius:2px;white-space:nowrap;font-family:",";font-size:12.5px;font-weight:700;line-height:15px;transition:top ","ms linear,left ","ms linear,width ","ms linear,height ","ms linear;&.focused{border:1px solid ",";box-shadow:0 0 0 2px ",";}&.hovered{border:1px solid ",";}&.dynamic{filter:brightness(115%);}","{display:inline-block;vertical-align:text-bottom;padding-right:4px;}}.marker-dot{width:","px;height:","px;border:1px solid rgb(27,164,206);border-radius:","px;}.marker-whiskers{display:inline-block;position:absolute;height:","px;background:rgba(27,164,206,0.09);border-left:1px solid rgba(27,164,206,0.6);border-right:1px solid rgba(27,164,206,0.6);transition:top ","ms linear,left ","ms linear,width ","ms linear;& > div{border-bottom:1px dashed rgba(27,164,206,0.6);height:","px;}}"],p.w.White,_.V8,_.V8,_.V8,_.V8,_.V8,_.V8,_.D6,_.D6,_.D6/2,_.e-2*_.XL,v.b.monospace,_.V8,_.V8,_.V8,_.V8,p.w.Gray900,p.w.Yellow500,p.w.Gray800,m.Z,_.D6,_.D6,_.D6/2,_.e-2*_.XL,_.V8,_.V8,_.V8,(_.e-2*_.XL)/2),ce=s.ZP.div.withConfig({displayName:"GanttChart__WebsocketWarning",componentId:"sc-5c9vwn-1"})(["position:absolute;bottom:100%;color:",";width:100%;"],p.w.Yellow700),ue=s.ZP.div.withConfig({displayName:"GanttChart__GraphQueryInputContainer",componentId:"sc-5c9vwn-2"})(["z-index:2;position:absolute;bottom:20px;left:50%;transform:translateX(-50%);white-space:nowrap;"]),de=(0,s.ZP)(u.x).withConfig({displayName:"GanttChart__FilterInputsBackgroundBox",componentId:"sc-5c9vwn-3"})(["background:radial-gradient("," 0%,rgba(255,255,255,0) 100%);padding:15px 15px 0px 15px;"],p.w.Gray50),pe=function(e){var n=e.runId;return(0,L.jsxs)(le,{children:[(0,L.jsx)(B.qn,{}),(0,L.jsx)(f.OS,{identifier:"gantt-split",axis:"horizontal",first:(0,L.jsx)("div",{style:{margin:"auto",marginTop:100},children:(0,L.jsx)(m.$,{purpose:"section"})}),firstInitialPercent:70,second:(0,L.jsx)(V.V,{graph:[],metadata:N.PG,selection:{keys:[],query:"*"},runId:n,nowMs:0})})]})},he=function(e){var n=e.run;return(0,L.jsxs)(le,{children:[(0,L.jsx)(B.qn,{style:{justifyContent:"flex-end"},children:(0,L.jsx)(S.jT,{run:n})}),(0,L.jsx)(f.OS,{identifier:"gantt-split",axis:"horizontal",first:(0,L.jsx)(x.t,{icon:"arrow_forward",title:"Run queued",description:"This run is queued for execution and will start soon.",action:(0,L.jsx)(b.rU,{to:(0,T.it)([{token:"status",value:"QUEUED"}]),children:"View queued runs"})}),firstInitialPercent:70,second:(0,L.jsx)(V.V,{graph:[],metadata:N.PG,selection:{keys:[],query:"*"},runId:n.id,nowMs:0})})]})}},29982:function(e,n,t){t.d(n,{HB:function(){return y},tc:function(){return f},un:function(){return E},zI:function(){return b}});var r,i,o=t(96234),a=t(33028),s=t(56666),l=t(41361),c=t(68079),u=t(32667),d=t(90986),p=t(52610),h=t(46575),f=function(e){var n=e.nodes,t=e.mode,r=n.filter((function(e){return!e.inputs.some((function(e){return e.dependsOn.some((function(e){return n.find((function(n){return n.name===e.solid.name}))}))}))})).map((function(e){return{node:e,key:e.name,state:void 0,children:[],x:-1,y:-1,root:!0,width:p.nY}})),i=(0,c.Z)(r);i.forEach((function(n){return v(r,n,e)}));var o=function e(n,t){n.x>=t||(n.x=t,n.children.forEach((function(t){t.key!==n.key&&e(t,n.x+n.width+p.gJ)})))};i.forEach((function(e){return o(e,p.Nw)}));var a={},s={};r.forEach((function(e,n){e.y=n,e.children.forEach((function(n){var t=a[n.node.name]||[];t.push(e),a[n.node.name]=t}))})),r.forEach((function(e){var n=s["".concat(e.y)]||[];n.push(e),s["".concat(e.y)]=n}));for(var u=!0;u;){u=!1;var d,f=(0,c.Z)(r).reverse(),m=(0,l.Z)(f);try{var x=function(){var e=d.value,n=(a[e.node.name]||[]).sort((function(e,n){return n.y-e.y}))[0];if(!n)return"continue";if((0,h.IL)(e.node.name)&&!(0,h.IL)(n.node.name))return"continue";var t=s["".concat(n.y)];if(t.find((function(n){return n.x===e.x})))return"continue";var r=n.x,i=t.some((function(n){return n.x>r&&n.x<e.x})),o=t.some((function(t){return t.x<e.x&&t.children.some((function(t){return t.y>=n.y&&t.x>e.x}))}));return i||o?"continue":(s["".concat(e.y)]=s["".concat(e.y)].filter((function(n){return n!==e})),e.y=n.y,s["".concat(e.y)].push(e),u=!0,"break")};for(m.s();!(d=m.n()).done;){var g=x();if("continue"!==g&&"break"===g)break}}catch(Z){m.e(Z)}finally{m.f()}}if(t===p.hS.FLAT){for(var y=0,w=0,b=Object.keys(s);w<b.length;w++){var E=b[w],j=s[E];if(j.length){var k,C=j[0].root?p.Nw:a[j[0].node.name][0].x+p.aO,S=(0,l.Z)(j);try{for(S.s();!(k=S.n()).done;){var N=k.value;N.x=C,N.y=y,y+=1,C+=p.aO}}catch(Z){S.e(Z)}finally{S.f()}}}r.sort((function(e,n){return e.y-n.y||e.x-n.x}))}else for(u=!0;u;){u=!1;for(var T=r.reduce((function(e,n){return Math.max(e,n.y)}),0),R=function(e){if(!r.some((function(n){return n.y===e})))return r.filter((function(n){return n.y>e})).forEach((function(e){return e.y-=1})),u=!0,"break"},_=0;_<T;_++){if("break"===R(_))break}}return{boxes:r,markers:[]}},m=function e(n,t,r){var i=n.indexOf(t),o=n.indexOf(r);if(!(i<=o)){n.splice(o,1),n.splice(i,0,r);var a,s=(0,l.Z)(r.children);try{for(s.s();!(a=s.n()).done;){e(n,r,a.value)}}catch(c){s.e(c)}finally{s.f()}}},v=function e(n,t,r){var i,o=[],a=[],s=(0,l.Z)(t.node.outputs);try{for(s.s();!(i=s.n()).done;){var c,u=i.value,d=(0,l.Z)(u.dependedBy);try{var f=function(){var e=c.value,i=r.nodes.find((function(n){return e.solid.name===n.name}));if(!i)return"continue";if(o.includes(i.name))return"continue";if((0,h.Gm)(i.name)&&o.filter((function(e){return(0,h.IL)(e)})).some((function(e){return(0,h.pr)(e)===(0,h.pr)(i.name)})))return"continue";o.push(i.name);var s,l=n.findIndex((function(e){return e.node===i}));-1===l?(s={children:[],key:i.name,node:i,state:void 0,width:p.nY,root:!1,x:0,y:-1},n.push(s),a.push(s)):(s=n[l],m(n,t,s)),t.children.push(s)};for(d.s();!(c=d.n()).done;)f()}catch(y){d.e(y)}finally{d.f()}}}catch(y){s.e(y)}finally{s.f()}for(var v=0,x=a;v<x.length;v++){var g=x[v];e(n,g,r)}},x=(r={},(0,s.Z)(r,d.TN.RUNNING,u.w.Blue700),(0,s.Z)(r,d.TN.RETRY_REQUESTED,u.w.White),(0,s.Z)(r,d.TN.SUCCEEDED,u.w.White),(0,s.Z)(r,d.TN.FAILED,u.w.White),(0,s.Z)(r,d.TN.SKIPPED,u.w.White),(0,s.Z)(r,d.TN.UNKNOWN,u.w.White),r),g=(i={},(0,s.Z)(i,d.TN.RUNNING,u.w.Blue100),(0,s.Z)(i,d.TN.RETRY_REQUESTED,u.w.Yellow500),(0,s.Z)(i,d.TN.SUCCEEDED,u.w.Green500),(0,s.Z)(i,d.TN.FAILED,u.w.Red500),(0,s.Z)(i,d.TN.SKIPPED,u.w.Gray500),(0,s.Z)(i,d.TN.UNKNOWN,u.w.Gray400),i),y=function(e,n){return n.metadata.startedPipelineAt||n.options.mode===p.hS.WATERFALL_TIMED?e&&e!==d.TN.PREPARING?{color:x[e]||u.w.White,background:g[e]||u.w.Gray400}:{color:u.w.Gray600,background:u.w.White,border:"1.5px dotted ".concat(u.w.Gray500)}:{background:"#2491eb"}},w=function(e,n,t){for(var r=function(){var r=e[i],o=n.steps[r.node.name];if(!o)return Object.assign(r,t(r)),"continue";if(0===o.attempts.length)return Object.assign(r,t(r)),r.state=o.state,"continue";var s=[];o.attempts.forEach((function(e,n){s.push((0,a.Z)((0,a.Z)((0,a.Z)({},r),t(r,e,n)),{},{key:"".concat(r.key,"-").concat(s.length),state:e.exitState||d.TN.RUNNING}))}));for(var l=0;l<s.length-1;l++)s[l].children=[s[l+1]];s[s.length-1].children=r.children,Object.assign(r,s[0]),s.length>1&&e.splice.apply(e,[i,0].concat((0,c.Z)(s.slice(1))))},i=e.length-1;i>=0;i--)r()},b=function(e,n,t,r,i){var s=function(e){var n,t=e.boxes,r=e.markers,i=new WeakMap,o=r.map((function(e){return(0,a.Z)({},e)})),s=[],c=(0,l.Z)(t);try{for(c.s();!(n=c.n()).done;){var u=n.value,d=(0,a.Z)({},u);s.push(d),i.set(u,d)}}catch(p){c.e(p)}finally{c.f()}return t.forEach((function(e,n){s[n].children=e.children.map((function(e){return i.get(e)}))})),{boxes:s,markers:o}}(e),c=s.boxes,u=[];if(n.mode===p.hS.WATERFALL_TIMED){var d=t.startedPipelineAt||i,h=function(e){return p.Nw+(e-d)*r},f=function(e){var n=e.start,t=e.end;return Math.max(p.jZ,((t||i)-n)*r)};w(c,t,(function(e,n){return{x:n?h(n.start):0,width:n?f(n):p.nY}})),function(e,n){for(var t,r=e.filter((function(e){return 0===e.x})),i=function e(t,i){if(0===t.x){var o=r.indexOf(t);-1!==o&&r.splice(o,1)}t.x=Math.max(t.x,n,i);var a,s=t.x+t.width+p.gJ,c=(0,l.Z)(t.children);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.x<s&&e(u,s)}}catch(d){c.e(d)}finally{c.f()}};t=r.shift();)i(t,n)}(c,h(i)+p.gJ),t.globalMarkers.forEach((function(e){void 0!==e.start&&u.push({key:"global:".concat(e.key),y:0,x:h(e.start),width:f({start:e.start,end:e.end})})})),Object.entries(t.steps).forEach((function(n){var t,r=(0,o.Z)(n,2),i=r[0],a=r[1],s=(0,l.Z)(a.markers);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(void 0!==c.start){var d=e.boxes.find((function(e){return e.node.name===i}));d&&u.push({key:"".concat(i,":").concat(c.key),y:d.y,x:h(c.start),width:f({start:c.start,end:c.end})})}}}catch(p){s.e(p)}finally{s.f()}})),n.hideWaiting&&(c=c.filter((function(e){var n;return!(null===(n=t.steps[e.node.name])||void 0===n||!n.state)})))}else if(n.mode===p.hS.WATERFALL)w(c,t,(function(e,n,t){return{x:e.x+(t?(p.gJ+p.nY)*t:0),width:p.nY}}));else{if(n.mode!==p.hS.FLAT)throw new Error("Invalid mdoe ");w(c,t,(function(e,n,t){return{x:e.x+(t?(2+p.nY)*t:0),width:p.nY}}))}return{boxes:c,markers:u}},E=function(e,n){if(0!==n.boxes.length){var t=[],r=Object.keys(e.steps).filter((function(n){return e.steps[n].state===d.TN.FAILED})).map((function(e){return"+".concat(e)})).join(", ");r&&t.push({name:"Errors",value:r});var i=Object.keys(e.steps).filter((function(n){var t,r;return(null===(t=e.steps[n])||void 0===t?void 0:t.end)&&(null===(r=e.steps[n])||void 0===r?void 0:r.start)})).sort((function(n,t){return e.steps[t].end-e.steps[t].start-(e.steps[n].end-e.steps[n].start)})).slice(0,5).map((function(e){return'"'.concat(e,'"')})).join(", ");i&&t.push({name:"Slowest Individual Steps",value:i});var o=(0,c.Z)(n.boxes).filter((function(n){var t;return null===(t=e.steps[n.node.name])||void 0===t?void 0:t.end})).sort((function(e,n){return n.x+n.width-(e.x+e.width)}))[0];return o&&t.push({name:"Slowest Path",value:"*".concat(o.node.name)}),t}}},80742:function(e,n,t){t.d(n,{V:function(){return z},o:function(){return K}});var r,i=t(33028),o=t(41361),a=t(60319),s=t(62459),l=t(44229),c=t(32667),u=t(78193),d=t(88949),p=t(34072),h=t(90986),f=t(52610),m=t(46575),v=t(29982),x=t(71171),g=t(90239),y=t(31623),w=t(4537),b=t(61623),E=t(92555),j=t(47515),k=t(57103),C=t(97412),S=t(80005),N=t(62638),T=t(39707),R=t(15734),_=t(68506),Z=t(89622),I=t(35936);function P(e){var n=e.tags.find((function(e){return e.key===_.H.StepSelection}));return n?n.value:"*"}var L=function(e){var n,t=e.runId,r=e.runStatusLastChangedAt,i=(0,g.a)(D,{variables:{runId:t},notifyOnNetworkStatusChange:!0}),o=i.data,a=i.refetch;(0,T.C4)(i,T.dT),u.useEffect((function(){r&&a()}),[a,r]);var s=null===o||void 0===o?void 0:o.runGroupOrError;if(!s||"RunGroupNotFoundError"===s.__typename)return null;if("PythonError"===s.__typename)return(0,I.jsxs)(w.Z,{direction:"row",spacing:8,padding:8,children:[(0,I.jsx)(b.JO,{name:"warning",color:c.w.Yellow500}),(0,I.jsxs)("div",{style:{fontSize:"13px"},children:["The run group for this run could not be loaded."," ",(0,I.jsx)(E.Z,{color:c.w.Blue500,underline:"always",onClick:function(){(0,S._)({title:"Python error",body:s.message})},children:"View error"})]})]});if(1===(null===(n=s.runs)||void 0===n?void 0:n.length))return null;var l=[];(s.runs||[]).forEach((function(e){e&&"number"===typeof e.startTime&&l.push(e)}));var d=l.sort((function(e,n){return(e.startTime||0)-(n.startTime||0)}));return(0,I.jsx)(p.pC,{title:d[0]?"".concat(d[0].pipelineName," (").concat(d.length,")"):"",children:(0,I.jsx)(I.Fragment,{children:d.map((function(e,n){return e?(0,I.jsxs)(M,{to:"/runs/".concat(e.id),selected:e.id===t,children:[n<d.length-1&&(0,I.jsx)(O,{style:{height:36}}),(0,I.jsx)(j.x,{padding:{top:4},children:(0,I.jsx)(R.K9,{status:e.status})}),(0,I.jsxs)("div",{style:{flex:1,marginLeft:5,minWidth:0,color:c.w.Gray700},children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsxs)(G,{children:[e.id.split("-")[0],0===n&&A]}),(0,I.jsx)(Z.Zr,{run:e})]}),(0,I.jsxs)("div",{style:{display:"flex",color:c.w.Gray700,justifyContent:"space-between"},children:[P(e),(0,I.jsx)(Z.Tw,{run:e})]})]})]},e.id):null}))})})},D=(0,y.Ps)(r||(r=(0,x.Z)(["\n  query RunGroupPanelQuery($runId: ID!) {\n    runGroupOrError(runId: $runId) {\n      ... on RunGroup {\n        rootRunId\n        runs {\n          id\n          ...RunGroupPanelRun\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment RunGroupPanelRun on Run {\n    id\n    parentRunId\n    status\n    stepKeysToExecute\n    pipelineName\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n"])),N.B,Z.$X),M=(0,a.ZP)(C.rU).withConfig({displayName:"RunGroupPanel__RunGroupRun",componentId:"sc-tb4j34-0"})(["align-items:flex-start;background:",";padding:4px 6px 4px 24px;font-family:",";font-size:14px;line-height:20px;display:flex;position:relative;&:hover{text-decoration:none;background:",";}"],(function(e){return e.selected?c.w.Gray100:c.w.White}),k.b.monospace,(function(e){return e.selected?c.w.Gray100:c.w.Gray50})),O=a.ZP.div.withConfig({displayName:"RunGroupPanel__ThinLine",componentId:"sc-tb4j34-1"})(["position:absolute;top:20px;width:1px;background:",";left:29px;z-index:2;"],c.w.Gray200),G=a.ZP.span.withConfig({displayName:"RunGroupPanel__RunTitle",componentId:"sc-tb4j34-2"})(["color:",";font-weight:500;overflow:hidden;text-overflow:ellipsis;user-select:text;flex:1;"],c.w.Dark),A=(0,I.jsx)("span",{style:{borderRadius:2,fontSize:12,lineHeight:"14px",background:c.w.Gray300,color:c.w.White,padding:"0 4px",fontWeight:400,userSelect:"none",marginLeft:12},children:"ROOT"}),z=function(e){var n=e.runId,t=e.nowMs,r=e.graph,i=e.metadata,a=e.selection,s=e.onClickStep,l=e.onDoubleClickStep,c=e.onHighlightStep,d=u.useMemo((function(){for(var e=[],n=[],t=[],a=[],s=[],l=0,c=Object.keys(i.steps);l<c.length;l++){var u=c[l];switch(i.steps[u].state){case h.TN.PREPARING:e.push(u);break;case h.TN.RUNNING:case h.TN.UNKNOWN:n.push(u);break;case h.TN.FAILED:t.push(u);break;case h.TN.SUCCEEDED:a.push(u)}}var d,p=(0,o.Z)(r);try{for(p.s();!(d=p.n()).done;){var f,v=d.value.name;(0,m.Gm)(v)||null!==(f=i.steps[v])&&void 0!==f&&f.state||s.push(v)}}catch(x){p.e(x)}finally{p.f()}return{preparing:e,executing:n,errored:t,succeeded:a,notExecuted:s}}),[i,r]),f=d.preparing,v=d.executing,x=d.errored,g=d.succeeded,y=d.notExecuted,w=function(e){return(0,I.jsx)(F,{nowMs:t,name:e,metadata:i,selected:a.keys.includes(e),onClick:s,onDoubleClick:l,onHover:c},e)};return(0,I.jsxs)("div",{style:{overflowY:"auto"},children:[(0,I.jsx)(L,{runId:n,runStatusLastChangedAt:i.exitedAt||i.startedProcessAt||i.startedPipelineAt||0}),(0,I.jsx)(p.pC,{title:"Preparing (".concat(f.length,")"),children:(0,I.jsx)("div",{children:0===f.length?(0,I.jsx)(V,{children:"No steps are waiting to execute"}):f.map(w)})}),(0,I.jsx)(p.pC,{title:"Executing (".concat(v.length,")"),children:(0,I.jsx)("div",{children:0===v.length?(0,I.jsx)(V,{children:"No steps are executing"}):v.map(w)})}),(0,I.jsx)(p.pC,{title:"Errored (".concat(x.length,")"),children:(0,I.jsx)("div",{children:0===x.length?(0,I.jsx)(V,{children:"No steps have errored"}):x.map(w)})}),(0,I.jsx)(p.pC,{collapsedByDefault:!0,title:"Succeeded (".concat(g.length,")"),children:(0,I.jsx)("div",{children:0===g.length?(0,I.jsx)(V,{children:"No steps have succeeded"}):g.map(w)})}),y.length>0?(0,I.jsx)(p.pC,{collapsedByDefault:!0,title:"Not executed (".concat(y.length,")"),children:(0,I.jsx)("div",{children:y.map(w)})}):null]})},F=function(e){var n,t=e.nowMs,r=e.name,o=e.selected,a=e.metadata,c=e.onClick,u=e.onHover,p=e.onDoubleClick,m=a.steps[r],x=null!==(n=m&&m.end)&&void 0!==n?n:t;return(0,I.jsxs)(W,{selected:o,onClick:function(e){return null===c||void 0===c?void 0:c(r,e)},onDoubleClick:function(){return null===p||void 0===p?void 0:p(r)},onMouseEnter:function(){return null===u||void 0===u?void 0:u(r)},onMouseLeave:function(){return null===u||void 0===u?void 0:u(null)},children:[(null===m||void 0===m?void 0:m.state)===h.TN.RUNNING?(0,I.jsx)(s.$,{purpose:"body-text"}):(null===m||void 0===m?void 0:m.state)===h.TN.UNKNOWN?(0,I.jsx)(l.u,{modifiers:{preventOverflow:{enabled:!1},flip:{enabled:!1}},position:"bottom",content:"Unknown step state. Run completed without step execution completion.",children:(0,I.jsx)(K,{children:"?"})}):(0,I.jsx)(K,{style:(0,i.Z)({},(0,v.HB)(null===m||void 0===m?void 0:m.state,{metadata:a,options:{mode:f.hS.WATERFALL_TIMED}}))}),(0,I.jsx)(U,{children:r}),(null===m||void 0===m?void 0:m.start)&&(0,I.jsx)(H,{children:(0,d.fv)(x-m.start)})]},r)},U=a.ZP.div.withConfig({displayName:"GanttStatusPanel__StepLabel",componentId:"sc-rrdi31-0"})(["overflow:hidden;text-overflow:ellipsis;flex:1;"]),W=a.ZP.div.withConfig({displayName:"GanttStatusPanel__StepItemContainer",componentId:"sc-rrdi31-1"})(["display:flex;line-height:32px;height:32px;padding:0 14px 0 6px;gap:6px;align-items:center;border-bottom:1px solid ",";font-size:12px;"," &:hover{background:",";}"],c.w.KeylineGray,(function(e){return e.selected&&"background: ".concat(c.w.Gray100,";")}),c.w.Gray100),K=a.ZP.div.withConfig({displayName:"GanttStatusPanel__StepStatusDot",componentId:"sc-rrdi31-2"})(["width:12px;height:12px;flex-shrink:0;border-radius:50%;text-align:center;line-height:12px;"]),H=a.ZP.div.withConfig({displayName:"GanttStatusPanel__Elapsed",componentId:"sc-rrdi31-3"})(["color:",";font-variant-numeric:tabular-nums;"],c.w.Gray400),V=a.ZP.div.withConfig({displayName:"GanttStatusPanel__EmptyNotice",componentId:"sc-rrdi31-4"})(["min-height:32px;font-size:12px;padding:8px 24px;color:",";"],c.w.Gray400)},50319:function(e,n,t){t.d(n,{KC:function(){return s},lX:function(){return l},qn:function(){return a}});var r=t(60319),i=t(32667),o=t(86562),a=r.ZP.div.withConfig({displayName:"VizComponents__OptionsContainer",componentId:"sc-1s9sbos-0"})(["min-height:56px;display:flex;align-items:center;padding:5px 12px 5px 24px;border-bottom:1px solid ",";background:",";flex-shrink:0;flex-wrap:wrap;z-index:3;","{margin-top:0;gap:8px;@media (max-width:1100px){& .hideable-button-text{display:none;}& div[role='img']{margin:0;}}}"],i.w.KeylineGray,i.w.White,o.Rp),s=r.ZP.div.withConfig({displayName:"VizComponents__OptionsDivider",componentId:"sc-1s9sbos-1"})(["width:30px;height:25px;"]),l=r.ZP.div.withConfig({displayName:"VizComponents__OptionsSpacer",componentId:"sc-1s9sbos-2"})(["width:30px;"])},92764:function(e,n,t){t.d(n,{$:function(){return p},J:function(){return d}});var r,i=t(71171),o=t(68079),a=t(41361),s=t(31623),l=t(23555),c=t(90986),u=t(46575),d=function(e,n){var t,r={},i=Object.keys(n),s=(0,a.Z)(e.steps);try{for(s.s();!(t=s.n()).done;){var d=t.value;if(d.kind===l.dWX.UNRESOLVED_MAPPED){var p=(0,u.mO)(d.key,i);if(!d.inputs.every((function(e){return e.dependsOn.every((function(e){var t;return c.TN.SUCCEEDED===(null===(t=n[e.key])||void 0===t?void 0:t.state)}))}))&&0===p.length){r[d.key]=[d.key];continue}r[d.key]=[].concat((0,o.Z)(p),[d.key])}}}catch(z){s.e(z)}finally{s.f()}var h,f={},m=(0,a.Z)(e.steps);try{for(m.s();!(h=m.n()).done;){var v,x=h.value,g=r[x.key]||[x.key],y=(0,a.Z)(g);try{for(y.s();!(v=y.n()).done;){var w=v.value;f[w]={name:w,inputs:[],outputs:[]}}}catch(z){y.e(z)}finally{y.f()}}}catch(z){m.e(z)}finally{m.f()}var b,E=(0,a.Z)(e.steps);try{for(E.s();!(b=E.n()).done;){var j,k=b.value,C=r[k.key]||[k.key],S=(0,a.Z)(C);try{for(S.s();!(j=S.n()).done;){var N,T=j.value,R=(0,a.Z)(k.inputs);try{for(R.s();!(N=R.n()).done;){var _=N.value,Z={dependsOn:[]};f[T].inputs.push(Z);var I,P=(0,a.Z)(_.dependsOn);try{for(P.s();!(I=P.n()).done;){var L=I.value,D=[];D=k.kind===l.dWX.UNRESOLVED_COLLECT?r[L.key]||[L.key]:[L.kind===l.dWX.UNRESOLVED_MAPPED?(0,u.os)(L.key,T):L.key];var M,O=(0,a.Z)(D);try{for(O.s();!(M=O.n()).done;){var G=M.value;if(f[G]){Z.dependsOn.push({solid:{name:G}});var A=f[G].outputs[0];A||(A={dependedBy:[]},f[G].outputs.push(A)),A.dependedBy.push({solid:{name:T}})}}}catch(z){O.e(z)}finally{O.f()}}}catch(z){P.e(z)}finally{P.f()}}}catch(z){R.e(z)}finally{R.f()}}}catch(z){S.e(z)}finally{S.f()}}}catch(z){E.e(z)}finally{E.f()}return Object.values(f)},p=(0,s.Ps)(r||(r=(0,i.Z)(["\n  fragment ExecutionPlanToGraphFragment on ExecutionPlan {\n    steps {\n      key\n      kind\n      inputs {\n        dependsOn {\n          key\n          kind\n        }\n      }\n    }\n  }\n"])))},34072:function(e,n,t){t.d(n,{JB:function(){return g},M$:function(){return m},P3:function(){return x},Pb:function(){return v},R8:function(){return f},pC:function(){return p}});var r=t(96234),i=t(60319),o=t(80018),a=t(61623),s=t(57103),l=t(32667),c=t(78193),u=t(79962),d=t(35936),p=function(e){var n=e.title,t=e.collapsedByDefault,i=e.children,s=(0,u.U)("sidebar-".concat(n),(function(e){return!0===e||!1===e?e:!t})),l=(0,r.Z)(s,2),p=l[0],f=l[1],m=c.useCallback((function(){f((function(e){return!e}))}),[f]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y,{onClick:m,children:[(0,d.jsx)(h,{children:n}),(0,d.jsx)(a.JO,{size:24,name:"arrow_drop_down",style:{transform:p?"rotate(0)":"rotate(-90deg)"}})]}),(0,d.jsx)(o.UO,{isOpen:p,children:(0,d.jsx)("div",{children:i})})]})},h=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarTitleTextWrap",componentId:"sc-rejkvt-0"})(["overflow:hidden;min-width:0;text-overflow:ellipsis;white-space:nowrap;"]),f=i.ZP.h3.withConfig({displayName:"SidebarComponents__SidebarTitle",componentId:"sc-rejkvt-1"})(["font-family:",";font-size:16px;margin:0 0 12px;overflow:hidden;text-overflow:ellipsis;:first-child:last-child{margin-bottom:0;}"],s.b.monospace),m=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionHeader",componentId:"sc-rejkvt-2"})(["font-family:",";font-size:16px;margin:2px 0 0 0;"],s.b.monospace),v=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionSmallHeader",componentId:"sc-rejkvt-3"})(["font-family:",";font-size:14px;font-weight:500;margin:2px 0;"],s.b.monospace),x=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarSubhead",componentId:"sc-rejkvt-4"})(["color:",";font-size:0.7rem;"],l.w.Gray400),g=i.ZP.div.withConfig({displayName:"SidebarComponents__SectionItemContainer",componentId:"sc-rejkvt-5"})(["border-bottom:1px solid ",";margin-bottom:12px;padding-bottom:12px;font-size:0.8rem;&:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0;}"],l.w.KeylineGray),y=i.ZP.div.withConfig({displayName:"SidebarComponents__CollapsingHeaderBar",componentId:"sc-rejkvt-6"})(["height:32px;padding-left:24px;padding-right:8px;background:",";border-top:1px solid ",";border-bottom:1px solid ",";color:",";cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:12px;font-weight:700;user-select:none;"],l.w.White,l.w.KeylineGray,l.w.KeylineGray,l.w.Gray900)},15998:function(e,n,t){t.d(n,{i:function(){return r},w:function(){return i}});var r=function(e){return e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e.EVENT="EVENT",e}({}),i=["INFO","WARNING","ERROR","CRITICAL","EVENT"]},44099:function(e,n,t){t.d(n,{E6:function(){return C},X2:function(){return j},Yw:function(){return k},dE:function(){return S},pq:function(){return _},qH:function(){return I}});var r=t(96234),i=t(56666),o=t(60319),a=t(32667),s=t(57103),l=t(44229),c=t(90519),u=t(65537),d=t.n(u),p=t(76892),h=t.n(p),f=t(78193),m=t(50032),v=t(97412),x=t(88949),g=t(62122),y=t(96640),w=t(15998),b=t(31173),E=t(35936),j=o.ZP.div.withConfig({displayName:"LogsRowComponents__Row",componentId:"sc-1hihxk4-0"})(["font-size:0.9em;width:100%;height:100%;max-height:17em;word-break:break-word;white-space:pre-wrap;font-family:",";display:flex;flex-direction:row;align-items:baseline;overflow:hidden;border-top:1px solid ",";background:",";&:hover{background:",";}color:",";"],s.b.monospace,a.w.KeylineGray,(function(e){var n=e.highlighted,t=e.level;return n?"#ffe39f":function(e){var n;return(n={},(0,i.Z)(n,w.i.DEBUG,a.w.White),(0,i.Z)(n,w.i.INFO,a.w.White),(0,i.Z)(n,w.i.EVENT,a.w.White),(0,i.Z)(n,w.i.WARNING,a.w.Yellow50),(0,i.Z)(n,w.i.ERROR,a.w.Red50),(0,i.Z)(n,w.i.CRITICAL,a.w.Red50),n)[e]}(t)}),(function(e){return e.highlighted?"#ffe39f":"white"}),(function(e){var n;return(n={},(0,i.Z)(n,w.i.DEBUG,a.w.Gray400),(0,i.Z)(n,w.i.INFO,a.w.Gray900),(0,i.Z)(n,w.i.EVENT,a.w.Gray900),(0,i.Z)(n,w.i.WARNING,a.w.Yellow700),(0,i.Z)(n,w.i.ERROR,a.w.Red500),(0,i.Z)(n,w.i.CRITICAL,a.w.Red500),n)[e.level]})),k=o.ZP.div.withConfig({displayName:"LogsRowComponents__StructuredContent",componentId:"sc-1hihxk4-1"})(["background:rgba(255,255,255,0.5);color:",";box-sizing:border-box;border-left:1px solid ",";word-break:break-word;white-space:pre-wrap;font-family:",";flex:1;align-self:stretch;display:flex;flex-direction:row;align-items:baseline;"],a.w.Gray900,a.w.KeylineGray,s.b.monospace),C=function(e){var n=f.useContext(b.D7),t=String(e.stepKey).split(".");return(0,E.jsx)(S,{style:{width:n.solid},children:e.stepKey?t.map((function(e,n){return(0,E.jsxs)("div",{"data-tooltip":e,"data-tooltip-style":N,style:{marginLeft:Math.max(0,15*n-9),fontWeight:n===t.length-1?600:300},children:[n>0?"\u21b3":"",e.length>30-2*n?"".concat(e.substr(0,16-2*n),"\u2026").concat(e.substr(e.length-14)):e]},n)})):"-"})},S=o.ZP.div.withConfig({displayName:"LogsRowComponents__OpColumnContainer",componentId:"sc-1hihxk4-2"})(["width:250px;flex-shrink:0;padding:4px 12px;"]),N=JSON.stringify({fontSize:"0.9em",fontFamily:s.b.monospace,color:a.w.Dark,background:a.w.White,border:"1px solid ".concat(a.w.Gray100),top:-8,left:1}),T=d()((function(e){return new Intl.DateTimeFormat(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23",timeZone:"Automatic"===e?(0,y.cw)():e})})),R=d()((function(e){return new Intl.NumberFormat(e,{minimumFractionDigits:3,maximumFractionDigits:3})})),_=f.memo((function(e){var n=e.time,t=e.runStartTime,i=e.stepStartTime,o=(0,m.TH)(),a=f.useContext(b.D7),u=f.useContext(g.JB),d=(0,r.Z)(u.timezone,1)[0],p="string"===typeof n&&"number"===typeof t,y="".concat(o.pathname,"?").concat(h().stringify({focusedTime:e.time})),w=(0,x.XA)(Number(n)-(t||0)),j=(0,x.XA)(Number(n)-(i||0));return(0,E.jsx)(Z,{style:{width:a.timestamp},children:(0,E.jsx)(l.u,{canShow:p,content:(0,E.jsx)(c.nZ,{spacing:0,dark:!0,rows:[{key:"Since start of run",value:(0,E.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:w})},i?{key:"Since start of step",value:(0,E.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:j})}:null]}),placement:"left",children:(0,E.jsx)(v.rU,{to:y,children:function(){if(n){var e=Number(n),t=T(d).format(new Date(e)),r=e%1e3/1e3;return"".concat(t).concat(R(navigator.language).format(r).slice(1))}return""}()})})})})),Z=o.ZP.div.withConfig({displayName:"LogsRowComponents__TimestampColumnContainer",componentId:"sc-1hihxk4-3"})(["flex-shrink:0;padding:4px 4px 4px 12px;a:link,a:visited,a:hover,a:active{color:",";}a:hover,a:active{text-decoration:underline;}"],a.w.Gray400),I=function(e){var n=f.useContext(b.D7);return(0,E.jsx)(P,{style:{width:n.eventType},children:e.children})},P=o.ZP.div.withConfig({displayName:"LogsRowComponents__EventTypeColumnContainer",componentId:"sc-1hihxk4-4"})(["flex-shrink:0;color:",";padding:4px;"],a.w.Gray400)},20317:function(e,n,t){t.d(n,{x:function(){return re},S:function(){return te}});var r,i,o=t(9249),a=t(87371),s=t(45754),l=t(86906),c=t(71171),u=t(33028),d=t(60319),p=t(31623),h=t(32667),f=t(67445),m=t(78193),v=t(70363),x=t(97514),g=t(47515),y=t(80005),w=t(62638),b=t(92014),E=t(99641),j=t(23555),k=t(84674),C=t(35936),S=d.ZP.div.withConfig({displayName:"CellTruncationProvider__OverflowFade",componentId:"sc-izjhhp-0"})(["position:absolute;bottom:0;left:0;right:0;height:40px;user-select:none;pointer-events:none;background:linear-gradient(to bottom,rgba(245,248,250,0) 0%,rgba(245,248,250,255) 100%);"]),N=d.ZP.div.withConfig({displayName:"CellTruncationProvider__OverflowButtonContainer",componentId:"sc-izjhhp-1"})(["position:absolute;bottom:6px;left:0;right:0;display:flex;flex-direction:row;justify-content:center;"]),T=d.ZP.button.withConfig({displayName:"CellTruncationProvider__OverflowButton",componentId:"sc-izjhhp-2"})(["border:0;cursor:pointer;user-select:none;font-size:12px;font-weight:500;background:rgba(100,100,100,0.7);border-radius:4px;line-height:32px;padding:0 12px;color:",";&:hover{background:rgba(100,100,100,0.85);}&:focus,&:active{outline:none;}&:active{background:rgba(0,0,0,0.7);}"],h.w.White),R=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={isOverflowing:!1},e.contentContainerRef=m.createRef(),e.onView=function(){var n=e.props.onExpand;n?n():e.defaultExpand()},e}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){this.detectOverflow()}},{key:"componentDidUpdate",value:function(){this.detectOverflow()}},{key:"detectOverflow",value:function(){var e=this.contentContainerRef.current&&this.contentContainerRef.current.firstElementChild;if(e){var n="number"===typeof this.props.style.height&&e.scrollHeight>this.props.style.height;n!==this.state.isOverflowing&&this.setState({isOverflowing:n})}}},{key:"defaultExpand",value:function(){var e=this.contentContainerRef.current&&this.contentContainerRef.current.textContent;e&&(0,y._)({body:(0,C.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e})})}},{key:"render",value:function(){var e=(0,u.Z)((0,u.Z)({},this.props.style),{},{overflow:"hidden"});return(0,C.jsxs)("div",{style:e,children:[(0,C.jsx)("div",{ref:this.contentContainerRef,children:this.props.children}),(this.state.isOverflowing||this.props.forceExpandability)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S,{}),(0,C.jsx)(N,{children:(0,C.jsx)(T,{onClick:this.onView,children:"View full message"})})]})]})}}]),t}(m.Component),_=t(44099),Z=t(95714),I=t(76892),P=t.n(I),L=t(50032),D=t(97412),M=t(88949),O=t(20822),G=t(85514),A=t(13887),z=function(e){var n,t=e.node,r=e.metadata,i=(0,L.TH)(),o=t.eventType;switch(t.__typename){case"ExecutionStepFailureEvent":return(0,C.jsx)(U,{eventType:o,error:t.error,metadataEntries:null===t||void 0===t||null===(n=t.failureMetadata)||void 0===n?void 0:n.metadataEntries,errorSource:t.errorSource,message:t.error?void 0:t.message});case"ExecutionStepUpForRetryEvent":return(0,C.jsx)(W,{error:t.error,message:t.message});case"ExecutionStepStartEvent":if(!t.stepKey||r.logCaptureSteps)return(0,C.jsx)(F,{message:t.message,eventType:o});var a=P().parse(i.search),s=(0,u.Z)((0,u.Z)({},a),{},{logType:"stdout",logs:"query:".concat(t.stepKey),selection:t.stepKey}),l="".concat(i.pathname,"?").concat(P().stringify(s));return(0,C.jsx)(F,{message:t.message,eventType:o,children:(0,C.jsx)(k.Ij,{rows:[{label:"step_logs",item:(0,C.jsx)(D.rU,{to:l,style:{color:"inherit"},children:"View Raw Step Output"})}]})});case"ExecutionStepSkippedEvent":return(0,C.jsx)(F,{message:t.message,eventType:o,eventColor:"rgba(173, 185, 152, 0.3)"});case"ExecutionStepRestartEvent":case"RunStartEvent":case"RunEnqueuedEvent":case"RunDequeuedEvent":case"RunStartingEvent":case"RunCancelingEvent":case"ResourceInitStartedEvent":case"ResourceInitSuccessEvent":case"StepWorkerStartedEvent":case"StepWorkerStartingEvent":return(0,C.jsx)(F,{message:t.message,eventType:o});case"ExecutionStepSuccessEvent":case"RunSuccessEvent":return(0,C.jsx)(F,{message:t.message,eventType:o,eventIntent:"success"});case"ExecutionStepInputEvent":return(0,C.jsx)(F,{message:t.message+(t.typeCheck.description?" "+t.typeCheck.description:""),eventType:o,eventIntent:t.typeCheck.success?"success":"warning",children:(0,C.jsx)(k.gD,{entries:t.typeCheck.metadataEntries})});case"ExecutionStepOutputEvent":return(0,C.jsx)(F,{message:t.message+(t.typeCheck.description?" "+t.typeCheck.description:""),eventType:o,eventIntent:t.typeCheck.success?"success":"warning",children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(k.gD,{entries:t.typeCheck.metadataEntries}),(0,C.jsx)(k.gD,{entries:t.metadataEntries})]})});case"StepExpectationResultEvent":return(0,C.jsx)(F,{message:t.message,eventType:o,eventIntent:t.expectationResult.success?"success":"warning",children:(0,C.jsx)(k.gD,{entries:t.expectationResult.metadataEntries})});case"MaterializationEvent":return(0,C.jsx)(K,{message:t.message,assetKey:t.assetKey,metadataEntries:t.metadataEntries,eventType:o,timestamp:t.timestamp});case"ObservationEvent":return(0,C.jsx)(K,{message:"",assetKey:t.assetKey,metadataEntries:t.metadataEntries,eventType:o,timestamp:t.timestamp});case"AssetMaterializationPlannedEvent":case"HookCompletedEvent":case"HookSkippedEvent":case"AlertStartEvent":case"AlertSuccessEvent":return(0,C.jsx)(F,{eventType:o,message:t.message});case"ObjectStoreOperationEvent":return(0,C.jsx)(F,{message:t.message,eventType:o,children:(0,C.jsx)(k.gD,{entries:t.operationResult.metadataEntries})});case"HandledOutputEvent":case"LoadedInputEvent":return(0,C.jsx)(F,{message:t.message,eventType:o,children:(0,C.jsx)(k.gD,{entries:t.metadataEntries})});case"HookErroredEvent":return(0,C.jsx)(U,{eventType:o,error:t.error});case"AlertFailureEvent":return(0,C.jsx)(F,{eventType:o,message:t.message,eventIntent:"warning"});case"ResourceInitFailureEvent":case"RunFailureEvent":return t.error?(0,C.jsx)(U,{message:t.message,error:t.error,eventType:o}):(0,C.jsx)(F,{message:t.message,eventType:o,eventIntent:"danger"});case"RunCanceledEvent":return(0,C.jsx)(U,{message:t.message,eventType:o});case"EngineEvent":return t.error?(0,C.jsx)(U,{message:t.message,error:t.error,eventType:o}):(0,C.jsx)(F,{message:t.message,eventType:o,eventColor:"rgba(27,164,206,0.2)",children:(0,C.jsx)(k.gD,{entries:t.metadataEntries})});case"LogMessageEvent":return(0,C.jsx)(F,{message:t.message});case"LogsCapturedEvent":var c=P().parse(i.search,{ignoreQueryPrefix:!0}),d=(0,u.Z)((0,u.Z)({},c),{},{logType:"stdout",logFileKey:t.stepKey}),p="".concat(i.pathname,"?").concat(P().stringify(d)),h=(0,C.jsx)(D.rU,{to:p,style:{color:"inherit"},children:"View stdout / stderr"}),f=t.stepKey?[{label:"captured_logs",item:h}]:[{label:"step_keys",item:(0,C.jsx)(C.Fragment,{children:JSON.stringify(t.stepKeys)})},{label:"captured_logs",item:h}];return(0,C.jsx)(F,{eventType:o,message:t.message,children:(0,C.jsx)(k.Ij,{rows:f})});default:return(0,M.UT)(t)}},F=function(e){var n=e.message,t=e.eventType,r=e.eventColor,i=e.eventIntent,o=e.children;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_.qH,{children:t&&(0,C.jsx)(Z.V,{intent:i,style:r?{fontSize:"0.9em",color:"black",background:r}:{fontSize:"0.9em"},children:(0,A.v)(t)})}),(0,C.jsxs)(g.x,{padding:{horizontal:12},style:{flex:1},children:[n,o]})]})},U=function(e){var n=e.message,t=e.error,r=e.errorSource,i=e.eventType,o=e.metadataEntries,a=null,s=null,l=null,c=null;return n&&(a=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{children:n}),(0,C.jsx)("br",{})]})),t&&(s=(0,C.jsx)("span",{style:{color:h.w.Red500},children:"".concat(t.message)}),!t.stack.length||r===j.zHr.USER_CODE_ERROR&&t.errorChain.length||(l=(0,C.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(t.stack)})),t.errorChain.length&&(c=t.errorChain.map((function(e,n){return(0,C.jsxs)(m.Fragment,{children:[e.isExplicitLink?"The above exception was caused by the following exception:\n":"The above exception occurred during handling of the following exception:\n",(0,C.jsx)("span",{style:{color:h.w.Red500},children:"".concat(e.error.message)}),e.error.stack.length?(0,C.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(e.error.stack)}):null]},n)})))),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_.qH,{children:(0,C.jsx)(Z.V,{minimal:!0,intent:"danger",children:(0,A.v)(i)})}),(0,C.jsxs)(g.x,{padding:{horizontal:12},style:{flex:1},children:[a,s,(0,C.jsx)(k.gD,{entries:o}),l,c]})]})},W=function(e){var n=e.message,t=e.error,r=null,i=null,o=null,a=null;return n&&(r=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{children:n}),(0,C.jsx)("br",{})]})),t&&(t.errorChain.length?i=(0,C.jsx)(C.Fragment,{children:t.errorChain.map((function(e,n){return(0,C.jsxs)(m.Fragment,{children:[0===n?"The retry request was caused by the following exception:\n":"The above exception was caused by the following exception:\n",(0,C.jsx)("span",{style:{color:h.w.Red500},children:"".concat(e.error.message)}),(0,C.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(e.error.stack)})]},n)}))}):(o=(0,C.jsx)("span",{style:{color:h.w.Red500},children:"".concat(t.message)}),a=(0,C.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(t.stack)}))),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_.qH,{children:(0,C.jsx)(Z.V,{minimal:!0,intent:"warning",children:(0,A.v)(j.i36.STEP_UP_FOR_RETRY)})}),(0,C.jsxs)(g.x,{padding:{horizontal:12},style:{flex:1},children:[r,o,a,i]})]})},K=function(e){var n=e.message,t=e.assetKey,r=e.metadataEntries,i=e.eventType,o=e.timestamp;if(!t)return(0,C.jsx)(F,{message:n,eventType:i,children:(0,C.jsx)(k.gD,{entries:r})});var a=(0,G.p)(t,{asOf:o}),s=(0,C.jsxs)("span",{style:{marginLeft:10},children:["[",(0,C.jsx)(k.aw,{to:a,children:"View Asset"}),"]"]});return(0,C.jsx)(F,{message:n,eventType:i,children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(k.Ij,{styles:null!==r&&void 0!==r&&r.length?{paddingBottom:0}:{},rows:[{label:"asset_key",item:(0,C.jsxs)(C.Fragment,{children:[(0,O.ll)(t),s]})}]}),(0,C.jsx)(k.gD,{entries:r})]})})},H=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).onExpand=function(){var n=e.props,t=n.node,r=n.metadata;"ExecutionStepFailureEvent"===t.__typename?(0,y._)({title:"Error",body:(0,C.jsx)(b.T9,{error:t.error?t.error:t,failureMetadata:t.failureMetadata,errorSource:t.errorSource})}):"ExecutionStepUpForRetryEvent"===t.__typename?(0,y._)({title:"Step Retry",body:(0,C.jsx)(b.T9,{error:t.error?t.error:t})}):"EngineEvent"===t.__typename&&t.error||"RunFailureEvent"===t.__typename&&t.error||"HookErroredEvent"===t.__typename||"ResourceInitFailureEvent"===t.__typename?(0,y._)({title:"Error",body:(0,C.jsx)(b.T9,{error:t.error?t.error:t})}):(0,y._)({title:t.stepKey||"Info",body:(0,C.jsx)(_.Yw,{children:(0,C.jsx)(z,{node:t,metadata:r})})})},e}return(0,a.Z)(t,[{key:"render",value:function(){return(0,C.jsx)(R,{style:this.props.style,onExpand:this.onExpand,children:(0,C.jsx)(B,{node:this.props.node,metadata:this.props.metadata,highlighted:this.props.highlighted})})}}]),t}(m.Component),V=(0,p.Ps)(r||(r=(0,c.Z)(["\n  fragment LogsRowStructuredFragment on DagsterRunEvent {\n    ... on MessageEvent {\n      message\n      eventType\n      timestamp\n      level\n      stepKey\n    }\n    ... on DisplayableEvent {\n      label\n      description\n      metadataEntries {\n        ...MetadataEntryFragment\n      }\n    }\n    ... on MarkerEvent {\n      markerStart\n      markerEnd\n    }\n    ... on ErrorEvent {\n      error {\n        ...PythonErrorFragment\n      }\n    }\n    ... on MaterializationEvent {\n      assetKey {\n        path\n      }\n    }\n    ... on ObservationEvent {\n      assetKey {\n        path\n      }\n    }\n    ... on ExecutionStepFailureEvent {\n      errorSource\n      failureMetadata {\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on ExecutionStepInputEvent {\n      inputName\n      typeCheck {\n        label\n        description\n        success\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on ExecutionStepOutputEvent {\n      outputName\n      typeCheck {\n        label\n        description\n        success\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on StepExpectationResultEvent {\n      expectationResult {\n        success\n        label\n        description\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on ObjectStoreOperationEvent {\n      operationResult {\n        op\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on HandledOutputEvent {\n      outputName\n      managerKey\n    }\n    ... on LoadedInputEvent {\n      inputName\n      managerKey\n      upstreamOutputName\n      upstreamStepKey\n    }\n    ... on LogsCapturedEvent {\n      fileKey\n      stepKeys\n      externalUrl\n      externalStdoutUrl\n      externalStderrUrl\n    }\n  }\n\n  ","\n  ","\n"])),k.it,w.B),B=m.memo((function(e){var n=e.node,t=e.metadata,r=e.highlighted,i=n.stepKey,o=i?t.steps[i]:null,a=null===o||void 0===o?void 0:o.start;return(0,C.jsxs)(_.X2,{level:j.ini.INFO,onMouseEnter:function(){return(0,E.kZ)(n.timestamp)},onMouseLeave:function(){return(0,E.kZ)(null)},highlighted:r,children:[(0,C.jsx)(_.pq,{time:"timestamp"in n?n.timestamp:null,runStartTime:t.startedPipelineAt,stepStartTime:a}),(0,C.jsx)(_.E6,{stepKey:"stepKey"in n&&n.stepKey}),(0,C.jsx)(_.Yw,{children:(0,C.jsx)(z,{node:n,metadata:t})})]})}));B.displayName="StructuredMemoizedContent";var X=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).onExpand=function(){(0,y._)({title:"Log",body:(0,C.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e.props.node.message})})},e}return(0,a.Z)(t,[{key:"render",value:function(){return(0,C.jsx)(R,{style:this.props.style,onExpand:this.onExpand,children:(0,C.jsx)(q,{node:this.props.node,highlighted:this.props.highlighted,metadata:this.props.metadata})})}}]),t}(m.Component),J=(0,p.Ps)(i||(i=(0,c.Z)(["\n  fragment LogsRowUnstructuredFragment on DagsterRunEvent {\n    ... on MessageEvent {\n      message\n      timestamp\n      level\n      stepKey\n    }\n  }\n"]))),q=m.memo((function(e){var n=e.node,t=e.highlighted,r=e.metadata,i=n.stepKey,o=i?r.steps[i]:null,a=null===o||void 0===o?void 0:o.start;return(0,C.jsxs)(_.X2,{level:n.level,onMouseEnter:function(){return(0,E.kZ)(n.timestamp)},onMouseLeave:function(){return(0,E.kZ)(null)},highlighted:t,children:[(0,C.jsx)(_.pq,{time:n.timestamp,runStartTime:r.startedPipelineAt,stepStartTime:a}),(0,C.jsx)(_.E6,{stepKey:n.stepKey}),(0,C.jsx)(_.qH,{children:(0,C.jsx)("span",{style:{marginLeft:8},children:n.level})}),(0,C.jsx)(g.x,{padding:{horizontal:12},style:{flex:1},children:n.message})]})}));q.displayName="UnstructuredMemoizedContent";var Y,Q=t(31173),$=t(75302),ee=x.aV,ne=x.Z8;var te=function(e){var n=e.filterKey,t=e.filterStepKeys,r=e.metadata,i=e.filter,o=e.logs,a=m.useRef(null);return(0,C.jsxs)(Q.bu,{onWidthsChanged:function(){return a.current&&a.current.didResize()},children:[(0,C.jsx)(Q.PM,{}),(0,C.jsx)("div",{style:{flex:1,minHeight:0,marginTop:-1,position:"relative"},children:(0,C.jsx)(oe,{children:function(e){var s=e.width,l=e.height;return(0,C.jsx)(ie,(0,u.Z)({width:s,height:l,ref:a,filterKey:n,loading:o.loading,metadata:r,focusedTime:i.focusedTime},function(e,n,t){var r=e.allNodes.filter((function(e){if("AssetMaterializationPlannedEvent"===e.__typename)return!1;var t=(0,$.m)(e);return!!n.levels[t]&&!(n.sinceTime&&Number(e.timestamp)<n.sinceTime)})),i=!(!n.logQuery[0]||""===n.logQuery[0].value),o=i?r.filter((function(e){return n.logQuery.length>0&&n.logQuery.every((function(n){return"query"===n.token?e.stepKey&&t.includes(e.stepKey):"step"===n.token?e.stepKey&&e.stepKey===n.value:"type"===n.token?e.eventType&&n.value===(0,A.v)(e.eventType):e.message.toLowerCase().includes(n.value.toLowerCase())}))})):[];return{filteredNodes:i&&n.hideNonMatches?o:r,textMatchNodes:o}}(o,i,t)))}})})]})},re=(0,p.Ps)(Y||(Y=(0,c.Z)(["\n  fragment LogsScrollingTableMessageFragment on DagsterRunEvent {\n    ...LogsRowStructuredFragment\n    ...LogsRowUnstructuredFragment\n  }\n\n  ","\n  ","\n"])),V,J),ie=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).list=m.createRef(),e.cache=new x.t1({defaultHeight:30,fixedWidth:!0,keyMapper:function(n){return e.props.filteredNodes?e.props.filteredNodes[n].clientsideKey:""}}),e.isAtBottomOrZero=!0,e.scrollToBottomObserver=null,e.onScroll=function(n){var t=n.scrollTop,r=n.scrollHeight,i=n.clientHeight,o=0===t&&r<=i,a=r-i-t<5;e.isAtBottomOrZero=o||a},e.scrollToTime=function(n){if(e.props.filteredNodes&&e.list.current){e.isAtBottomOrZero=!1;var t={index:e.props.filteredNodes.findIndex((function(e){return Number(e.timestamp)>=n})),alignment:"center"};-1===t.index&&(t.index=e.props.filteredNodes.length-1);for(var r=0,i=0;r!==e.list.current.getOffsetForRow(t)&&(r=e.list.current.getOffsetForRow(t),e.list.current.scrollToPosition(r),!((i+=1)>20)););}},e.rowRenderer=function(n){var t,r=n.parent,i=n.index,o=n.style;if(e.props.filteredNodes.length){var a=e.props.filteredNodes[i],s=Number(a.timestamp)===e.props.focusedTime,l=!(null===(t=e.props.textMatchNodes)||void 0===t||!t.includes(a)),c=e.props.metadata;if(!a)return(0,C.jsx)("span",{});var d=i===e.props.filteredNodes.length-1?{borderBottom:"1px solid ".concat(h.w.Gray100)}:{};return(0,C.jsx)(ne,{cache:e.cache,index:i,parent:r,children:"LogMessageEvent"===a.__typename?(0,C.jsx)(X,{node:a,metadata:c,style:(0,u.Z)((0,u.Z)({},o),{},{width:e.props.width},d),highlighted:l||s}):(0,C.jsx)(H,{node:a,metadata:c,style:(0,u.Z)((0,u.Z)({},o),{},{width:e.props.width},d),highlighted:l||s})},a.clientsideKey)}},e.noContentRenderer=function(){return e.props.filteredNodes?(0,C.jsx)(f.t,{icon:"no-results",title:"No logs to display"}):(0,C.jsx)("span",{})},e}return(0,a.Z)(t,[{key:"listEl",get:function(){var e=this.list.current&&v.findDOMNode(this.list.current);return e instanceof HTMLElement?e:null}},{key:"componentDidMount",value:function(){var e=this;this.attachScrollToBottomObserver(),this.props.focusedTime&&window.requestAnimationFrame((function(){e.scrollToTime(e.props.focusedTime)}))}},{key:"componentDidUpdate",value:function(e){var n,t,r=this;this.list.current&&(this.props.width!==e.width&&this.didResize(),this.props.filterKey!==e.filterKey&&this.list.current.recomputeGridSize(),!this.props.focusedTime||(null===(n=this.props.filteredNodes)||void 0===n?void 0:n.length)===(null===(t=e.filteredNodes)||void 0===t?void 0:t.length)&&this.props.focusedTime===e.focusedTime||window.requestAnimationFrame((function(){r.scrollToTime(r.props.focusedTime)})))}},{key:"componentWillUnmount",value:function(){this.scrollToBottomObserver&&this.scrollToBottomObserver.disconnect()}},{key:"didResize",value:function(){this.cache.clearAll(),this.forceUpdate()}},{key:"attachScrollToBottomObserver",value:function(){var e=this,n=this.listEl;if(n){var t=null;this.scrollToBottomObserver=new MutationObserver((function(){var r=n.querySelector("[role=rowgroup]");r?r.style.height!==t&&e.isAtBottomOrZero&&(t=r.style.height,n.scrollTop=n.scrollHeight-n.clientHeight):t=null})),this.scrollToBottomObserver.observe(n,{attributes:!0,subtree:!0})}else console.warn("No container, LogsScrollingTable must render listEl")}},{key:"render",value:function(){var e=this.props,n=e.filteredNodes,t=e.height,r=e.loading,i=e.width;return(0,C.jsxs)("div",{children:[r?(0,C.jsx)(ae,{children:(0,C.jsx)(f.t,{icon:"spinner",title:"Fetching logs..."})}):null,(0,C.jsx)(ee,{ref:this.list,deferredMeasurementCache:this.cache,rowCount:(null===n||void 0===n?void 0:n.length)||0,noContentRenderer:this.noContentRenderer,rowHeight:this.cache.rowHeight,rowRenderer:this.rowRenderer,width:i,height:t,overscanRowCount:10,style:{paddingBottom:50},onScroll:this.onScroll})]})}}]),t}(m.Component),oe=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={width:0,height:0},e.resizeObserver=void 0,e}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var e=this;this.measure();var n=v.findDOMNode(this);if(n&&n instanceof HTMLElement&&"ResizeObserver"in window){var t=window.ResizeObserver;this.resizeObserver=new t((function(n){e.setState({width:n[0].contentRect.width,height:n[0].contentRect.height})})),this.resizeObserver.observe(n)}}},{key:"componentDidUpdate",value:function(){this.measure()}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"measure",value:function(){var e=v.findDOMNode(this);e&&e instanceof HTMLElement&&(e.clientWidth===this.state.width&&e.clientHeight===this.state.height||this.setState({width:e.clientWidth,height:e.clientHeight}))}},{key:"render",value:function(){return(0,C.jsx)("div",{style:{width:"100%",height:"100%"},children:this.props.children(this.state)})}}]),t}(m.Component),ae=d.ZP.div.withConfig({displayName:"LogsScrollingTable__ListEmptyState",componentId:"sc-3re64b-0"})(["background-color:rgba(255,255,255,0.7);z-index:100;position:absolute;width:100%;height:calc(100% - 50px);"])},31173:function(e,n,t){t.d(n,{Cr:function(){return y},D7:function(){return m},PM:function(){return g},bu:function(){return v},gM:function(){return w},h4:function(){return x}});var r=t(9249),i=t(87371),o=t(45754),a=t(86906),s=t(33028),l=t(60319),c=t(32667),u=t(78193),d=t(79962),p=t(35936),h="ColumnWidths",f=Object.assign({eventType:140,solid:150,timestamp:117},(0,d.n)(h)),m=u.createContext((0,s.Z)((0,s.Z)({},f),{},{onChange:function(e){}})),v=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state=f,e.onWidthsChangedFromContext=function(n){window.localStorage.setItem(h,JSON.stringify(n)),e.props.onWidthsChanged(n),e.setState(n)},e}return(0,i.Z)(t,[{key:"render",value:function(){return(0,p.jsx)(m.Provider,{value:(0,s.Z)((0,s.Z)({},this.state),{},{onChange:this.onWidthsChangedFromContext}),children:this.props.children})}}]),t}(u.Component),x=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={isDragging:!1,width:0,screenX:0},e.onMouseDown=function(n){var t=e.props.width;e.setState({isDragging:!0,screenX:n.screenX,width:t}),document.addEventListener("mousemove",e.onMouseMove),document.addEventListener("mouseup",e.onMouseUp)},e.onMouseMove=function(n){var t=e.props,r=t.onResize,i=t.handleSide,o=e.state,a=o.isDragging,s=o.width,l=o.screenX;if(n.screenX&&a&&r){var c="left"===i?-1:1;r(Math.max(40,s+(n.screenX-l)*c))}},e.onMouseUp=function(){e.state.isDragging&&e.setState({isDragging:!1}),document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp)},e}return(0,i.Z)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=!!this.props.onResize;return(0,p.jsxs)(w,{style:{width:this.props.width},children:[(0,p.jsx)(b,{onMouseDown:e?this.onMouseDown:void 0,isDraggable:e,isDragging:this.state.isDragging,side:this.props.handleSide||"right",children:(0,p.jsx)("div",{})}),(0,p.jsx)(E,{children:this.props.children})]})}}]),t}(u.Component),g=function(){var e=u.useContext(m);return(0,p.jsxs)(y,{children:[(0,p.jsx)(x,{width:e.timestamp,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{timestamp:n}))},children:"Timestamp"}),(0,p.jsx)(x,{width:e.solid,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{solid:n}))},children:"Op"}),(0,p.jsx)(x,{width:e.eventType,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{eventType:n}))},children:"Event Type"}),(0,p.jsx)(w,{style:{flex:1},children:"Info"})]})},y=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeadersContainer",componentId:"sc-1br1l7w-0"})(["display:flex;color:",";text-transform:uppercase;font-size:12px;border-bottom:1px solid ",";z-index:2;"],c.w.Gray400,c.w.KeylineGray),w=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderContainer",componentId:"sc-1br1l7w-1"})(["flex-shrink:0;position:relative;user-select:none;display:inline-block;padding:0 12px;line-height:32px;"]),b=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderDragHandle",componentId:"sc-1br1l7w-2"})(["width:1px;height:20000px;position:absolute;cursor:",";z-index:2;"," padding:0 2px;& > div{width:1px;height:100%;background:",";}"],(function(e){return e.isDraggable?"ew-resize":"default"}),(function(e){return"right"===e.side?"right: -2px;":"left: -2px;"}),(function(e){return e.isDragging?c.w.Gray400:c.w.KeylineGray})),E=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderLabel",componentId:"sc-1br1l7w-3"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"])},86252:function(e,n,t){t.d(n,{EP:function(){return C},NX:function(){return N},VM:function(){return S},jT:function(){return j}});var r=t(33028),i=t(56666),o=t(32723),a=t(34795),s=t(96234),l=t(45519),c=t(61623),u=t(4537),d=t(47515),p=t(78193),h=t(82182),f=t(62709),m=t(35740),v=t(20722),x=t(90986),g=t(20967),y=t(68506),w=t(69654),b=t(37870),E=t(35936),j=function(e){var n=e.run,t=n.id,r=n.canTerminate,u=p.useState(!1),d=(0,s.Z)(u,2),f=d[0],m=d[1],v=p.useCallback((function(){return m(!1)}),[]),x=p.useCallback(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n){var r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.errors,!(i=t&&r[t])||!("message"in i)){e.next=5;break}return e.next=5,(0,h.B7)({message:i.message,icon:"error",intent:"danger"});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t]);return t?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(l.zx,{icon:(0,E.jsx)(c.JO,{name:"cancel"}),intent:"danger",disabled:f,onClick:function(){return m(!0)},children:"Terminate"}),(0,E.jsx)(w.A,{isOpen:f,onClose:v,onComplete:x,selectedRuns:(0,i.Z)({},t,r)})]}):null};function k(e,n){var t=e.keys.map((function(e){var t;return e&&(null===(t=n.steps[e])||void 0===t?void 0:t.state)||x.TN.PREPARING}));return(0,r.Z)((0,r.Z)({},e),{},{present:e.keys.length>0,failed:e.keys.length&&t.includes(x.TN.FAILED),finished:t.every((function(e){return[x.TN.FAILED,x.TN.SUCCEEDED].includes(e)}))})}var C=function(e){return g.cv.has(e.status)},S=function(e){return e.executionPlan&&g.hd.has(e.status)},N=function(e){var n,t,r=e.metadata,i=e.graph,o=e.onLaunch,a=e.run,s=null===a||void 0===a||null===(n=a.executionPlan)||void 0===n?void 0:n.artifactsPersisted,l=(0,b.J)(a),c=k(e.selection,r),p=function(e,n,t){var r=e.tags.find((function(e){return e.key===y.H.StepSelection}));return r?k({keys:(0,f.V)(n,r.value).all.map((function(e){return e.name})),query:r.value},t):null}(a,i,r),h=null===(t=a.tags)||void 0===t?void 0:t.some((function(e){return e.key===y.H.IsResumeRetry&&"true"===e.value})),x={icon:"cached",scope:"*",title:"All steps in root run",tooltip:"Re-execute the pipeline run from scratch",disabled:!C(a),onClick:function(){return o({type:"all"})}},w={icon:"linear_scale",scope:(null===p||void 0===p?void 0:p.query)||"*",title:"Same steps",disabled:!p||!(p.finished||p.failed),tooltip:(0,E.jsxs)("div",{children:[p&&p.present?p.finished?"Re-execute the same step subset used for this run:":"Wait for all of the steps to finish to re-execute the same subset.":"Re-executes the same step subset used for this run if one was present.",(0,E.jsx)(T,{selection:p})]}),onClick:function(){return o({type:"selection",selection:p})}},N={icon:"op",scope:c.query,title:c.keys.length>1?"Selected steps":"Selected step",disabled:!c.present||!(c.finished||c.failed),tooltip:(0,E.jsxs)("div",{children:[c.present?c.finished?"Re-execute the selected steps with existing configuration:":"Wait for the steps to finish to re-execute them.":"Select a step or type a step subset to re-execute.",(0,E.jsx)(T,{selection:c})]}),onClick:function(){return o({type:"selection",selection:c})}},R={icon:"arrow_forward",title:"From selected",disabled:!C(a)||1!==c.keys.length,tooltip:"Re-execute the pipeline downstream from the selected steps",onClick:function(){if(!a.executionPlan)return console.warn("Run execution plan must be present to launch from-selected execution"),Promise.resolve();var e=c.keys.map((function(e){return"".concat(e,"*")})).join(","),n=(0,f.V)(i,e).all.map((function(e){return e.name}));return o({type:"selection",selection:{keys:n,query:e}})}},_=S(a),Z={icon:"arrow_forward",title:"From failure",disabled:!_,tooltip:_?"Retry the pipeline run, skipping steps that completed successfully":"Retry is only enabled when the pipeline has failed.",onClick:function(){return o({type:"from-failure"})}};s||[N,w,Z,R].forEach((function(e){e.disabled=!0,e.title="Retry and re-execute are only enabled on persistent storage. Try rerunning with a different storage configuration."}));var I=[x,w,N,R,Z],P=c.present?N:_&&h?Z:null!==p&&void 0!==p&&p.present?w:null,L=s&&P?P:x;return(0,E.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,E.jsx)(d.x,{flex:{direction:"row"},children:(0,E.jsx)(v.D,{runCount:1,primary:L,options:I,title:"*"===L.scope?"Re-execute all (*)":L.scope?"Re-execute (".concat(L.scope,")"):"Re-execute ".concat(L.title),tooltip:null!==l&&void 0!==l&&l.tooltip?null===l||void 0===l?void 0:l.tooltip:a.hasReExecutePermission?void 0:m.Qr,icon:null===l||void 0===l?void 0:l.icon,disabled:(null===l||void 0===l?void 0:l.disabled)||!a.hasReExecutePermission})}),g.cv.has(a.status)?null:(0,E.jsx)(j,{run:a})]})},T=function(e){var n=e.selection;return(0,E.jsx)("div",{style:{paddingLeft:"10px"},children:((null===n||void 0===n?void 0:n.keys)||[]).map((function(e){return(0,E.jsx)("span",{style:{display:"block"},children:"* ".concat(e)},e)}))})}},70037:function(e,n,t){t.d(n,{A:function(){return r}});var r=t(78193).createContext(undefined)},24138:function(e,n,t){t.d(n,{Ac:function(){return H},Up:function(){return W},Z0:function(){return A},lc:function(){return U}});var r,i=t(71171),o=t(56666),a=t(32723),s=t(34795),l=t(96234),c=t(60319),u=t(31623),d=t(32667),p=t(90519),h=t(4537),f=t(61623),m=t(44229),v=t(45519),x=t(73070),g=t(85357),y=t(3077),w=t(47515),b=t(83473),E=t(9886),j=t(78193),k=t(50032),C=t(33418),S=t(82182),N=t(22260),T=t(23555),R=t(8686),_=t(46856),Z=t(85279),I=t(63167),P=t(9089),L=t(21687),D=t(89622),M=t(69654),O=t(16939),G=t(35936),A=function(e){switch(e){case T.VOA.QUEUED:return"Queued";case T.VOA.CANCELED:return"Canceled";case T.VOA.CANCELING:return"Canceling\u2026";case T.VOA.FAILURE:return"Failed";case T.VOA.NOT_STARTED:return"Waiting to start\u2026";case T.VOA.STARTED:return"Started\u2026";case T.VOA.STARTING:return"Starting\u2026";case T.VOA.SUCCESS:return"Succeeded";default:return"None"}},z=function(e){var n=e.loading,t=e.children;return n?(0,G.jsx)("div",{style:{color:d.w.Gray400},children:"Loading\u2026"}):(0,G.jsx)("div",{children:t()})},F={showSeconds:!0,showTimezone:!1},U=function(e){var n=e.loading,t=e.run;return(0,G.jsx)(p.nZ,{spacing:0,rows:[{key:"Started",value:(0,G.jsx)(z,{loading:n,children:function(){return null!==t&&void 0!==t&&t.startTime?(0,G.jsx)(_.v,{timestamp:t.startTime,timeFormat:F}):(0,G.jsx)("div",{style:{color:d.w.Gray400},children:A(null===t||void 0===t?void 0:t.status)})}})},{key:"Ended",value:(0,G.jsx)(z,{loading:n,children:function(){return null!==t&&void 0!==t&&t.endTime?(0,G.jsx)(_.v,{timestamp:t.endTime,timeFormat:F}):(0,G.jsx)("div",{style:{color:d.w.Gray400},children:A(null===t||void 0===t?void 0:t.status)})}})},{key:"Duration",value:(0,G.jsx)(z,{loading:n,children:function(){return null!==t&&void 0!==t&&t.startTime?(0,G.jsx)(O.Q,{startUnix:t.startTime,endUnix:t.endTime}):(0,G.jsx)("div",{style:{color:d.w.Gray400},children:A(null===t||void 0===t?void 0:t.status)})}})}]})},W=function(e){var n,t,r=e.run,i=e.isJob,c=r.runConfigYaml,u=j.useState(null),p=(0,l.Z)(u,2),T=p[0],_=p[1],O=j.useContext(C.I).rootServerURI,A=j.useContext(D.Lw).refetch,z=(0,N.m)(),F=(0,k.k6)(),U=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(c),e.next=3,(0,S.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=(0,I.$O)({id:r.id,repositoryName:null===(n=r.repositoryOrigin)||void 0===n?void 0:n.repositoryName,repositoryLocationName:null===(t=r.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName,pipelineName:r.pipelineName,isJob:i});return(0,G.jsxs)("div",{children:[(0,G.jsxs)(h.Z,{direction:"row",spacing:8,children:[r.hasReExecutePermission?(0,G.jsx)(Z.A,{icon:(0,G.jsx)(f.JO,{name:"edit"}),to:W,children:"Open in Launchpad"}):(0,G.jsx)(m.u,{content:R.U,useDisabledButtonTooltipFix:!0,children:(0,G.jsx)(v.zx,{icon:(0,G.jsx)(f.JO,{name:"edit"}),disabled:!0,children:"Open in Launchpad"})}),(0,G.jsx)(v.zx,{icon:(0,G.jsx)(f.JO,{name:"tag"}),onClick:function(){return _("config")},children:"View tags and config"}),(0,G.jsx)(x.J,{position:"bottom-right",content:(0,G.jsxs)(g.v2,{children:[(0,G.jsx)(m.u,{content:"Loadable in dagit-debug",position:"left",targetTagName:"div",children:(0,G.jsx)(g.sN,{text:"Download debug file",icon:(0,G.jsx)(f.JO,{name:"download_for_offline"}),onClick:function(){return window.open("".concat(O,"/download_debug/").concat(r.id))}})}),r.hasDeletePermission?(0,G.jsx)(g.sN,{icon:"delete",text:"Delete",intent:"danger",onClick:function(){return _("delete")}}):null]}),children:(0,G.jsx)(v.zx,{icon:(0,G.jsx)(f.JO,{name:"expand_more"})})})]}),(0,G.jsx)(y.Vq,{isOpen:"config"===T,onClose:function(){return _(null)},style:{width:"90vw",maxWidth:"1000px",minWidth:"600px",height:"90vh",maxHeight:"1000px",minHeight:"600px"},title:"Run configuration",children:(0,G.jsxs)(w.x,{flex:{direction:"column"},style:{flex:1,overflow:"hidden"},children:[(0,G.jsxs)(w.x,{flex:{direction:"column",gap:20},style:{flex:1,overflow:"hidden"},children:[(0,G.jsxs)(w.x,{flex:{direction:"column",gap:12},padding:{top:16,horizontal:24},children:[(0,G.jsx)(b.pm,{children:"Tags"}),(0,G.jsx)("div",{children:(0,G.jsx)(L.Q,{tags:r.tags,mode:i?null:r.mode})})]}),(0,G.jsxs)(w.x,{flex:{direction:"column"},style:{flex:1,overflow:"hidden"},children:[(0,G.jsx)(w.x,{border:{side:"bottom",width:1,color:d.w.KeylineGray},padding:{left:24,bottom:16},children:(0,G.jsx)(b.pm,{children:"Config"})}),(0,G.jsx)(K,{children:(0,G.jsx)(E.NU,{value:c,options:{lineNumbers:!0,mode:"yaml"},theme:["config-editor"]})})]})]}),(0,G.jsxs)(y.cN,{topBorder:!0,children:[(0,G.jsx)(v.zx,{onClick:function(){return U()},intent:"none",children:"Copy config"}),(0,G.jsx)(v.zx,{onClick:function(){return _(null)},intent:"primary",children:"OK"})]})]})}),r.hasDeletePermission?(0,G.jsx)(P.N,{isOpen:"delete"===T,onClose:function(){return _(null)},onComplete:function(){r.repositoryOrigin?F.push((0,I.jT)({repoName:r.repositoryOrigin.repositoryName,repoLocation:r.repositoryOrigin.repositoryLocationName,pipelineName:r.pipelineName,isJob:i,path:"/runs"})):_(null)},onTerminateInstead:function(){return _("terminate")},selectedRuns:(0,o.Z)({},r.id,r.canTerminate)}):null,r.hasTerminatePermission?(0,G.jsx)(M.A,{isOpen:"terminate"===T,onClose:function(){return _(null)},onComplete:function(){A()},selectedRuns:(0,o.Z)({},r.id,r.canTerminate)}):null]})},K=c.ZP.div.withConfig({displayName:"RunDetails__CodeMirrorContainer",componentId:"sc-1y6moeh-0"})(["flex:1;overflow:hidden;.react-codemirror2,.CodeMirror{height:100%;}"]),H=(0,u.Ps)(r||(r=(0,i.Z)(["\n  fragment RunDetailsFragment on Run {\n    id\n    startTime\n    endTime\n    status\n  }\n"])))},42236:function(e,n,t){t.d(n,{$K:function(){return h},J3:function(){return p},tQ:function(){return f}});var r,i,o,a=t(71171),s=t(31623),l=t(92764),c=t(20317),u=t(24138),d=t(90986),p=(0,s.Ps)(r||(r=(0,a.Z)(["\n  fragment RunFragment on Run {\n    id\n    runConfigYaml\n    canTerminate\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    status\n    mode\n    tags {\n      key\n      value\n    }\n    assets {\n      id\n      key {\n        path\n      }\n    }\n    rootRunId\n    parentRunId\n    pipelineName\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    pipelineSnapshotId\n    executionPlan {\n      artifactsPersisted\n      ...ExecutionPlanToGraphFragment\n    }\n    stepKeysToExecute\n    updateTime\n    stepStats {\n      stepKey\n      status\n      startTime\n      endTime\n      attempts {\n        startTime\n        endTime\n      }\n      markers {\n        startTime\n        endTime\n      }\n    }\n    ...RunDetailsFragment\n  }\n\n  ","\n  ","\n"])),l.$,u.Ac),h=(0,s.Ps)(i||(i=(0,a.Z)(["\n  fragment RunDagsterRunEventFragment on DagsterRunEvent {\n    ... on MessageEvent {\n      message\n      timestamp\n      level\n      stepKey\n    }\n\n    ...LogsScrollingTableMessageFragment\n    ...RunMetadataProviderMessageFragment\n  }\n\n  ","\n  ","\n"])),c.x,d.Nb),f=(0,s.Ps)(o||(o=(0,a.Z)(["\n  fragment RunPageFragment on Run {\n    id\n    parentPipelineSnapshotId\n    ...RunFragment\n  }\n\n  ","\n"])),p)},90986:function(e,n,t){t.d(n,{Nb:function(){return w},PG:function(){return f},TN:function(){return p},co:function(){return m},jp:function(){return y}});var r,i=t(71171),o=t(41361),a=t(31623),s=t(78193),l=t(23555),c=t(84674),u=t(70037),d=t(35936),p=function(e){return e.PREPARING="preparing",e.RETRY_REQUESTED="retry-requested",e.RUNNING="running",e.SUCCEEDED="succeeded",e.SKIPPED="skipped",e.FAILED="failed",e.UNKNOWN="unknown",e}({}),h=[p.RETRY_REQUESTED,p.SUCCEEDED,p.FAILED,p.UNKNOWN],f={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},m=function(e){var n={};return e.forEach((function(e){return n[e]={fileKey:e,stepKeys:[e]}})),n},v=function(e){return e?Math.floor(1e3*e):void 0};var x=function(e){switch(e){case l.SGm.SUCCESS:return p.SUCCEEDED;case l.SGm.FAILURE:return p.FAILED;case l.SGm.SKIPPED:return p.SKIPPED;default:return p.UNKNOWN}},g=function(e){return"EngineEvent"===e.__typename||"ResourceInitFailureEvent"===e.__typename||"ResourceInitStartedEvent"===e.__typename||"ResourceInitSuccessEvent"===e.__typename||"StepWorkerStartedEvent"===e.__typename||"StepWorkerStartingEvent"===e.__typename?e:null};var y=function(e){var n=e.logs,t=e.children,r=s.useContext(u.A),i=s.useMemo((function(){return function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}};return e?(e.startTime&&(n.startedPipelineAt=v(e.startTime)),e.endTime&&(n.exitedAt=v(e.endTime)),e.stepStats.forEach((function(e){n.steps[e.stepKey]={state:x(e.status),start:v(e.startTime),end:v(e.endTime),transitions:[],attempts:e.attempts.map((function(n,t){return{start:v(n.startTime),end:v(n.endTime),exitState:t===e.attempts.length-1?x(e.status):p.RETRY_REQUESTED}})),markers:e.markers.map((function(e,n){return{start:v(e.startTime),end:v(e.endTime),key:"marker_".concat(n)}}))}})),n):n}(r)}),[r]),a=s.useMemo((function(){return n.loading?i:function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},t=function(e,n){var t=e.find((function(e){return e.key===n&&!e.end}));return t||(t={key:n},e.unshift(t)),t},r=function(e,n,t){e.transitions.push({time:n,state:t}),e.state=t,e.attempts=[]};e.forEach((function(e){var i=Number.parseInt(e.timestamp,10);if(n.firstLogAt=n.firstLogAt?Math.min(n.firstLogAt,i):i,n.mostRecentLogAt=Math.max(n.mostRecentLogAt,i),"RunStartEvent"===e.__typename&&(n.startedPipelineAt=i),"RunFailureEvent"===e.__typename||"RunSuccessEvent"===e.__typename||"RunCanceledEvent"===e.__typename){n.exitedAt=i;for(var o=0,a=Object.values(n.steps);o<a.length;o++){var s=a[o];s.state===p.RUNNING&&r(s,i,p.UNKNOWN)}}if(!e.stepKey){var l=g(e);l&&(l.markerStart&&(t(n.globalMarkers,l.markerStart).start=i),l.markerEnd&&(t(n.globalMarkers,l.markerEnd).end=i))}if("LogsCapturedEvent"===e.__typename&&(n.logCaptureSteps||(n.logCaptureSteps={}),n.logCaptureSteps[e.fileKey]={fileKey:e.fileKey,stepKeys:e.stepKeys||[],pid:String(e.pid),externalStdoutUrl:e.externalStdoutUrl||void 0,externalStderrUrl:e.externalStderrUrl||void 0}),e.stepKey){var c=e.stepKey,u=n.steps[c]||{state:void 0,attempts:[],transitions:[],start:void 0,end:void 0,markers:[]},d=g(e);if(d&&(d.markerStart&&(t(u.markers,d.markerStart).start=i),d.markerEnd&&(t(u.markers,d.markerEnd).end=i)),"StepWorkerStartingEvent"===e.__typename)r(u,i,p.PREPARING);else if("ExecutionStepStartEvent"===e.__typename)r(u,i,p.RUNNING),u.start=i;else if("ExecutionStepSuccessEvent"===e.__typename)r(u,i,p.SUCCEEDED),u.end=Math.max(i,u.end||0);else if("ExecutionStepSkippedEvent"===e.__typename)r(u,i,p.SKIPPED);else if("ExecutionStepFailureEvent"===e.__typename)r(u,i,p.FAILED),u.end=Math.max(i,u.end||0);else if("ExecutionStepUpForRetryEvent"===e.__typename)r(u,i,p.RETRY_REQUESTED),r(u,i+1,p.PREPARING);else if("ExecutionStepRestartEvent"===e.__typename)r(u,i,p.RUNNING);else if("ObjectStoreOperationEvent"===e.__typename&&"CP_OBJECT"===e.operationResult.op)return;n.steps[c]=u}}));for(var i=0,a=Object.values(n.steps);i<a.length;i++){var s=a[i];s.transitions=s.transitions.sort((function(e,n){return e.time-n.time}));var l,c=null,u=(0,o.Z)(s.transitions);try{for(u.s();!(l=u.n()).done;){var d=l.value;c&&!c.end||d.state!==p.RUNNING||(c={start:d.time},s.attempts.push(c)),c&&h.includes(d.state)&&(c.end=d.time,c.exitState=d.state)}}catch(f){u.e(f)}finally{u.f()}1===s.transitions.length&&s.state===p.SKIPPED&&s.attempts.push({start:s.transitions[0].time,end:s.transitions[0].time,exitState:p.SKIPPED})}return n}(n.allNodes)}),[n,i]);return(0,d.jsx)(d.Fragment,{children:t(a)})},w=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment RunMetadataProviderMessageFragment on DagsterRunEvent {\n    ... on MessageEvent {\n      message\n      timestamp\n      stepKey\n    }\n    ... on MarkerEvent {\n      markerStart\n      markerEnd\n    }\n    ... on ObjectStoreOperationEvent {\n      operationResult {\n        op\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on LogsCapturedEvent {\n      fileKey\n      stepKeys\n      pid\n      externalStdoutUrl\n      externalStderrUrl\n    }\n  }\n\n  ","\n"])),c.it)},13887:function(e,n,t){t.d(n,{m:function(){return u},v:function(){return c}});var r=t(65537),i=t.n(r),o=t(23662),a=t.n(o),s=t(23555),l=i()((function(){return a()(Object.values(s.i36).map(c)).sort()})),c=function(e){switch(e){case s.i36.PIPELINE_STARTING:return s.i36.RUN_STARTING;case s.i36.PIPELINE_ENQUEUED:return s.i36.RUN_ENQUEUED;case s.i36.PIPELINE_DEQUEUED:return s.i36.RUN_DEQUEUED;case s.i36.PIPELINE_STARTING:return s.i36.RUN_STARTING;case s.i36.PIPELINE_START:return s.i36.RUN_START;case s.i36.PIPELINE_SUCCESS:return s.i36.RUN_SUCCESS;case s.i36.PIPELINE_FAILURE:return s.i36.RUN_FAILURE;case s.i36.PIPELINE_CANCELING:return s.i36.RUN_CANCELING;case s.i36.PIPELINE_CANCELED:return s.i36.RUN_CANCELED;default:return e}},u=i()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{token:"step",values:function(){return e}},{token:"type",values:l},{token:"query",values:function(){return[]}}]}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.stringify(e)}))},75302:function(e,n,t){t.d(n,{m:function(){return i}});var r=t(15998),i=function(e){return"LogMessageEvent"===e.__typename?e.level:r.i.EVENT}},46856:function(e,n,t){t.d(n,{v:function(){return h}});var r=t(96234),i=t(60319),o=t(61623),a=t(32667),s=t(44229),l=t(78193),c=t(62122),u=t(43350),d=t(61442),p=t(35936),h=function(e){var n=e.timestamp,t=e.timezone,i=e.timeFormat,s=e.tooltipTimeFormat,u=l.useContext(c.JB),h=(0,r.Z)(u.timezone,1)[0],v=(0,r.Z)(u.hourCycle,1)[0],x=navigator.language,g=(0,d.j)({timestamp:{unix:n},locale:x,timezone:t||h,timeFormat:i,hourCycle:v});return(0,p.jsxs)("span",{children:[(0,p.jsx)(f,{style:{minWidth:0},title:g,children:g}),t&&t!==h?(0,p.jsx)(m,{placement:"top",content:(0,p.jsx)(f,{children:(0,d.j)({timestamp:{unix:n},locale:x,timezone:h,timeFormat:s})}),children:(0,p.jsx)(o.JO,{name:"schedule",color:a.w.Gray400,size:12})}):null]})};h.defaultProps={timeFormat:u._,tooltipTimeFormat:{showSeconds:!1,showTimezone:!0}};var f=i.ZP.span.withConfig({displayName:"TimestampDisplay__TabularNums",componentId:"sc-17rznt9-0"})(["font-variant-numeric:tabular-nums;"]),m=(0,i.ZP)(s.u).withConfig({displayName:"TimestampDisplay__TimestampTooltip",componentId:"sc-17rznt9-1"})(["cursor:pointer;position:relative;top:2px;margin-left:4px;"])},79936:function(e,n,t){t.d(n,{C:function(){return a}});var r=t(60319),i=t(61623),o=t(32667),a=r.ZP.button.withConfig({displayName:"ClearButton",componentId:"sc-1rz1pk2-0"})(["background:transparent;border:none;cursor:pointer;margin:0 -2px 0 0;padding:2px;","{background-color:",";transition:background-color 100ms linear;}:hover ",",:focus ","{background-color:",";}:active ","{background-color:",";}:focus{outline:none;}"],i.a1,o.w.Gray400,i.a1,i.a1,o.w.Gray700,i.a1,o.w.Dark)},64218:function(e,n,t){t.d(n,{j:function(){return T}});var r=t(33028),i=t(96234),o=t(41361),a=t(60319),s=t(32667),l=t(61623),c=t(47515),u=t(73070),d=t(85357),p=t(80923),h=t(17914),f=t(44229),m=t(45519),v=t(8236),x=t.n(v),g=t(23662),y=t.n(g),w=t(78193),b=t(97412),E=t(62709),j=t(46575),k=t(63167),C=t(35936),S=function(e,n){var t=n.length%3,r=e;if(0===n.length)return r;var i=n.map((function(e){return{incount:e.inputs.reduce((function(e,n){return e+n.dependsOn.length}),0),outcount:e.outputs.reduce((function(e,n){return e+n.dependedBy.length}),0),name:e.name}}));if(0===t){var o=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(o.name,"+*)")}else if(1===t){var a=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(a.name,"+)")}else if(2===t){var s=i.sort((function(e,n){return n.incount-e.incount}))[0];r="".concat(r," (ex: ++").concat(s.name,")")}return r},N=function(e){switch(e){case"danger":return s.w.Red500;case"success":return s.w.Green500;case"warning":return s.w.Yellow500;default:return s.w.Gray300}},T=w.memo(w.forwardRef((function(e,n){var t,a=w.useState(null),v=(0,i.Z)(a,2),x=v[0],g=v[1],T=w.useState(!1),I=(0,i.Z)(T,2),P=I[0],L=I[1],D=w.useState(e.value),M=(0,i.Z)(D,2),O=M[0],G=M[1],A=w.useRef(null),z=e.flattenGraphsEnabled||!1;w.useEffect((function(){G(e.value)}),[e.value]);var F=/(\*?\+*)([\w\d\[\]>_\/-]+)(\+*\*?)$/.exec(O),U=F||[],W=(0,i.Z)(U,4),K=W[1],H=W[2],V=W[3],B=w.useMemo((function(){return function(e,n,t){var r,i=n.map((function(e){var n=e,t=n.definition&&"CompositeSolidDefinition"===n.definition.__typename;return{name:e.name,isGraph:t}})),a=(0,o.Z)(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;(0,j.IL)(s.name)&&i.push({name:(0,j.pr)(s.name),isGraph:s.isGraph})}}catch(u){a.e(u)}finally{a.f()}var l=null===e||void 0===e?void 0:e.toLowerCase(),c=l&&!t?y()(i).sort().filter((function(e){return e.name.toLowerCase().startsWith(l)})):[];return 1===c.length&&c[0].name.toLowerCase()===l?[]:c}(H,e.items,V)}),[H,e.items,V]),X=function(e){var n=F?O.substr(0,F.index):"";G(n+K+'"'.concat(e,'"')+V)};w.useEffect((function(){if(x){var e=B.map((function(e){return e.name})).findIndex((function(e){return e===x.text})),n=-1!==e?e:x.idx;if(n=Math.max(0,Math.min(B.length-1,n)),B[n]){var t=B[n].name;n===x.idx&&t===x.text||g({text:t,idx:n})}}}),[x,B]),w.useImperativeHandle(n,(function(){return{focus:function(){A.current&&A.current.focus()}}}));var J=w.useRef(null);w.useEffect((function(){var e=function(e){var n=J.current,t=A.current,r=e.target;if(z&&null!=n&&null!=t&&r instanceof Node){var i=n.contains(r);L(i),t.contains(r)&&t.focus()}};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[z]);var q=(O||"*")!==(e.value||"*"),Y=e.flattenGraphs?"!":"",Q=e.linkToPreview&&(0,C.jsxs)(_,{$hasWrap:z,children:["".concat((0,E.V)(e.items,O).all.length," matching ops"),(0,C.jsxs)(b.rU,{target:"_blank",style:{display:"flex",alignItems:"center",gap:4},onMouseDown:function(e){return e.currentTarget.click()},to:(0,k.jT)((0,r.Z)((0,r.Z)({},e.linkToPreview),{},{pipelineName:"".concat(e.linkToPreview.pipelineName,"~").concat(Y).concat(O)})),children:["Graph Preview ",(0,C.jsx)(l.JO,{color:s.w.Link,name:"open_in_new"})]})]});return(0,C.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,C.jsx)(u.J,{enforceFocus:!z,isOpen:P,position:e.popoverPosition||"top-left",content:B.length?(0,C.jsx)(d.v2,{style:{width:e.width||"24vw"},children:B.slice(0,15).map((function(e){return(0,C.jsx)(d.sN,{icon:e.isGraph?"job":"op",text:e.name,active:!!x&&x.text===e.name,onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),X(e.name)}},e.name)}))}):(0,C.jsx)("div",{}),children:(0,C.jsxs)("div",{style:{position:"relative"},ref:J,children:[(0,C.jsx)(p.oi,{disabled:e.disabled,value:O,icon:"op_selector",strokeColor:N(e.intent),autoFocus:e.autoFocus,placeholder:S(e.placeholder,e.items),onChange:function(n){G(n.target.value),e.autoApplyChanges&&e.onChange(n.target.value)},onFocus:function(){var n;z||L(!0),null===(n=e.onFocus)||void 0===n||n.call(e)},onBlur:function(){var n;z||L(!1),e.onChange(O),null===(n=e.onBlur)||void 0===n||n.call(e,O)},onKeyDown:function(n){var t;"Enter"!==n.key&&"Return"!==n.key&&"Tab"!==n.key||(x&&x.text?(X(x.text),n.preventDefault(),n.stopPropagation()):n.currentTarget.blur(),g(null));var r={ArrowDown:1,ArrowUp:-1}[n.key];if(r&&B.length>0){n.preventDefault();var i=(x?x.idx:-1)+r;i=Math.max(0,Math.min(i,B.length-1)),g({text:B[i].name,idx:i})}null===(t=e.onKeyDown)||void 0===t||t.call(e,n)},style:{width:e.width||"24vw",paddingRight:P&&q?55:""},className:e.className,ref:A}),P&&q&&(0,C.jsx)(Z,{children:"Enter"}),P&&e.linkToPreview&&(z?(0,C.jsxs)(R,{children:[(0,C.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,C.jsx)(h.X,{label:"Flatten subgraphs",checked:null!==(t=e.flattenGraphs)&&void 0!==t&&t,onChange:function(){var n;null===(n=e.setFlattenGraphs)||void 0===n||n.call(e)},format:"switch"}),(0,C.jsx)(f.u,{content:"Flatten subgraphs to select ops within nested graphs",placement:"right",children:(0,C.jsx)(l.JO,{name:"info",color:s.w.Gray500})})]}),Q]}):Q)]})}),e.presets&&(e.presets.find((function(e){return e.value===O}))?(0,C.jsx)(m.zx,{icon:(0,C.jsx)(l.JO,{name:"layers"}),rightIcon:(0,C.jsx)(l.JO,{name:"cancel"}),onClick:function(){return e.onChange("*")},intent:"none"}):(0,C.jsx)(u.J,{position:"top",content:(0,C.jsx)(d.v2,{children:e.presets.map((function(n){return(0,C.jsx)(d.sN,{text:n.name,onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),e.onChange(n.value)}},n.name)}))}),children:(0,C.jsx)(m.zx,{icon:(0,C.jsx)(l.JO,{name:"layers"}),rightIcon:(0,C.jsx)(l.JO,{name:"expand_less"}),intent:"none"})}))]})})),(function(e,n){return e.items===n.items&&e.width===n.width&&e.value===n.value&&x()(e.presets,n.presets)})),R=a.ZP.div.withConfig({displayName:"GraphQueryInput__OpInfoWrap",componentId:"sc-103wxn4-0"})(["width:350px;padding:10px 16px 10px 16px;display:flex;align-items:baseline;justify-content:space-between;position:absolute;top:100%;margin-top:2px;font-size:0.85rem;background:",";color:",";box-shadow:1px 1px 3px rgba(0,0,0,0.2);z-index:2;left:0;"],s.w.White,s.w.Gray600),_=(0,a.ZP)(R).withConfig({displayName:"GraphQueryInput__OpCountWrap",componentId:"sc-103wxn4-1"})(["margin-top:","px;"],(function(e){return e.$hasWrap?0:2})),Z=a.ZP.div.withConfig({displayName:"GraphQueryInput__EnterHint",componentId:"sc-103wxn4-2"})(["position:absolute;right:6px;top:5px;border-radius:5px;border:1px solid ",";background:",";font-weight:500;font-size:12px;color:",";padding:2px 6px;"],s.w.Gray500,s.w.White,s.w.Gray500)},25960:function(e,n,t){t.d(n,{J:function(){return o},V:function(){return i}});var r=new Intl.NumberFormat(navigator.language,{compactDisplay:"short",notation:"compact"}),i=new Intl.NumberFormat(navigator.language,{}),o=function(e){return r.format(e)}},21189:function(e,n,t){t.d(n,{h:function(){return c}});t(78193);var r=t(58277),i=t(45519),o=t(32667),a=t(61623),s=t(44229),l=t(35936),c=function(e){var n=e.activeItems,t=e.buttons,c=e.onClick;return(0,l.jsx)(i.zH,{children:t.map((function(e){var t=e.id,i=e.icon,u=e.label,d=e.tooltip,p=null===n||void 0===n?void 0:n.has(t),h=(0,l.jsx)(r.Y,{fillColor:p?o.w.Gray200:o.w.White,textColor:p?o.w.Gray900:o.w.Gray700,icon:i?(0,l.jsx)(a.JO,{name:i,color:p?o.w.Gray900:o.w.Gray700}):null,label:u,onClick:function(e){return c(t,e)}},t);return d?(0,l.jsx)(s.u,{content:d,position:"top",children:h},t):h}))})}},86562:function(e,n,t){t.d(n,{Rp:function(){return c},b$:function(){return s},pI:function(){return l}});var r=t(60319),i=(t(78193),t(45519)),o=t(61623),a=t(35936),s=function(e){var n=e.hasPrevCursor,t=e.hasNextCursor,r=e.popCursor,s=e.advanceCursor;return(0,a.jsxs)(c,{children:[(0,a.jsx)(i.zx,{disabled:!n,icon:(0,a.jsx)(o.JO,{name:"arrow_back"}),onClick:r,children:"Previous"}),(0,a.jsx)(i.zx,{disabled:!t,rightIcon:(0,a.jsx)(o.JO,{name:"arrow_forward"}),onClick:s,children:"Next"})]})},l=function(e){var n=e.hasPrevCursor,t=e.hasNextCursor,r=e.popCursor,s=e.advanceCursor;return(0,a.jsxs)(c,{children:[(0,a.jsx)(i.zx,{icon:(0,a.jsx)(o.JO,{name:"arrow_back"}),disabled:!n,onClick:r,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,a.jsx)(i.zx,{rightIcon:(0,a.jsx)(o.JO,{name:"arrow_forward"}),disabled:!t,onClick:s,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},c=r.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])},62725:function(e,n,t){t.d(n,{iR:function(){return p},kp:function(){return h}});var r,i=t(71171),o=t(33028),a=t(59740),s=t(60319),l=t(80018),c=(t(78193),t(32667)),u=t(35936),d=["fillColor"],p=function(e){var n=e.fillColor,t=void 0===n?c.w.Gray600:n,r=(0,a.Z)(e,d);return(0,u.jsx)(f,(0,o.Z)((0,o.Z)({},r),{},{intent:"none",$fillColor:t}))};l.Zz.Handle;var h=(0,s.iv)(r||(r=(0,i.Z)(["\n  .bp4-slider-track {\n    height: 8px;\n    .bp4-slider-progress {\n      background-color: ",";\n      opacity: 0.2;\n      height: 8px;\n    }\n    .bp4-slider-progress.bp4-intent-primary {\n      background-color: ",";\n      opacity: 1;\n      height: 8px;\n    }\n  }\n  &.bp4-vertical {\n    width: 20px;\n    min-width: 20px;\n  }\n  &.bp4-vertical .bp4-slider-track,\n  &.bp4-vertical .bp4-slider-track .bp4-slider-progress {\n    height: initial;\n    width: 8px;\n  }\n  .bp4-slider-handle {\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    background: ",";\n    box-shadow: none;\n    &:hover {\n      border: 2px solid ",";\n      box-shadow: rgba(0, 0, 0, 0.12) 0px 2px 12px 0px;\n    }\n\n    .bp4-slider-label {\n      background: ",";\n      box-shadow: 0 1px 4px rgba(0,0,0,0.15)\n      padding: 4px 8px;\n    }\n  }\n"])),(function(e){return e.$fillColor}),(function(e){return e.$fillColor}),c.w.Gray300,c.w.White,c.w.Gray400,c.w.Gray900),f=((0,s.ZP)(l.Zz).withConfig({displayName:"Slider__StyledMultiSlider",componentId:"sc-1nudt3n-0"})(["",""],h),(0,s.ZP)(l.iR).withConfig({displayName:"Slider__StyledSlider",componentId:"sc-1nudt3n-1"})(["",""],h))},84464:function(e,n,t){t.d(n,{OS:function(){return m},Uj:function(){return g},jo:function(){return x}});var r=t(96234),i=t(9249),o=t(87371),a=t(45754),s=t(86906),l=t(60319),c=t(78193),u=t(45519),d=t(21189),p=t(32667),h=t(61623),f=t(35936),m=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).onChangeSize=function(e){r.setState({size:e}),window.localStorage.setItem(r.state.key,"".concat(e))};var o="dagit.panel-width.".concat(r.props.identifier),a=window.localStorage.getItem(o),s=Number(a);return(null===a||isNaN(s))&&(s=r.props.firstInitialPercent),r.state={size:s,key:o,resizing:!1},r}return(0,o.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.firstMinSize,r=n.first,i=n.second,o=this.state,a=o.size,s=o.resizing,l=this.props.axis||"horizontal",c={flexShrink:0},u=i?a:100;return"horizontal"===l?(c.minWidth=t,c.width="calc(".concat(u,"% - ").concat(2,"px)")):(c.minHeight=t,c.height="calc(".concat(u,"% - ").concat(2,"px)")),(0,f.jsxs)(b,{axis:l,id:"split-panel-container",resizing:s,children:[(0,f.jsx)("div",{className:"split-panel",style:c,children:r}),(0,f.jsx)(v,{axis:l,resizing:s,onSetResizing:function(n){return e.setState({resizing:n})},onMove:this.onChangeSize}),(0,f.jsx)("div",{className:"split-panel",style:{flex:1},children:i})]})}}]),t}(c.Component),v=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).ref=c.createRef(),e.onMouseDown=function(n){n.preventDefault(),e.props.onSetResizing(!0);var t=function(n){var t,r=null===(t=e.ref.current)||void 0===t?void 0:t.closest("#split-panel-container");if(r){var i=r.getBoundingClientRect(),o="horizontal"===e.props.axis?100*(n.clientX-i.left)/i.width:100*(n.clientY-i.top)/i.height;e.props.onMove(Math.min(100,Math.max(0,o)))}};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function n(){e.props.onSetResizing(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}))},e}return(0,o.Z)(t,[{key:"render",value:function(){var e=y[this.props.axis],n=w[this.props.axis];return(0,f.jsx)(e,{resizing:this.props.resizing,ref:this.ref,children:(0,f.jsx)(n,{onMouseDown:this.onMouseDown})})}}]),t}(c.Component),x=function(e){var n=e.container,t=e.axis;return(0,f.jsx)(d.h,{buttons:[{id:"first-pane",icon:"vertical"===t?"panel_show_top":"panel_show_left",tooltip:"vertical"===t?"Show only top pane":"Show only left pane"},{id:"split",icon:"panel_show_both",tooltip:"Show both panes"},{id:"second-pane",icon:"vertical"===t?"panel_show_bottom":"panel_show_right",tooltip:"vertical"===t?"Show only bottom pane":"Show only right pane"}],onClick:function(e){var t,r=50;"first-pane"===e?r=100:"second-pane"===e&&(r=0),null===(t=n.current)||void 0===t||t.onChangeSize(r)}})},g=function(e){var n,t=e.container,i=e.axis,o=c.useState("unknown"),a=(0,r.Z)(o,2),s=a[0],l=a[1],d=((null===(n=t.current)||void 0===n?void 0:n.state.size)||0)<100,p=c.useState(d),m=(0,r.Z)(p,2),v=m[0],x=m[1];return c.useEffect((function(){return x(d)}),[d]),(0,f.jsx)(u.zx,{active:v,title:"Toggle second pane",icon:(0,f.jsx)(h.JO,{name:"horizontal"===i?v?"panel_hide_right":"panel_show_right":"panel_show_bottom"}),onClick:function(){if(t.current){var e=t.current.state.size;e<90?(l(e),x(!1),t.current.onChangeSize(100)):(x(!0),t.current.onChangeSize("unknown"===s?t.current.props.firstInitialPercent:s))}}})},y={horizontal:l.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-0"})(["width:","px;z-index:1;background:",";margin-left:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray})),vertical:l.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-1"})(["height:","px;z-index:1;background:",";margin-top:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray}))},w={horizontal:l.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-2"})(["width:17px;height:100%;z-index:1;cursor:ew-resize;position:relative;left:-8px;"]),vertical:l.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-3"})(["height:17px;width:100%;z-index:1;cursor:ns-resize;position:relative;top:-8px;"])},b=l.ZP.div.withConfig({displayName:"SplitPanelContainer__Container",componentId:"sc-1e9d8f9-4"})(["display:flex;overflow:hidden;flex-direction:",";flex:1 1;width:100%;min-width:0;min-height:0;.split-panel{position:relative;transition:"," 200ms ease-out;flex-direction:column;display:flex;min-",":0;z-index:0;}"],(function(e){return"vertical"===e.axis?"column":"row"}),(function(e){var n=e.axis;return e.resizing?"none":"horizontal"===n?"width":"height"}),(function(e){return"vertical"===e.axis?"height":"width"}))},2838:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(33028),i=t(96234),o=t(48652),a=t.n(o),s=t(78193),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s.useRef(),t=s.useState({left:0,top:0}),o=(0,i.Z)(t,2),l=o[0],c=o[1],u=s.useState({width:0,height:0}),d=(0,i.Z)(u,2),p=d[0],h=d[1],f=e.initialOffset,m=s.useCallback((function(){if(n.current){var e,t=function(e){h({width:e.width,height:e.height});var t=n.current;if(t){var r=t.element;if(!t.__sized&&0!==e.width&&f){var i=f(r);r.scrollTop=i.top,r.scrollLeft=i.left,c(i),t.__sized=!0}}},r=n.current.element;return r instanceof HTMLElement&&("ResizeObserver"in window?(e=new window.ResizeObserver((function(e){window.requestAnimationFrame((function(){var n;(null===(n=e[0])||void 0===n?void 0:n.target)===r&&t({width:r.clientWidth,height:r.clientHeight})}))}))).observe(r):(console.warn("No ResizeObserver support, or useViewport is attached to a non-DOM node?"),t({width:r.clientWidth,height:r.clientHeight}))),function(){var n;null===(n=e)||void 0===n||n.disconnect()}}}),[f]);s.useEffect(m,[m]);var v=s.useRef(null),x=s.useCallback((function(e){var t;e!==(null===(t=n.current)||void 0===t?void 0:t.element)&&(n.current={element:e,__sized:!1},m())}),[m]);return{viewport:(0,r.Z)((0,r.Z)({},l),p),containerProps:{ref:x,onScroll:function(e){Math.floor(l.left)===e.currentTarget.scrollLeft&&Math.floor(l.top)===e.currentTarget.scrollTop||(v.current&&v.current.cancel(),c({left:e.currentTarget.scrollLeft,top:e.currentTarget.scrollTop}))}},onMoveToViewport:function(e,t){var r,i=null===(r=n.current)||void 0===r?void 0:r.element;if(i){var o=i.clientWidth,s=i.clientHeight;v.current&&(v.current.cancel(),v.current=null),e.left=Math.min(i.scrollWidth-o,Math.max(0,e.left)),e.top=Math.min(i.scrollHeight-s,Math.max(0,e.top));var u=function(){i.scrollTop=e.top,i.scrollLeft=e.left,c(e),v.current=null};t?v.current=a()(l,e,{step:function(e){i.scrollTop=e.top,i.scrollLeft=e.left,c({left:e.left,top:e.top})},done:u}):u()}}}}}}]);
//# sourceMappingURL=780.ec56f019.chunk.js.map